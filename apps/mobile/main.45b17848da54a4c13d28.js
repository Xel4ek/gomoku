(self.webpackChunkgomoku=self.webpackChunkgomoku||[]).push([[179],{586:Rs=>{function yr(pi){return Promise.resolve().then(()=>{var Ti=new Error("Cannot find module '"+pi+"'");throw Ti.code="MODULE_NOT_FOUND",Ti})}yr.keys=()=>[],yr.resolve=yr,yr.id=586,Rs.exports=yr},930:(Rs,yr,pi)=>{"use strict";function Ti(n){return"function"==typeof n}let _u=!1;const Mi={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else _u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_u=n},get useDeprecatedSynchronousErrorHandling(){return _u}};function Xo(n){setTimeout(()=>{throw n},0)}const an={closed:!0,next(n){},error(n){if(Mi.useDeprecatedSynchronousErrorHandling)throw n;Xo(n)},complete(){}},Vn=Array.isArray||(n=>n&&"number"==typeof n.length);function yu(n){return null!==n&&"object"==typeof n}const Mo=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class pt{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof pt)t.remove(this);else if(null!==t)for(let s=0;s<t.length;++s)t[s].remove(this);if(Ti(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(s){e=s instanceof Mo?Id(s.errors):[s]}}if(Vn(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(yu(l))try{l.unsubscribe()}catch(u){e=e||[],u instanceof Mo?e=e.concat(Id(u.errors)):e.push(u)}}}if(e)throw new Mo(e)}add(e){let t=e;if(!e)return pt.EMPTY;switch(typeof e){case"function":t=new pt(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof pt)){const o=t;t=new pt,t._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof pt){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function Id(n){return n.reduce((e,t)=>e.concat(t instanceof Mo?t.errors:t),[])}pt.EMPTY=((n=new pt).closed=!0,n);const Fs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ne extends pt{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=an;break;case 1:if(!e){this.destination=an;break}if("object"==typeof e){e instanceof Ne?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new vu(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new vu(this,e,t,i)}}[Fs](){return this}static create(e,t,i){const r=new Ne(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class vu extends Ne{constructor(e,t,i,r){super(),this._parentSubscriber=e;let o,s=this;Ti(t)?o=t:t&&(o=t.next,i=t.error,r=t.complete,t!==an&&(s=Object.create(t),Ti(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;Mi.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=Mi;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):Xo(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Xo(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);Mi.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),Mi.useDeprecatedSynchronousErrorHandling)throw i;Xo(i)}}__tryOrSetError(e,t,i){if(!Mi.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return Mi.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Xo(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Ns="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ei(n){return n}function bu(...n){return gi(n)}function gi(n){return 0===n.length?Ei:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Te=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:o}=this,s=function(n,e,t){if(n){if(n instanceof Ne)return n;if(n[Fs])return n[Fs]()}return n||e||t?new Ne(n,e,t):new Ne(an)}(t,i,r);if(s.add(o?o.call(s,this.source):this.source||Mi.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Mi.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){Mi.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof Ne?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=Ve(i))((r,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),s&&s.unsubscribe()}},o,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[Ns](){return this}pipe(...t){return 0===t.length?this:gi(t)(this)}toPromise(t){return new(t=Ve(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Ve(n){if(n||(n=Mi.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Ui=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class wu extends pt{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class La extends Ne{constructor(e){super(e),this.destination=e}}let Nt=(()=>{class n extends Te{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Fs](){return new La(this)}lift(t){const i=new Od(this,this);return i.operator=t,i}next(t){if(this.closed)throw new Ui;if(!this.isStopped){const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].next(t)}}error(t){if(this.closed)throw new Ui;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new Ui;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let o=0;o<i;o++)r[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Ui;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Ui;return this.hasError?(t.error(this.thrownError),pt.EMPTY):this.isStopped?(t.complete(),pt.EMPTY):(this.observers.push(t),new wu(this,t))}asObservable(){const t=new Te;return t.source=this,t}}return n.create=(e,t)=>new Od(e,t),n})();class Od extends Nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):pt.EMPTY}}function Wr(n){return n&&"function"==typeof n.schedule}function J(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Pd(n,e))}}class Pd{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new Rd(e,this.project,this.thisArg))}}class Rd extends Ne{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const Va=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},Ba="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Nd=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function kd(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Du=n=>{if(n&&"function"==typeof n[Ns])return(n=>e=>{const t=n[Ns]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(Nd(n))return Va(n);if(kd(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Xo),e))(n);if(n&&"function"==typeof n[Ba])return(n=>e=>{const t=n[Ba]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${yu(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Cu(n,e){return new Te(t=>{const i=new pt;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function z(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[Ns]}(n))return function(n,e){return new Te(t=>{const i=new pt;return i.add(e.schedule(()=>{const r=n[Ns]();i.add(r.subscribe({next(o){i.add(e.schedule(()=>t.next(o)))},error(o){i.add(e.schedule(()=>t.error(o)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(kd(n))return function(n,e){return new Te(t=>{const i=new pt;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(Nd(n))return Cu(n,e);if(function(n){return n&&"function"==typeof n[Ba]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new Te(t=>{const i=new pt;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[Ba](),i.add(e.schedule(function(){if(t.closed)return;let o,s;try{const a=r.next();o=a.value,s=a.done}catch(a){return void t.error(a)}s?t.complete():(t.next(o),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof Te?n:new Te(Du(n))}class Me extends Ne{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class zt extends Ne{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Gi(n,e){if(e.closed)return;if(n instanceof Te)return n.subscribe(e);let t;try{t=Du(n)(e)}catch(i){e.error(i)}return t}function Gt(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Gt((r,o)=>z(n(r,o)).pipe(J((s,a)=>e(r,s,o,a))),t)):("number"==typeof e&&(t=e),i=>i.lift(new Mu(n,t)))}class Mu{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Vd(e,this.project,this.concurrent))}}class Vd extends zt{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new Me(this),i=this.destination;i.add(t);const r=Gi(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Vs(n=Number.POSITIVE_INFINITY){return Gt(Ei,n)}function Eu(n,e){return e?Cu(n,e):new Te(Va(n))}function st(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return Wr(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof Te?n[0]:Vs(e)(Eu(n,t))}function Su(){return function(e){return e.lift(new $a(e))}}class $a{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new gg(e,i),o=t.subscribe(r);return r.closed||(r.connection=i.connect()),o}}class gg extends Ne{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class Hd extends Te{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new pt,e.add(this.source.subscribe(new xu(this.getSubject(),this))),e.closed&&(this._connection=null,e=pt.EMPTY)),e}refCount(){return Su()(this)}}const mg=(()=>{const n=Hd.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class xu extends La{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Iu(){return new Nt}function Hs(){return n=>Su()(function(n,e){return function(i){let r;r="function"==typeof n?n:function(){return n};const o=Object.create(i,mg);return o.source=i,o.subjectFactory=r,o}}(Iu)(n))}function tt(n){for(let e in n)if(n[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function Ou(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function mi(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Pu=tt({__forward_ref__:tt});function le(n){return n.__forward_ref__=le,n.toString=function(){return Re(this())},n}function oe(n){return jd(n)?n():n}function jd(n){return"function"==typeof n&&n.hasOwnProperty(Pu)&&n.__forward_ref__===le}class Kr extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function be(n){return"string"==typeof n?n:null==n?"":String(n)}function it(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():be(n)}function Bs(n,e){const t=e?` in ${e}`:"";throw new Kr("201",`No provider for ${it(n)} found${t}`)}function un(n,e){null==n&&function(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}const Nu=K;function G(n){return{providers:n.providers||[],imports:n.imports||[]}}function On(n){return Ga(n,ns)||Ga(n,Lu)}function Ga(n,e){return n.hasOwnProperty(e)?n[e]:null}function Kd(n){return n&&(n.hasOwnProperty(Wa)||n.hasOwnProperty(qa))?n[Wa]:null}const ns=tt({\u0275prov:tt}),Wa=tt({\u0275inj:tt}),Lu=tt({ngInjectableDef:tt}),qa=tt({ngInjectorDef:tt});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let Vu;function vr(n){const e=Vu;return Vu=n,e}function Hu(n,e,t){const i=On(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&se.Optional?null:void 0!==e?e:void Bs(Re(n),"Injector")}function Zr(n){return{toString:n}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),kt=(()=>((kt=kt||{})[kt.Emulated=0]="Emulated",kt[kt.None=2]="None",kt[kt.ShadowDom=3]="ShadowDom",kt))();const Qd="undefined"!=typeof globalThis&&globalThis,Mg="undefined"!=typeof window&&window,ue="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,R=Qd||"undefined"!=typeof global&&global||Mg||ue,Lt={},Ee=[],Jt=tt({\u0275cmp:tt}),xi=tt({\u0275dir:tt}),Eo=tt({\u0275pipe:tt}),Bu=tt({\u0275mod:tt}),Eg=tt({\u0275loc:tt}),Jr=tt({\u0275fac:tt}),$u=tt({__NG_ELEMENT_ID__:tt});let RO=0;function je(n){return Zr(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ee,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||kt.Emulated,id:"c",styles:n.styles||Ee,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=RO++,i.inputs=bb(n.inputs,t),i.outputs=bb(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(_b):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yb):null,i})}function _b(n){return ei(n)||function(n){return n[xi]||null}(n)}function yb(n){return function(n){return n[Eo]||null}(n)}const vb={};function Z(n){return Zr(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ee,declarations:n.declarations||Ee,imports:n.imports||Ee,exports:n.exports||Ee,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(vb[n.id]=n.type),e})}function bb(n,e){if(null==n)return Lt;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}const L=je;function Pn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ei(n){return n[Jt]||null}function Wi(n,e){const t=n[Bu]||null;if(!t&&!0===e)throw new Error(`Type ${Re(n)} does not have '\u0275mod' property.`);return t}function Xr(n){return Array.isArray(n)&&"object"==typeof n[1]}function wr(n){return Array.isArray(n)&&!0===n[1]}function Ag(n){return 0!=(8&n.flags)}function Xd(n){return 2==(2&n.flags)}function eh(n){return 1==(1&n.flags)}function Dr(n){return null!==n.template}function BO(n){return 0!=(512&n[2])}function Ws(n,e){return n.hasOwnProperty(Jr)?n[Jr]:null}class Db{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Cn(){return Cb}function Cb(n){return n.type.prototype.ngOnChanges&&(n.setInput=zO),UO}function UO(){const n=Mb(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Lt)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function zO(n,e,t,i){const r=Mb(n)||function(n,e){return n[Tb]=e}(n,{previous:Lt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[t],l=s[a];o[a]=new Db(l&&l.currentValue,e,s===Lt),n[i]=e}Cn.ngInherit=!0;const Tb="__ngSimpleChanges__";function Mb(n){return n[Tb]||null}const Eb="http://www.w3.org/2000/svg";let Pg;function Rg(){return void 0!==Pg?Pg:"undefined"!=typeof document?document:void 0}function Wt(n){return!!n.listen}const xb={createRenderer:(n,e)=>Rg()};function cn(n){for(;Array.isArray(n);)n=n[0];return n}function th(n,e){return cn(e[n])}function Qi(n,e){return cn(e[n.index])}function Fg(n,e){return n.data[e]}function Ja(n,e){return n[e]}function Ii(n,e){const t=e[n];return Xr(t)?t:t[0]}function Ab(n){return 4==(4&n[2])}function Ng(n){return 128==(128&n[2])}function rs(n,e){return null==e?null:n[e]}function Ib(n){n[18]=0}function kg(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const De={lFrame:Vb(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ob(){return De.bindingsEnabled}function k(){return De.lFrame.lView}function Je(){return De.lFrame.tView}function Zi(n){return De.lFrame.contextLView=n,n[8]}function pn(){let n=Pb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Pb(){return De.lFrame.currentTNode}function eo(n,e){const t=De.lFrame;t.currentTNode=n,t.isParent=e}function Lg(){return De.lFrame.isParent}function Vg(){De.lFrame.isParent=!1}function nh(){return De.isInCheckNoChangesMode}function ih(n){De.isInCheckNoChangesMode=n}function ti(){const n=De.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function to(){return De.lFrame.bindingIndex}function Xa(){return De.lFrame.bindingIndex++}function So(n){const e=De.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function oP(n,e){const t=De.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hg(e)}function Hg(n){De.lFrame.currentDirectiveIndex=n}function Bg(n){const e=De.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Nb(){return De.lFrame.currentQueryIndex}function $g(n){De.lFrame.currentQueryIndex=n}function aP(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function kb(n,e,t){if(t&se.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&se.Host||(r=aP(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;e=r,n=o}const i=De.lFrame=Lb();return i.currentTNode=e,i.lView=n,!0}function rh(n){const e=Lb(),t=n[1];De.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Lb(){const n=De.lFrame,e=null===n?null:n.child;return null===e?Vb(n):e}function Vb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Hb(){const n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Bb=Hb;function oh(){const n=Hb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ni(){return De.lFrame.selectedIndex}function os(n){De.lFrame.selectedIndex=n}function qt(){const n=De.lFrame;return Fg(n.tView,n.selectedIndex)}function xo(){De.lFrame.currentNamespace=Eb}function sh(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function ah(n,e,t){jb(n,e,3,t)}function lh(n,e,t,i){(3&n[2])===t&&jb(n,e,t,i)}function jg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function jb(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(pP(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function pP(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Wu{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function uh(n,e,t){const i=Wt(n);let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const s=t[r++],a=t[r++],l=t[r++];i?n.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=t[++r];zg(s)?i&&n.setProperty(e,s,a):i?n.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function Ub(n){return 3===n||4===n||6===n}function zg(n){return 64===n.charCodeAt(0)}function ch(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||zb(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function zb(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function Gb(n){return-1!==n}function el(n){return 32767&n}function tl(n,e){let t=function(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Gg=!0;function dh(n){const e=Gg;return Gg=n,e}let bP=0;function Ku(n,e){const t=qg(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Wg(i.data,n),Wg(e,null),Wg(i.blueprint,null));const r=hh(n,e),o=n.injectorIndex;if(Gb(r)){const s=el(r),a=tl(r,e),l=a[1].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=r,o}function Wg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function qg(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function hh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function fh(n,e,t){!function(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty($u)&&(i=t[$u]),null==i&&(i=t[$u]=bP++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function Kb(n,e,t){if(t&se.Optional)return n;Bs(e,"NodeInjector")}function Qb(n,e,t,i){if(t&se.Optional&&void 0===i&&(i=null),0==(t&(se.Self|se.Host))){const r=n[9],o=vr(void 0);try{return r?r.get(e,i,t&se.Optional):Hu(e,i,t&se.Optional)}finally{vr(o)}}return Kb(i,e,t)}function Zb(n,e,t,i=se.Default,r){if(null!==n){const o=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty($u)?n[$u]:void 0;return"number"==typeof e?e>=0?255&e:CP:e}(t);if("function"==typeof o){if(!kb(e,n,i))return i&se.Host?Kb(r,t,i):Qb(e,t,i,r);try{const s=o(i);if(null!=s||i&se.Optional)return s;Bs(t)}finally{Bb()}}else if("number"==typeof o){let s=null,a=qg(n,e),l=-1,u=i&se.Host?e[16][6]:null;for((-1===a||i&se.SkipSelf)&&(l=-1===a?hh(n,e):e[a+8],-1!==l&&Xb(i,!1)?(s=e[1],a=el(l),e=tl(l,e)):a=-1);-1!==a;){const c=e[1];if(Jb(o,a,c.data)){const d=TP(a,e,t,s,i,u);if(d!==Yb)return d}l=e[a+8],-1!==l&&Xb(i,e[1].data[a+8]===u)&&Jb(o,a,e)?(s=c,a=el(l),e=tl(l,e)):a=-1}}}return Qb(e,t,i,r)}const Yb={};function CP(){return new nl(pn(),k())}function TP(n,e,t,i,r,o){const s=e[1],a=s.data[n+8],c=ph(a,s,t,null==i?Xd(a)&&Gg:i!=s&&0!=(3&a.type),r&se.Host&&o===a);return null!==c?Qu(e,s,c,a):Yb}function ph(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,c=o>>20,h=r?a+c:n.directiveEnd;for(let f=i?a:a+c;f<h;f++){const p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=s[l];if(f&&Dr(f)&&f.type===t)return l}return null}function Qu(n,e,t,i){let r=n[t];const o=e.data;if(function(n){return n instanceof Wu}(r)){const s=r;s.resolving&&function(n,e){throw new Kr("200",`Circular dependency in DI detected for ${n}`)}(it(o[t]));const a=dh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?vr(s.injectImpl):null;kb(n,i,se.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Cb(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&vr(l),dh(a),s.resolving=!1,Bb()}}return r}function Jb(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Xb(n,e){return!(n&se.Self||n&se.Host&&e)}class nl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Zb(this._tNode,this._lView,e,i,t)}}function Xe(n){return Zr(()=>{const e=n.prototype.constructor,t=e[Jr]||Kg(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Jr]||Kg(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Kg(n){return jd(n)?()=>{const e=Kg(oe(n));return e&&e()}:Ws(n)}function qs(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Ub(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(pn(),n)}const rl="__parameters__",ol="__prop__metadata__";function Qg(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}function Ks(n,e,t){return Zr(()=>{const i=Qg(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(rl)?l[rl]:Object.defineProperty(l,rl,{value:[]})[rl];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function as(n,e,t,i){return Zr(()=>{const r=Qg(e);function o(...s){if(this instanceof o)return r.apply(this,s),this;const a=new o(...s);return function(u,c){const d=u.constructor,h=d.hasOwnProperty(ol)?d[ol]:Object.defineProperty(d,ol,{value:{}})[ol];h[c]=h.hasOwnProperty(c)&&h[c]||[],h[c].unshift(a),i&&i(u,c,...s)}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}function EP(){return Ks("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>qs(n)}))}const Zg=EP();class P{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const SP=new P("AnalyzeForEntryComponents");class gh{}const Yg=as("ContentChildren",(n,e={})=>Object.assign({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},e),gh),mh=as("ContentChild",(n,e={})=>Object.assign({selector:n,first:!0,isViewQuery:!1,descendants:!0},e),gh),xP=as("ViewChildren",(n,e={})=>Object.assign({selector:n,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},e),gh),no=as("ViewChild",(n,e)=>Object.assign({selector:n,first:!0,isViewQuery:!0,descendants:!0},e),gh),_h=Function;function Yi(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Yi(i,e)):e!==n&&e.push(i)}return e}function io(n,e){n.forEach(t=>Array.isArray(t)?io(t,e):e(t))}function vh(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qs(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ls(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Oi(n,e,t){let i=sl(n,e);return i>=0?n[1|i]=t:(i=~i,function(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Jg(n,e){const t=sl(n,e);if(t>=0)return n[1|t]}function sl(n,e){return function(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Xu={},em="__NG_DI_FLAG__",al="ngTempTokenPath",VP=/\n/gm,tm="__source",nm=tt({provide:String,useValue:tt});let ec;function ll(n){const e=ec;return ec=n,e}function BP(n,e=se.Default){if(void 0===ec)throw new Error("inject() must be called from an injection context");return null===ec?Hu(n,void 0,e):ec.get(n,e&se.Optional?null:void 0,e)}function O(n,e=se.Default){return(Vu||BP)(oe(n),e)}const qe=O;function Zs(n){const e=[];for(let t=0;t<n.length;t++){const i=oe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,o=se.Default;for(let s=0;s<i.length;s++){const a=i[s],l=$P(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(O(r,o))}else e.push(O(i))}return e}function tc(n,e){return n[em]=e,n.prototype[em]=e,n}function $P(n){return n[em]}function ow(n,e,t,i){const r=n[al];throw e[tm]&&r.unshift(e[tm]),n.message=function(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Re(e);if(Array.isArray(e))r=e.map(Re).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Re(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(VP,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[al]=null,n}const y=tc(Ks("Inject",n=>({token:n})),-1),Ke=tc(Ks("Optional"),8),Cr=tc(Ks("Self"),2),ro=tc(Ks("SkipSelf"),4);let Dh,Ch;function cl(n){var e;return(null===(e=function(){if(void 0===Dh&&(Dh=null,R.trustedTypes))try{Dh=R.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dh}())||void 0===e?void 0:e.createHTML(n))||n}function cw(n){var e;return(null===(e=function(){if(void 0===Ch&&(Ch=null,R.trustedTypes))try{Ch=R.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ch}())||void 0===e?void 0:e.createHTML(n))||n}class Ys{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class JP extends Ys{getTypeName(){return"HTML"}}class XP extends Ys{getTypeName(){return"Style"}}class eR extends Ys{getTypeName(){return"Script"}}class tR extends Ys{getTypeName(){return"URL"}}class nR extends Ys{getTypeName(){return"ResourceURL"}}function Pi(n){return n instanceof Ys?n.changingThisBreaksApplicationSecurity:n}function oo(n,e){const t=fw(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function fw(n){return n instanceof Ys&&n.getTypeName()||null}class lR{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(cl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class uR{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=cl(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=cl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const s=t.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const dR=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hR=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ic(n){return(n=String(n)).match(dR)||n.match(hR)?n:"unsafe:"+n}function gw(n){return(n=String(n)).split(",").map(e=>ic(e.trim())).join(", ")}function so(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function rc(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const mw=so("area,br,col,hr,img,wbr"),_w=so("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yw=so("rp,rt"),sm=rc(mw,rc(_w,so("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rc(yw,so("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rc(yw,_w)),am=so("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lm=so("srcset"),vw=rc(am,lm,so("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),so("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fR=so("script,style,template");class pR{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!sm.hasOwnProperty(t))return this.sanitizedSomething=!0,!fR.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!vw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;am[a]&&(l=ic(l)),lm[a]&&(l=gw(l)),this.buf.push(" ",s,'="',bw(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();sm.hasOwnProperty(t)&&!mw.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(bw(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const gR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mR=/([^\#-~ |!])/g;function bw(n){return n.replace(/&/g,"&amp;").replace(gR,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(mR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Th;function ww(n,e){let t=null;try{Th=Th||function(n){const e=new uR(n);return function(){try{return!!(new window.DOMParser).parseFromString(cl(""),"text/html")}catch{return!1}}()?new lR(e):e}(n);let i=e?String(e):"";t=Th.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Th.getInertBodyElement(i)}while(i!==o);return cl((new pR).sanitizeChildren(um(t)||t))}finally{if(t){const i=um(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function um(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ue=(()=>((Ue=Ue||{})[Ue.NONE=0]="NONE",Ue[Ue.HTML=1]="HTML",Ue[Ue.STYLE=2]="STYLE",Ue[Ue.SCRIPT=3]="SCRIPT",Ue[Ue.URL=4]="URL",Ue[Ue.RESOURCE_URL=5]="RESOURCE_URL",Ue))();function Mh(n){const e=oc();return e?cw(e.sanitize(Ue.HTML,n)||""):oo(n,"HTML")?cw(Pi(n)):ww(Rg(),be(n))}function cm(n){const e=oc();return e?e.sanitize(Ue.URL,n)||"":oo(n,"URL")?Pi(n):ic(be(n))}function oc(){const n=k();return n&&n[12]}const Tw="__ngContext__";function Bn(n,e){n[Tw]=e}function hm(n){const e=function(n){return n[Tw]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Eh(n){return n.ngOriginalError}function RR(n,...e){n.error(...e)}class Js{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),r=function(n){return n&&n.ngErrorLogger||RR}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(Eh(e)):null}_findOriginalError(e){let t=e&&Eh(e);for(;t&&Eh(t);)t=Eh(t);return t||null}}const Rw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(R))();function pm(n){return n.ownerDocument.defaultView}function ao(n){return n instanceof Function?n():n}var Ri=(()=>((Ri=Ri||{})[Ri.Important=1]="Important",Ri[Ri.DashCase=2]="DashCase",Ri))();function mm(n,e){return undefined(n,e)}function ac(n){const e=n[3];return wr(e)?e[3]:e}function _m(n){return Vw(n[13])}function ym(n){return Vw(n[4])}function Vw(n){for(;null!==n&&!wr(n);)n=n[4];return n}function hl(n,e,t,i,r){if(null!=i){let o,s=!1;wr(i)?o=i:Xr(i)&&(s=!0,i=i[0]);const a=cn(i);0===n&&null!==t?null==r?zw(e,t,a):Xs(e,t,a,r||null,!0):1===n&&null!==t?Xs(e,t,a,r||null,!0):2===n?function(n,e,t){const i=xh(n,e);i&&function(n,e,t,i){Wt(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function(n,e,t,i,r){const o=t[7];o!==cn(t)&&hl(e,n,i,o,r);for(let a=10;a<t.length;a++){const l=t[a];lc(l[1],l,n,e,i,o)}}(e,n,o,t,r)}}function bm(n,e,t){return Wt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function Bw(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,kg(r,-1)),t.splice(i,1)}function wm(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&Bw(r,i),e>0&&(n[t-1][4]=i[4]);const o=Qs(n,10+e);!function(n,e){lc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function $w(n,e){if(!(256&e[2])){const t=e[11];Wt(t)&&t.destroyNode&&lc(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Dm(n[1],n);for(;e;){let t=null;if(Xr(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Xr(e)&&Dm(e[1],e),e=e[3];null===e&&(e=n),Xr(e)&&Dm(e[1],e),t=e&&e[4]}e=t}}(e)}}function Dm(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Wu)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):cn(e[s]),l=i[r=t[o+2]],u=t[o+3];"boolean"==typeof u?a.removeEventListener(t[o],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),o+=2}else{const s=i[r=t[o+1]];t[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();e[7]=null}}(n,e),1===e[1].type&&Wt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&wr(e[3])){t!==e[3]&&Bw(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function jw(n,e,t){return function(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===kt.None||r===kt.Emulated)return null}return Qi(i,t)}(n,e.parent,t)}function Xs(n,e,t,i,r){Wt(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function zw(n,e,t){Wt(n)?n.appendChild(e,t):e.appendChild(t)}function Gw(n,e,t,i,r){null!==i?Xs(n,e,t,i,r):zw(n,e,t)}function xh(n,e){return Wt(n)?n.parentNode(e):e.parentNode}function Ww(n,e,t){return Kw(n,e,t)}let Kw=function(n,e,t){return 40&n.type?Qi(n,t):null};function Ah(n,e,t,i){const r=jw(n,i,e),o=e[11],a=Ww(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Gw(o,r,t[l],a,!1);else Gw(o,r,t,a,!1)}function Ih(n,e){if(null!==e){const t=e.type;if(3&t)return Qi(e,n);if(4&t)return Tm(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Ih(n,i);{const r=n[e.index];return wr(r)?Tm(-1,r):cn(r)}}if(32&t)return mm(e,n)()||cn(n[e.index]);{const i=Zw(n,e);return null!==i?Array.isArray(i)?i[0]:Ih(ac(n[16]),i):Ih(n,e.next)}}return null}function Zw(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Tm(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Ih(i,r)}return e[7]}function Mm(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&Bn(cn(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)Mm(n,e,t.child,i,r,o,!1),hl(e,n,r,a,o);else if(32&l){const u=mm(t,i);let c;for(;c=u();)hl(e,n,r,c,o);hl(e,n,r,a,o)}else 16&l?Jw(n,e,i,t,r,o):hl(e,n,r,a,o);t=s?t.projectionNext:t.next}}function lc(n,e,t,i,r,o){Mm(t,i,n.firstChild,e,r,o,!1)}function Jw(n,e,t,i,r,o){const s=t[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)hl(e,n,r,l[u],o);else Mm(n,e,l,s[3],r,o,!0)}function Xw(n,e,t){Wt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Em(n,e,t){Wt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function eD(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const tD="ng-template";function rF(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==eD(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function nD(n){return 4===n.type&&n.value!==tD}function oF(n,e,t){return e===(4!==n.type||t?n.value:tD)}function sF(n,e,t){let i=4;const r=n.attrs||[],o=function(n){for(let e=0;e<n.length;e++)if(Ub(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!oF(n,l,t)||""===l&&1===e.length){if(Tr(i))return!1;s=!0}}else{const u=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!rF(n.attrs,u,t)){if(Tr(i))return!1;s=!0}continue}const d=aF(8&i?"class":l,r,nD(n),t);if(-1===d){if(Tr(i))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==eD(f,u,0)||2&i&&u!==h){if(Tr(i))return!1;s=!0}}}}else{if(!s&&!Tr(i)&&!Tr(l))return!1;if(s&&Tr(l))continue;s=!1,i=l|1&i}}return Tr(i)||s}function Tr(n){return 0==(1&n)}function aF(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function iD(n,e,t=!1){for(let i=0;i<e.length;i++)if(sF(n,e[i],t))return!0;return!1}function dF(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function rD(n,e){return n?":not("+e.trim()+")":e}function hF(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Tr(s)&&(e+=rD(o,r),r=""),i=s,o=o||!Tr(i);t++}return""!==r&&(e+=rD(o,r)),e}const Se={};function B(n){oD(Je(),k(),ni()+n,nh())}function oD(n,e,t,i){if(!i)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&ah(e,o,t)}else{const o=n.preOrderHooks;null!==o&&lh(e,o,0,t)}os(t)}function Oh(n,e){return n<<17|e<<2}function Mr(n){return n>>17&32767}function Sm(n){return 2|n}function Ao(n){return(131068&n)>>2}function xm(n,e){return-131069&n|e<<2}function Am(n){return 1|n}function gD(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],o=t[i+1];if(-1!==o){const s=n.data[o];$g(r),s.contentQueries(2,e[o],o)}}}function uc(n,e,t,i,r,o,s,a,l,u){const c=e.blueprint.slice();return c[0]=r,c[2]=140|i,Ib(c),c[3]=c[15]=n,c[8]=t,c[10]=s||n&&n[10],c[11]=a||n&&n[11],c[12]=l||n&&n[12]||null,c[9]=u||n&&n[9]||null,c[6]=o,c[16]=2==e.type?n[16]:c,c}function fl(n,e,t,i,r){let o=n.data[e];if(null===o)o=function(n,e,t,i,r){const o=Pb(),s=Lg(),l=n.data[e]=function(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,i,r),De.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function(){const n=De.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return eo(o,!0),o}function pl(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function cc(n,e,t){rh(e);try{const i=n.viewQuery;null!==i&&Gm(1,i,t);const r=n.template;null!==r&&mD(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gD(n,e),n.staticViewQueries&&Gm(2,n.viewQuery,t);const o=n.components;null!==o&&function(n,e){for(let t=0;t<e.length;t++)GF(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,oh()}}function gl(n,e,t,i){const r=e[2];if(256==(256&r))return;rh(e);const o=nh();try{Ib(e),function(n){De.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&mD(n,e,t,2,i);const s=3==(3&r);if(!o)if(s){const u=n.preOrderCheckHooks;null!==u&&ah(e,u,null)}else{const u=n.preOrderHooks;null!==u&&lh(e,u,0,null),jg(e,0)}if(function(n){for(let e=_m(n);null!==e;e=ym(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],o=r[3];0==(1024&r[2])&&kg(o,1),r[2]|=1024}}}(e),function(n){for(let e=_m(n);null!==e;e=ym(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];Ng(i)&&gl(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&gD(n,e),!o)if(s){const u=n.contentCheckHooks;null!==u&&ah(e,u)}else{const u=n.contentHooks;null!==u&&lh(e,u,1),jg(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)os(~r);else{const o=r,s=t[++i],a=t[++i];oP(s,o),a(2,e[o])}}}finally{os(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)zF(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Gm(2,l,i),!o)if(s){const u=n.viewCheckHooks;null!==u&&ah(e,u)}else{const u=n.viewHooks;null!==u&&lh(e,u,2),jg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,kg(e[3],-1))}finally{oh()}}function MF(n,e,t,i){const r=e[10],o=!nh(),s=Ab(e);try{o&&!s&&r.begin&&r.begin(),s&&cc(n,e,i),gl(n,e,t,i)}finally{o&&!s&&r.end&&r.end()}}function mD(n,e,t,i,r){const o=ni(),s=2&i;try{os(-1),s&&e.length>20&&oD(n,e,20,nh()),t(i,r)}finally{os(o)}}function _D(n,e,t){if(Ag(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function Lm(n,e,t){!Ob()||(function(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Ku(t,e),Bn(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],u=Dr(l);u&&HF(e,t,l);const c=Qu(e,n,a,t);Bn(c,e),null!==s&&BF(0,a-r,c,l,0,s),u&&(Ii(t.index,e)[8]=c)}}(n,e,t,Qi(t,e)),128==(128&t.flags)&&function(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,a=De.lFrame.currentDirectiveIndex;try{os(s);for(let l=i;l<r;l++){const u=n.data[l],c=e[l];Hg(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&MD(u,c)}}finally{os(-1),Hg(a)}}(n,e,t))}function Vm(n,e,t=Qi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function yD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Fh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Fh(n,e,t,i,r,o,s,a,l,u){const c=20+i,d=c+r,h=function(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Se);return t}(c,d),f="function"==typeof u?u():u;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function wD(n,e,t,i){const r=OD(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&PD(n).push(i,r.length-1))}function DD(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function Fi(n,e,t,i,r,o,s,a){const l=Qi(e,t);let c,u=e.inputs;!a&&null!=u&&(c=u[i])?(ND(n,t,c,i,r),Xd(e)&&function(n,e){const t=Ii(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,Wt(o)?o.setProperty(l,i,r):zg(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Hm(n,e,t,i){let r=!1;if(Ob()){const o=function(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];iD(t,s.selectors,!1)&&(r||(r=[]),fh(Ku(t,e),n,s.type),Dr(s)?(ED(n,t),r.unshift(s)):r.push(s))}return r}(n,e,t),s=null===i?null:{"":-1};if(null!==o){r=!0,SD(t,n.data.length,o.length);for(let c=0;c<o.length;c++){const d=o[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=pl(n,e,o.length,null);for(let c=0;c<o.length;c++){const d=o[c];t.mergedAttrs=ch(t.mergedAttrs,d.hostAttrs),xD(n,t,e,u,d),VF(u,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function(n,e){const i=e.directiveEnd,r=n.data,o=e.attrs,s=[];let a=null,l=null;for(let u=e.directiveStart;u<i;u++){const c=r[u],d=c.inputs,h=null===o||nD(e)?null:$F(d,o);s.push(h),a=DD(d,u,a),l=DD(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(n,t)}s&&function(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new Kr("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],o)}}}(t,i,s)}return t.mergedAttrs=ch(t.mergedAttrs,t.attrs),r}function TD(n,e,t,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function MD(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ED(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function VF(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Dr(e)&&(t[""]=n)}}function SD(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xD(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Ws(r.type)),s=new Wu(o,Dr(r),null);n.blueprint[i]=s,t[i]=s,TD(n,e,0,i,pl(n,t,r.hostVars,Se),r)}function HF(n,e,t){const i=Qi(e,n),r=yD(t),o=n[10],s=Nh(n,uc(n,r,null,t.onPush?64:16,i,e,o,o.createRenderer(i,t),null,null));n[e.index]=s}function lo(n,e,t,i,r,o){const s=Qi(n,e);!function(n,e,t,i,r,o,s){if(null==o)Wt(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==s?be(o):s(o,i||"",r);Wt(n)?n.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],s,o,n.value,t,i,r)}function BF(n,e,t,i,r,o){const s=o[e];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],d=s[l++];null!==a?i.setInput(t,d,u,c):t[c]=d}}}function $F(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function AD(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function zF(n,e){const t=Ii(e,n);if(Ng(t)){const i=t[1];80&t[2]?gl(i,t,i.template,t[8]):t[5]>0&&$m(t)}}function $m(n){for(let i=_m(n);null!==i;i=ym(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];gl(s,o,s.template,o[8])}else o[5]>0&&$m(o)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ii(t[i],n);Ng(r)&&r[5]>0&&$m(r)}}function GF(n,e){const t=Ii(e,n),i=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),cc(i,t,t[8])}function Nh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function jm(n){for(;n;){n[2]|=64;const e=ac(n);if(BO(n)&&!e)return n;n=e}return null}function zm(n,e,t){const i=e[10];i.begin&&i.begin();try{gl(n,e,n.template,t)}catch(r){throw FD(e,r),r}finally{i.end&&i.end()}}function ID(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=hm(t),r=i[1];MF(r,i,r.template,t)}}(n[8])}function Gm(n,e,t){$g(0),e(n,t)}const ZF=(()=>Promise.resolve(null))();function OD(n){return n[7]||(n[7]=[])}function PD(n){return n.cleanup||(n.cleanup=[])}function FD(n,e){const t=n[9],i=t?t.get(Js,null):null;i&&i.handleError(e)}function ND(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],u=n.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Oo(n,e,t){const i=th(e,n);!function(n,e,t){Wt(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function kh(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=mi(r,a):2==o&&(i=mi(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const ml=new P("INJECTOR",-1);class kD{get(e,t=Xu){if(t===Xu){const i=new Error(`NullInjectorError: No provider for ${Re(e)}!`);throw i.name="NullInjectorError",i}return t}}const dc=new P("Set Injector scope."),hc={},XF={};let Wm;function LD(){return void 0===Wm&&(Wm=new kD),Wm}function VD(n,e=null,t=null,i){return new tN(n,t,e||LD(),i)}class tN{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&io(t,a=>this.processProvider(a,e,t)),io([e],a=>this.processInjectorType(a,[],o)),this.records.set(ml,_l(void 0,this));const s=this.records.get(dc);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:Re(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Xu,i=se.Default){this.assertNotDestroyed();const r=ll(this),o=vr(void 0);try{if(!(i&se.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof P}(e)&&On(e);a=l&&this.injectableDefInScope(l)?_l(qm(e),hc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&se.Self?LD():this.parent).get(e,t=i&se.Optional&&t===Xu?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[al]=s[al]||[]).unshift(Re(e)),r)throw s;return ow(s,e,"R3InjectorError",this.source)}throw s}finally{vr(o),ll(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(Re(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=oe(e)))return!1;let r=Kd(e);const o=null==r&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Kd(o)),null==r)return!1;if(null!=r.imports&&!a){let c;i.push(s);try{io(r.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];io(f,p=>this.processProvider(p,h,f||Ee))}}this.injectorDefTypes.add(s);const l=Ws(s)||(()=>new s);this.records.set(s,_l(l,hc));const u=r.providers;if(null!=u&&!a){const c=e;io(u,d=>this.processProvider(d,c,u))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,i){let r=yl(e=oe(e))?e:oe(e&&e.provide);const o=function(n,e,t){return BD(n)?_l(void 0,n.useValue):_l(HD(n),hc)}(e);if(yl(e)||!0!==e.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=_l(void 0,hc,!0),s.factory=()=>Zs(s.multi),this.records.set(r,s)),r=e,s.multi.push(e)}this.records.set(r,o)}hydrate(e,t){return t.value===hc&&(t.value=XF,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=oe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function qm(n){const e=On(n),t=null!==e?e.factory:Ws(n);if(null!==t)return t;if(n instanceof P)throw new Error(`Token ${Re(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const i=ls(e,"?");throw new Error(`Can't resolve all parameters for ${Re(n)}: (${i.join(", ")}).`)}const t=function(n){const e=n&&(n[ns]||n[Lu]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function HD(n,e,t){let i;if(yl(n)){const r=oe(n);return Ws(r)||qm(r)}if(BD(n))i=()=>oe(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Zs(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>O(oe(n.useExisting));else{const r=oe(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Ws(r)||qm(r);i=()=>new r(...Zs(n.deps))}return i}function _l(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BD(n){return null!==n&&"object"==typeof n&&nm in n}function yl(n){return"function"==typeof n}const $D=function(n,e,t){return function(n,e=null,t=null,i){const r=VD(n,e,t,i);return r._resolveInjectorDefTypes(),r}({name:t},e,n,t)};let ze=(()=>{class n{static create(t,i){return Array.isArray(t)?$D(t,i,""):$D(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=Xu,n.NULL=new kD,n.\u0275prov=K({token:n,providedIn:"any",factory:()=>O(ml)}),n.__NG_ELEMENT_ID__=-1,n})();function DN(n,e){sh(hm(n)[1],pn())}function ye(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Dr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Xm(n.inputs),s.declaredInputs=Xm(n.declaredInputs),s.outputs=Xm(n.outputs);const a=r.hostBindings;a&&EN(n,a);const l=r.viewQuery,u=r.contentQueries;if(l&&TN(n,l),u&&MN(n,u),Ou(n.inputs,r.inputs),Ou(n.declaredInputs,r.declaredInputs),Ou(n.outputs,r.outputs),Dr(r)&&r.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ye&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ch(r.hostAttrs,t=ch(t,r.hostAttrs))}}(i)}function Xm(n){return n===Lt?{}:n===Ee?[]:n}function TN(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function MN(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function EN(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Lh=null;function vl(){if(!Lh){const n=R.Symbol;if(n&&n.iterator)Lh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Lh=i)}}}return Lh}class Sr{constructor(e){this.wrapped=e}static wrap(e){return new Sr(e)}static unwrap(e){return Sr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Sr}}function pc(n){return!!e_(n)&&(Array.isArray(n)||!(n instanceof Map)&&vl()in n)}function e_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function uo(n,e,t){return n[e]=t}function $n(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ea(n,e,t,i){const r=$n(n,e,t);return $n(n,e+1,i)||r}function yt(n,e,t,i){const r=k();return $n(r,Xa(),e)&&(Je(),lo(qt(),r,n,e,t,i)),yt}function wl(n,e,t,i){return $n(n,Xa(),t)?e+be(t)+i:Se}function Tl(n,e,t,i,r,o,s,a,l,u){const d=function(n,e,t,i,r,o){const s=ea(n,e,t,i);return ea(n,e+2,r,o)||s}(n,to(),t,r,s,l);return So(4),d?e+be(t)+i+be(r)+o+be(s)+a+be(l)+u:Se}function $(n,e,t,i,r,o,s,a){const l=k(),u=Je(),c=n+20,d=u.firstCreatePass?function(n,e,t,i,r,o,s,a,l){const u=e.consts,c=fl(e,n,4,s||null,rs(u,a));Hm(e,t,c,rs(u,l)),sh(e,c);const d=c.tViews=Fh(2,c,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,t,i,r,o,s):u.data[c];eo(d,!1);const h=l[11].createComment("");Ah(u,l,h,d),Bn(h,l),Nh(l,l[c]=AD(h,l,h,d)),eh(d)&&Lm(u,l,d),null!=s&&Vm(l,d,a)}function mn(n){return Ja(De.lFrame.contextLView,20+n)}function g(n,e=se.Default){const t=k();return null===t?O(n,e):Zb(pn(),t,oe(n),e)}function M(n,e,t){const i=k();return $n(i,Xa(),e)&&Fi(Je(),qt(),i,n,e,i[11],t,!1),M}function o_(n,e,t,i,r){const s=r?"class":"style";ND(n,t,e.inputs[s],s,i)}function F(n,e,t,i){const r=k(),o=Je(),s=20+n,a=r[11],l=r[s]=bm(a,e,De.lFrame.currentNamespace),u=o.firstCreatePass?function(n,e,t,i,r,o,s){const a=e.consts,u=fl(e,n,2,r,rs(a,o));return Hm(e,t,u,rs(a,s)),null!==u.attrs&&kh(u,u.attrs,!1),null!==u.mergedAttrs&&kh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,r,0,e,t,i):o.data[s];eo(u,!0);const c=u.mergedAttrs;null!==c&&uh(a,l,c);const d=u.classes;null!==d&&Em(a,l,d);const h=u.styles;null!==h&&Xw(a,l,h),64!=(64&u.flags)&&Ah(o,r,l,u),0===De.lFrame.elementDepthCount&&Bn(l,r),De.lFrame.elementDepthCount++,eh(u)&&(Lm(o,r,u),_D(o,u,r)),null!==i&&Vm(r,u)}function N(){let n=pn();Lg()?Vg():(n=n.parent,eo(n,!1));const e=n;De.lFrame.elementDepthCount--;const t=Je();t.firstCreatePass&&(sh(t,n),Ag(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&o_(t,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&o_(t,e,k(),e.stylesWithoutHost,!1)}function he(n,e,t,i){F(n,e,t,i),N()}function co(n,e,t){const i=k(),r=Je(),o=n+20,s=r.firstCreatePass?function(n,e,t,i,r){const o=e.consts,s=rs(o,i),a=fl(e,n,8,"ng-container",s);return null!==s&&kh(a,s,!0),Hm(e,t,a,rs(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];eo(s,!0);const a=i[o]=i[11].createComment("");Ah(r,i,a,s),Bn(a,i),eh(s)&&(Lm(r,i,s),_D(r,s,i)),null!=t&&Vm(i,s)}function ho(){let n=pn();const e=Je();Lg()?Vg():(n=n.parent,eo(n,!1)),e.firstCreatePass&&(sh(e,n),Ag(n)&&e.queries.elementEnd(n))}function mc(n,e,t){co(n,e,t),ho()}function fo(){return k()}function _c(n){return!!n&&"function"==typeof n.then}function EC(n){return!!n&&"function"==typeof n.subscribe}const Bh=EC;function Fe(n,e,t,i){const r=k(),o=Je(),s=pn();return function(n,e,t,i,r,o,s,a){const l=eh(i),c=n.firstCreatePass&&PD(n),d=e[8],h=OD(e);let f=!0;if(3&i.type||a){const m=Qi(i,e),C=a?a(m):m,D=h.length,V=a?j=>a(cn(j[i.index])):i.index;if(Wt(t)){let j=null;if(!a&&l&&(j=function(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,f=!1;else{o=s_(i,e,d,o,!1);const _e=t.listen(C,r,o);h.push(o,_e),c&&c.push(r,V,D,D+1)}}else o=s_(i,e,d,o,!0),C.addEventListener(r,o,s),h.push(o),c&&c.push(r,V,D,s)}else o=s_(i,e,d,o,!1);const p=i.outputs;let _;if(f&&null!==p&&(_=p[r])){const m=_.length;if(m)for(let C=0;C<m;C+=2){const dt=e[_[C]][_[C+1]].subscribe(o),mt=h.length;h.push(o,dt),c&&c.push(r,i.index,mt,-(mt+1))}}}(o,r,r[11],s,n,e,!!t,i),Fe}function AC(n,e,t,i){try{return!1!==t(i)}catch(r){return FD(n,r),!1}}function s_(n,e,t,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?Ii(n.index,e):e;0==(32&e[2])&&jm(a);let l=AC(e,0,i,s),u=o.__ngNextListenerFn__;for(;u;)l=AC(e,0,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function W(n=1){return function(n){return(De.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,De.lFrame.contextLView))[8]}(n)}function ok(n,e){let t=null;const i=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?iD(n,o,!0):dF(i,o))return r}else t=r}return t}function yi(n){const e=k()[16][6];if(!e.projection){const i=e.projection=ls(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?ok(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function _n(n,e=0,t){const i=k(),r=Je(),o=fl(r,20+n,16,null,t||null);null===o.projection&&(o.projection=e),Vg(),64!=(64&o.flags)&&function(n,e,t){Jw(e[11],0,e,t,jw(n,t,e),Ww(t.parent||e[6],t,e))}(r,i,o)}function HC(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Mr(o):Ao(o),l=!1;for(;0!==a&&(!1===l||s);){const c=n[a+1];lk(n[a],e)&&(l=!0,n[a+1]=i?Am(c):Sm(c)),a=i?Mr(c):Ao(c)}l&&(n[t+1]=i?Sm(o):Am(o))}function lk(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sl(n,e)>=0}const yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BC(n){return n.substring(yn.key,yn.keyEnd)}function uk(n){return n.substring(yn.value,yn.valueEnd)}function $C(n,e){const t=yn.textEnd;return t===e?-1:(e=yn.keyEnd=function(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,yn.key=e,t),Il(n,e,t))}function jC(n,e){const t=yn.textEnd;let i=yn.key=Il(n,e,t);return t===i?-1:(i=yn.keyEnd=function(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=zC(n,i,t),i=yn.value=Il(n,i,t),i=yn.valueEnd=function(n,e,t){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<t;){const l=n.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=GC(n,l,s,t):e===s-4&&85===o&&82===r&&76===i&&40===l?a=s=GC(n,41,s,t):l>32&&(a=s),o=r,r=i,i=-33&l}return a}(n,i,t),zC(n,i,t))}function UC(n){yn.key=0,yn.keyEnd=0,yn.value=0,yn.valueEnd=0,yn.textEnd=n.length}function Il(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function zC(n,e,t,i){return(e=Il(n,e,t))<t&&e++,e}function GC(n,e,t,i){let r=-1,o=t;for(;o<i;){const s=n.charCodeAt(o++);if(s==e&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function Ol(n,e,t){return xr(n,e,t,!1),Ol}function vt(n,e){return xr(n,e,null,!0),vt}function vi(n){Ar(KC,gk,n,!1)}function gk(n,e){for(let t=function(n){return UC(n),jC(n,Il(n,0,yn.textEnd))}(e);t>=0;t=jC(e,t))KC(n,BC(e),uk(e))}function l_(n){Ar(Oi,po,n,!0)}function po(n,e){for(let t=function(n){return UC(n),$C(n,Il(n,0,yn.textEnd))}(e);t>=0;t=$C(e,t))Oi(n,BC(e),!0)}function xr(n,e,t,i){const r=k(),o=Je(),s=So(2);o.firstUpdatePass&&qC(o,n,s,i),e!==Se&&$n(r,s,e)&&QC(o,o.data[ni()],r,r[11],n,r[s+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Re(Pi(n)))),n}(e,t),i,s)}function Ar(n,e,t,i){const r=Je(),o=So(2);r.firstUpdatePass&&qC(r,null,o,i);const s=k();if(t!==Se&&$n(s,o,t)){const a=r.data[ni()];if(YC(a,i)&&!WC(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=mi(l,t||"")),o_(r,a,s,t,i)}else!function(n,e,t,i,r,o,s,a){r===Se&&(r=Ee);let l=0,u=0,c=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==c||null!==d;){const h=l<r.length?r[l+1]:void 0,f=u<o.length?o[u+1]:void 0;let _,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,_=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,_=f),null!==p&&QC(n,e,t,i,p,_,s,a),c=l<r.length?r[l]:null,d=u<o.length?o[u]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(n,e,t){if(null==t||""===t)return Ee;const i=[],r=Pi(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}function WC(n,e){return e>=n.expandoStartIndex}function qC(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[ni()],s=WC(n,t);YC(o,i)&&null===e&&!s&&(e=!1),e=function(n,e,t,i){const r=Bg(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=yc(t=u_(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=u_(r,n,e,t,i),null===o){let l=function(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ao(i))return n[Mr(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=u_(null,n,e,l[1],i),l=yc(l,e.attrs,i),function(n,e,t,i){n[Mr(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=yc(i,n[o].hostAttrs,t);return yc(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Mr(s),l=Ao(s);n[i]=t;let c,u=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||sl(d,c)>0)&&(u=!0)}else c=t;if(r)if(0!==l){const h=Mr(n[a+1]);n[i+1]=Oh(h,a),0!==h&&(n[h+1]=xm(n[h+1],i)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Oh(a,0),0!==a&&(n[a+1]=xm(n[a+1],i)),a=i;else n[i+1]=Oh(l,0),0===a?a=i:n[l+1]=xm(n[l+1],i),l=i;u&&(n[i+1]=Sm(n[i+1])),HC(n,c,i,!0),HC(n,c,i,!1),function(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&sl(o,e)>=0&&(t[i+1]=Am(t[i+1]))}(e,c,n,i,o),s=Oh(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function u_(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=yc(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function yc(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Oi(n,s,!!t||e[++o]))}return void 0===n?null:n}function KC(n,e,t){Oi(n,e,Pi(t))}function QC(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,u=l[a+1];$h(function(n){return 1==(1&n)}(u)?ZC(l,e,t,r,Ao(u),s):void 0)||($h(o)||function(n){return 2==(2&n)}(u)&&(o=ZC(l,null,t,r,a,s)),function(n,e,t,i,r){const o=Wt(n);if(e)r?o?n.addClass(t,i):t.classList.add(i):o?n.removeClass(t,i):t.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:Ri.DashCase;if(null==r)o?n.removeStyle(t,i,s):t.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=Ri.Important),o?n.setStyle(t,i,r,s):t.style.setProperty(i,r,a?"important":"")}}}(i,s,th(ni(),t),r,o))}function ZC(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=t[r+1];h===Se&&(h=d?Ee:void 0);let f=d?Jg(h,i):c===i?h:void 0;if(u&&!$h(f)&&(f=Jg(l,i)),$h(f)&&(a=f,s))return a;const p=n[r+1];r=s?Mr(p):Ao(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Jg(l,i))}return a}function $h(n){return void 0!==n}function YC(n,e){return 0!=(n.flags&(e?16:32))}function Qe(n,e=""){const t=k(),i=Je(),r=n+20,o=i.firstCreatePass?fl(i,r,1,e,null):i.data[r],s=t[r]=function(n,e){return Wt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Ah(i,t,s,o),eo(o,!1)}function ds(n){return ri("",n,""),ds}function ri(n,e,t){const i=k(),r=wl(i,n,e,t);return r!==Se&&Oo(i,ni(),r),ri}function jh(n,e,t,i,r,o,s,a,l){const u=k(),c=Tl(u,n,e,t,i,r,o,s,a,l);return c!==Se&&Oo(u,ni(),c),jh}function vc(n,e,t){const i=k();return $n(i,Xa(),e)&&Fi(Je(),qt(),i,n,e,i[11],t,!0),vc}function Uh(n,e,t){const i=k();if($n(i,Xa(),e)){const o=Je(),s=qt();Fi(o,s,i,n,e,function(n,e,t){return(null===n||Dr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}(Bg(o.data),s,i),t,!0)}return Uh}const ta=void 0;var $k=["en",[["a","p"],["AM","PM"],ta],[["AM","PM"],ta,ta],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ta,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ta,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ta,"{1} 'at' {0}",ta],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Pl={};function oi(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=mT(e);if(t)return t;const i=e.split("-")[0];if(t=mT(i),t)return t;if("en"===i)return $k;throw new Error(`Missing locale data for the locale "${n}".`)}function mT(n){return n in Pl||(Pl[n]=R.ng&&R.ng.common&&R.ng.common.locales&&R.ng.common.locales[n]),Pl[n]}var Q=(()=>((Q=Q||{})[Q.LocaleId=0]="LocaleId",Q[Q.DayPeriodsFormat=1]="DayPeriodsFormat",Q[Q.DayPeriodsStandalone=2]="DayPeriodsStandalone",Q[Q.DaysFormat=3]="DaysFormat",Q[Q.DaysStandalone=4]="DaysStandalone",Q[Q.MonthsFormat=5]="MonthsFormat",Q[Q.MonthsStandalone=6]="MonthsStandalone",Q[Q.Eras=7]="Eras",Q[Q.FirstDayOfWeek=8]="FirstDayOfWeek",Q[Q.WeekendRange=9]="WeekendRange",Q[Q.DateFormat=10]="DateFormat",Q[Q.TimeFormat=11]="TimeFormat",Q[Q.DateTimeFormat=12]="DateTimeFormat",Q[Q.NumberSymbols=13]="NumberSymbols",Q[Q.NumberFormats=14]="NumberFormats",Q[Q.CurrencyCode=15]="CurrencyCode",Q[Q.CurrencySymbol=16]="CurrencySymbol",Q[Q.CurrencyName=17]="CurrencyName",Q[Q.Currencies=18]="Currencies",Q[Q.Directionality=19]="Directionality",Q[Q.PluralCase=20]="PluralCase",Q[Q.ExtraData=21]="ExtraData",Q))();const zh="en-US";let _T=zh;function c_(n){un(n,"Expected localeId to be defined"),"string"==typeof n&&(_T=n.toLowerCase().replace(/_/g,"-"))}function f_(n,e,t,i,r){if(n=oe(n),Array.isArray(n))for(let o=0;o<n.length;o++)f_(n[o],e,t,i,r);else{const o=Je(),s=k();let a=yl(n)?n:oe(n.provide),l=HD(n);const u=pn(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(yl(n)||!n.multi){const f=new Wu(l,r,g),p=g_(a,e,r?c:c+h,d);-1===p?(fh(Ku(u,s),o,a),p_(o,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=g_(a,e,c+h,d),p=g_(a,e,c,c+h),_=f>=0&&t[f],m=p>=0&&t[p];if(r&&!m||!r&&!_){fh(Ku(u,s),o,a);const C=function(n,e,t,i,r){const o=new Wu(n,t,g);return o.multi=[],o.index=e,o.componentProviders=0,$T(o,r,i&&!t),o}(r?VL:LL,t.length,r,i,l);!r&&m&&(t[p].providerFactory=C),p_(o,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),t.push(C),s.push(C)}else p_(o,n,f>-1?f:p,$T(t[r?p:f],l,!r&&i));!r&&i&&m&&t[p].componentProviders++}}}function p_(n,e,t,i){const r=yl(e);if(r||function(n){return!!n.useClass}(e)){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const a=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[i,s]):a[l+1].push(i,s)}else a.push(t,s)}}}function $T(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function g_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function LL(n,e,t,i){return m_(this.multi,[])}function VL(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Qu(t,t[1],this.providerFactory.index,i);o=a.slice(0,s),m_(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],m_(r,o);return o}function m_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ee(n,e=[]){return t=>{t.providersResolver=(i,r)=>function(n,e,t){const i=Je();if(i.firstCreatePass){const r=Dr(n);f_(t,i.data,i.blueprint,r,!0),f_(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class jT{}const zT="ngComponent";class $L{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Re(n)}. Did you add it to @NgModule.entryComponents?`);return e[zT]=n,e}(e)}}let er=(()=>{class n{}return n.NULL=new $L,n})();function Qh(...n){}function Fl(n,e){return new I(Qi(n,e))}const zL=function(){return Fl(pn(),k())};let I=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=zL,n})();function GT(n){return n instanceof I?n.nativeElement:n}class hs{}let si=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>WL(),n})();const WL=function(){const n=k(),t=Ii(pn().index,n);return function(n){return n[11]}(Xr(t)?t:n)};let y_=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>null}),n})();class Tc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WT=new Tc("12.2.16");class qT{constructor(){}supports(e){return pc(e)}create(e){return new ZL(e)}}const QL=(n,e)=>e;class ZL{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QL}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<QT(i,r,o)?t:i,a=QT(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,c=l-r;if(u!=c){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!pc(e))throw new Error(`Error trying to diff '${Re(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[vl()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new YL(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new KT),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KT),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class YL{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JL{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class KT{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new JL,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QT(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class ZT{constructor(){}supports(e){return e instanceof Map||e_(e)}create(){return new XL}}class XL{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||e_(e)))throw new Error(`Error trying to diff '${Re(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new e2(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class e2{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YT(){return new Mc([new qT])}let Mc=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||YT()),deps:[[n,new ro,new Ke]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=K({token:n,providedIn:"root",factory:YT}),n})();function JT(){return new Nl([new ZT])}let Nl=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||JT()),deps:[[n,new ro,new Ke]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=K({token:n,providedIn:"root",factory:JT}),n})();function Zh(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(cn(o)),wr(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&Zh(l[1],l,u,i)}const s=t.type;if(8&s)Zh(n,e,t.child,i);else if(32&s){const a=mm(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=Zw(e,t);if(Array.isArray(a))i.push(...a);else{const l=ac(e[16]);Zh(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Ec{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Zh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(wr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(wm(e,i),Qs(t,i))}this._attachedToViewContainer=!1}$w(this._lView[1],this._lView)}onDestroy(e){wD(this._lView[1],this._lView,null,e)}markForCheck(){jm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){ih(!0);try{zm(n,e,t)}finally{ih(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){lc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class n2 extends Ec{constructor(e){super(e),this._view=e}detectChanges(){ID(this._view)}checkNoChanges(){!function(n){ih(!0);try{ID(n)}finally{ih(!1)}}(this._view)}get context(){return null}}const r2=function(n){return function(n,e,t){if(Xd(n)&&!t){const i=Ii(n.index,e);return new Ec(i,i)}return 47&n.type?new Ec(e[16],e):null}(pn(),k(),16==(16&n))};let Vt=(()=>{class n{}return n.__NG_ELEMENT_ID__=r2,n})();const a2=[new ZT],u2=new Mc([new qT]),c2=new Nl(a2),h2=function(){return Yh(pn(),k())};let jn=(()=>{class n{}return n.__NG_ELEMENT_ID__=h2,n})();const f2=jn,p2=class extends f2{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=uc(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(t)),cc(t,i,e),new Ec(i)}};function Yh(n,e){return 4&n.type?new p2(e,n,Fl(n,e)):null}class go{}class XT{}const _2=function(){return nM(pn(),k())};let Tn=(()=>{class n{}return n.__NG_ELEMENT_ID__=_2,n})();const v2=Tn,eM=class extends v2{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new nl(this._hostTNode,this._hostLView)}get parentInjector(){const e=hh(this._hostTNode,this._hostLView);if(Gb(e)){const t=tl(e,this._hostLView),i=el(e);return new nl(t[1].data[i+8],t)}return new nl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=tM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,o){const s=i||this.parentInjector;if(!o&&null==e.ngModule&&s){const l=s.get(go,null);l&&(o=l)}const a=e.create(s,r,void 0,o);return this.insert(a.hostView,t),a}insert(e,t){const i=e._lView,r=i[1];if(function(n){return wr(n[3])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=i[3],h=new eM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function(n,e,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=e),i<o-10?(e[4]=t[r],vh(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,i,s,o);const a=Tm(o,s),l=i[11],u=xh(l,s[7]);return null!==u&&function(n,e,t,i,r,o){i[0]=r,i[6]=e,lc(n,i,t,1,r,o)}(r,s[6],l,i,u,a),e.attachToViewContainerRef(),vh(v_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=tM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=wm(this._lContainer,t);i&&(Qs(v_(this._lContainer),t),$w(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=wm(this._lContainer,t);return i&&null!=Qs(v_(this._lContainer),t)?new Ec(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function tM(n){return n[8]}function v_(n){return n[8]||(n[8]=[])}function nM(n,e){let t;const i=e[n.index];if(wr(i))t=i;else{let r;if(8&n.type)r=cn(i);else{const o=e[11];r=o.createComment("");const s=Qi(n,e);Xs(o,xh(o,s),r,function(n,e){return Wt(n)?n.nextSibling(e):e.nextSibling}(o,s),!1)}e[n.index]=t=AD(i,e,r,n),Nh(e,t)}return new eM(t,n,e)}const Hl={};class DM extends er{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ei(e);return new TM(t,this.ngModule)}}function CM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const gV=new P("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rw});class TM extends jT{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(hF).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return CM(this.componentDef.inputs)}get outputs(){return CM(this.componentDef.outputs)}create(e,t,i,r){const o=(r=r||this.ngModule)?function(n,e){return{get:(t,i,r)=>{const o=n.get(t,Hl,r);return o!==Hl||i===Hl?o:e.get(t,i,r)}}}(e,r.injector):e,s=o.get(hs,xb),a=o.get(y_,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=i?function(n,e,t){if(Wt(n))return n.selectRootElement(e,t===kt.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):bm(s.createRenderer(null,this.componentDef),u,function(n){const e=n.toLowerCase();return"svg"===e?Eb:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||Rw,clean:ZF,playerHandler:e||null,flags:0}}(),f=Fh(0,null,null,1,0,null,null,null,null,null),p=uc(null,f,h,d,null,null,s,l,a,o);let _,m;rh(p);try{const C=function(n,e,t,i,r,o){const s=t[1];t[20]=n;const l=fl(s,20,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(kh(l,u,!0),null!==n&&(uh(r,n,u),null!==l.classes&&Em(r,n,l.classes),null!==l.styles&&Xw(r,n,l.styles)));const c=i.createRenderer(n,e),d=uc(t,yD(e),null,e.onPush?64:16,t[20],l,i,c,o||null,null);return s.firstCreatePass&&(fh(Ku(l,t),s,e.type),ED(s,l),SD(l,t.length,1)),Nh(t,d),t[20]=d}(c,this.componentDef,p,s,l);if(c)if(i)uh(l,c,["ng-version",WT.full]);else{const{attrs:D,classes:V}=function(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Tr(r))break;r=o}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);D&&uh(l,c,D),V&&V.length>0&&Em(l,c,V.join(" "))}if(m=Fg(f,20),void 0!==t){const D=m.projection=[];for(let V=0;V<this.ngContentSelectors.length;V++){const j=t[V];D.push(null!=j?Array.from(j):null)}}_=function(n,e,t,i,r){const o=t[1],s=function(n,e,t){const i=pn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),xD(n,i,e,pl(n,e,1,null),t));const r=Qu(e,n,i.directiveStart,i);Bn(r,e);const o=Qi(i,e);return o&&Bn(o,e),r}(o,t,e);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,e)),e.contentQueries){const l=pn();e.contentQueries(1,s,l.directiveStart)}const a=pn();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(os(a.index),TD(t[1],a,0,a.directiveStart,a.directiveEnd,e),MD(e,s)),s}(C,this.componentDef,p,h,[DN]),cc(f,p,null)}finally{oh()}return new yV(this.componentType,_,Fl(m,p),p,m)}}class yV extends class{}{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new n2(r),this.componentType=e}get injector(){return new nl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Bl=new Map;class wV extends go{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DM(this);const i=Wi(e),r=function(n){return n[Eg]||null}(e);r&&c_(r),this._bootstrapComponents=ao(i.bootstrap),this._r3Injector=VD(e,t,[{provide:go,useValue:this},{provide:er,useValue:this.componentFactoryResolver}],Re(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ze.THROW_IF_NOT_FOUND,i=se.Default){return e===ze||e===go||e===ml?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class P_ extends XT{constructor(e){super(),this.moduleType=e,null!==Wi(e)&&function(n){const e=new Set;!function t(i){const r=Wi(i,!0),o=r.id;null!==o&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Re(e)} vs ${Re(e.name)}`)}(o,Bl.get(o),i),Bl.set(o,i));const s=ao(r.imports);for(const a of s)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new wV(this.moduleType,e)}}function nf(n,e,t){const i=ti()+n,r=k();return r[i]===Se?uo(r,i,t?e.call(t):e()):function(n,e){return n[e]}(r,i)}function Ro(n,e,t,i){return SM(k(),ti(),n,e,t,i)}function Fc(n,e){const t=n[e];return t===Se?void 0:t}function SM(n,e,t,i,r,o){const s=e+t;return $n(n,s,r)?uo(n,s+1,o?i.call(o,r):i(r)):Fc(n,s+1)}function Et(n,e){const t=Je();let i;const r=n+20;t.firstCreatePass?(i=function(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}throw new Kr("302",`The pipe '${n}' could not be found!`)}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Ws(i.type)),s=vr(g);try{const a=dh(!1),l=o();return dh(a),function(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,k(),r,l),l}finally{vr(s)}}function Ot(n,e,t){const i=n+20,r=k(),o=Ja(r,i);return kc(r,Nc(r,i)?SM(r,ti(),e,o.transform,t,o):o.transform(t))}function PM(n,e,t,i){const r=n+20,o=k(),s=Ja(o,r);return kc(o,Nc(o,r)?function(n,e,t,i,r,o,s){const a=e+t;return ea(n,a,r,o)?uo(n,a+2,s?i.call(s,r,o):i(r,o)):Fc(n,a+2)}(o,ti(),e,s.transform,t,i,s):s.transform(t,i))}function Nc(n,e){return n[1].data[e].pure}function kc(n,e){return Sr.isWrapped(e)&&(e=Sr.unwrap(e),n[to()]=Se),e}function R_(n){return e=>{setTimeout(n,void 0,e)}}const ft=class extends Nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,o,s;let a=e,l=t||(()=>null),u=i;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),u=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=R_(l),a&&(a=R_(a)),u&&(u=R_(u)));const c=super.subscribe({next:a,error:l,complete:u});return e instanceof pt&&e.add(c),c}};function NV(){return this._results[vl()]()}class Lc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=vl(),i=Lc.prototype;i[t]||(i[t]=NV)}get changes(){return this._changes||(this._changes=new ft)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Yi(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class F_{constructor(e){this.queryList=e,this.matches=null}clone(){return new F_(this.queryList)}setDirty(){this.queryList.setDirty()}}class N_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new N_(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==LM(e,t).matches&&this.queries[t].setDirty()}}class RM{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class k_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new k_(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class L_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new L_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,VV(t,o)),this.matchTNodeWithReadOption(e,t,ph(t,e,o,!1,!1))}else i===jn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ph(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===I||r===Tn||r===jn&&4&t.type)this.addMatch(t.index,-2);else{const o=ph(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function VV(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function BV(n,e,t,i){return-1===t?function(n,e){return 11&n.type?Fl(n,e):4&n.type?Yh(n,e):null}(e,n):-2===t?function(n,e,t){return t===I?Fl(e,n):t===jn?Yh(e,n):t===Tn?nM(e,n):void 0}(n,e,i):Qu(n,n[1],t,e)}function FM(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:BV(e,o[u],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function V_(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=FM(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],c=e[-l];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&V_(h[1],h,u,i)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];V_(f[1],f,u,i)}}}}}return i}function Bt(n){const e=k(),t=Je(),i=Nb();$g(i+1);const r=LM(t,i);if(n.dirty&&Ab(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?V_(t,e,i,[]):FM(t,e,r,i);n.reset(o,GT),n.notifyOnChanges()}return!0}return!1}function Ni(n,e,t){const i=Je();i.firstCreatePass&&(kM(i,new RM(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),NM(i,k(),e)}function Pr(n,e,t,i){const r=Je();if(r.firstCreatePass){const o=pn();kM(r,new RM(e,t,i),o.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}NM(r,k(),t)}function $t(){return function(n,e){return n[19].queries[e].queryList}(k(),Nb())}function NM(n,e,t){const i=new Lc(4==(4&t));wD(n,e,i,i.destroy),null===e[19]&&(e[19]=new N_),e[19].queries.push(new F_(i))}function kM(n,e,t){null===n.queries&&(n.queries=new k_),n.queries.track(new L_(e,t))}function LM(n,e){return n.queries.getByIndex(e)}function ki(n,e){return Yh(n,e)}const A=as("Input",n=>({bindingPropertyName:n})),Rn=as("Output",n=>({bindingPropertyName:n})),pe=as("HostBinding",n=>({hostPropertyName:n})),en=as("HostListener",(n,e)=>({eventName:n,args:e})),Hc=new P("Application Initializer");let jl=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Qh,this.reject=Qh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(_c(o))t.push(o);else if(Bh(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(O(Hc,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const Bc=new P("AppId"),mH={provide:Bc,useFactory:function(){return`${z_()}${z_()}${z_()}`},deps:[]};function z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tE=new P("Platform Initializer"),$c=new P("Platform ID"),nE=new P("appBootstrapListener");let af=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const ps=new P("LocaleId"),iE=new P("DefaultCurrencyCode");class yH{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const G_=function(n){return new P_(n)},vH=G_,bH=function(n){return Promise.resolve(G_(n))},rE=function(n){const e=G_(n),i=ao(Wi(n).declarations).reduce((r,o)=>{const s=ei(o);return s&&r.push(new TM(s)),r},[]);return new yH(e,i)},wH=rE,DH=function(n){return Promise.resolve(rE(n))};let ra=(()=>{class n{constructor(){this.compileModuleSync=vH,this.compileModuleAsync=bH,this.compileModuleAndAllComponentsSync=wH,this.compileModuleAndAllComponentsAsync=DH}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const MH=(()=>Promise.resolve(0))();function W_(n){"undefined"==typeof Zone?MH.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=R.requestAnimationFrame,e=R.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(R,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,K_(n),n.isCheckStableRunning=!0,q_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),K_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return oE(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),sE(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return oE(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),sE(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,K_(n),q_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ve.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ve.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,SH,Qh,Qh);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const SH={};function q_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function K_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function oE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sE(n){n._nesting--,q_(n)}class IH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ft,this.onMicrotaskEmpty=new ft,this.onStable=new ft,this.onError=new ft}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let Q_=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),W_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())W_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(O(ve))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),aE=(()=>{class n{constructor(){this._applications=new Map,Z_.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Z_.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class OH{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Z_=new OH,lE=!0,uE=!1;function Y_(){return uE=!0,lE}let Rr;const cE=new P("AllowMultipleToken");class J_{constructor(e,t){this.name=e,this.token=t}}function dE(n,e,t=[]){const i=`Platform: ${e}`,r=new P(i);return(o=[])=>{let s=hE();if(!s||s.injector.get(cE,!1))if(n)n(t.concat(o).concat({provide:r,useValue:!0}));else{const a=t.concat(o).concat({provide:r,useValue:!0},{provide:dc,useValue:"platform"});!function(n){if(Rr&&!Rr.destroyed&&!Rr.injector.get(cE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rr=n.get(fE);const e=n.get(tE,null);e&&e.forEach(t=>t())}(ze.create({providers:a,name:i}))}return function(n){const e=hE();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function hE(){return Rr&&!Rr.destroyed?Rr:null}let fE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function(n,e){let t;return t="noop"===n?new IH:("zone.js"===n?void 0:n)||new ve({enableLongStackTrace:Y_(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ve,useValue:a}];return a.run(()=>{const u=ze.create({providers:l,parent:this.injector,name:t.moduleType.name}),c=t.create(u),d=c.injector.get(Js,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{X_(this._modules,c),h.unsubscribe()})}),function(n,e,t){try{const i=t();return _c(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=c.injector.get(jl);return h.runInitializers(),h.donePromise.then(()=>(c_(c.injector.get(ps,zh)||zh),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,i=[]){const r=pE({},i);return function(n,e,t){const i=new P_(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ul);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Re(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(O(ze))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function pE(n,e){return Array.isArray(e)?e.reduce(pE,n):Object.assign(Object.assign({},n),e)}let Ul=(()=>{class n{constructor(t,i,r,o,s){this._zone=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Te(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new Te(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),W_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=st(a,l.pipe(Hs()))}bootstrap(t,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=t instanceof jT?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const o=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(go),a=r.create(ze.NULL,[],i||r.selector,o),l=a.location.nativeElement,u=a.injector.get(Q_,null),c=u&&a.injector.get(aE);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),X_(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;X_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nE,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(O(ve),O(ze),O(Js),O(er),O(jl))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function X_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class uf{}class WH{}const qH={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let KH=(()=>{class n{constructor(t,i){this._compiler=t,this._config=i||qH}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[i,r]=t.split("#");return void 0===r&&(r="default"),pi(586)(i).then(o=>o[r]).then(o=>yE(o,i,r)).then(o=>this._compiler.compileModuleAsync(o))}loadFactory(t){let[i,r]=t.split("#"),o="NgFactory";return void 0===r&&(r="default",o=""),pi(586)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(s=>s[r+o]).then(s=>yE(s,i,r))}}return n.\u0275fac=function(t){return new(t||n)(O(ra),O(WH,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function yE(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const rB=dE(null,"core",[{provide:$c,useValue:"unknown"},{provide:fE,deps:[ze]},{provide:aE,deps:[]},{provide:af,deps:[]}]),uB=[{provide:Ul,useClass:Ul,deps:[ve,ze,Js,er,jl]},{provide:gV,deps:[ve],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:jl,useClass:jl,deps:[[new Ke,Hc]]},{provide:ra,useClass:ra,deps:[]},mH,{provide:Mc,useFactory:function(){return u2},deps:[]},{provide:Nl,useFactory:function(){return c2},deps:[]},{provide:ps,useFactory:function(n){return c_(n=n||"undefined"!=typeof $localize&&$localize.locale||zh),n},deps:[[new y(ps),new Ke,new ro]]},{provide:iE,useValue:"USD"}];let dB=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(O(Ul))},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:uB}),n})(),vf=null;function mo(){return vf}const ge=new P("DocumentToken");let aa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:c$,token:n,providedIn:"platform"}),n})();function c$(){return O(jE)}const d$=new P("Location Initialized");let jE=(()=>{class n extends aa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mo().getBaseHref(this._doc)}onPopState(t){const i=mo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=mo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){UE()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){UE()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(O(ge))},n.\u0275prov=K({factory:h$,token:n,providedIn:"platform"}),n})();function UE(){return!!window.history.pushState}function h$(){return new jE(O(ge))}function py(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function No(n){return n&&"?"!==n[0]?"?"+n:n}let la=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:f$,token:n,providedIn:"root"}),n})();function f$(n){const e=O(ge).location;return new GE(O(aa),e&&e.origin||"")}const gy=new P("appBaseHref");let GE=(()=>{class n extends la{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return py(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+No(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+No(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+No(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(O(aa),O(gy,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),WE=(()=>{class n extends la{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=py(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+No(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+No(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(O(aa),O(gy,8))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),bf=(()=>{class n{constructor(t,i){this._subject=new ft,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=zE(qE(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+No(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+No(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+No(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.\u0275fac=function(t){return new(t||n)(O(la),O(aa))},n.normalizeQueryParams=No,n.joinWithSlash=py,n.stripTrailingSlash=zE,n.\u0275prov=K({factory:p$,token:n,providedIn:"root"}),n})();function p$(){return new bf(O(la),O(aa))}function qE(n){return n.replace(/\/index.html$/,"")}var bi=(()=>((bi=bi||{})[bi.Decimal=0]="Decimal",bi[bi.Percent=1]="Percent",bi[bi.Currency=2]="Currency",bi[bi.Scientific=3]="Scientific",bi))(),dn=(()=>((dn=dn||{})[dn.Zero=0]="Zero",dn[dn.One=1]="One",dn[dn.Two=2]="Two",dn[dn.Few=3]="Few",dn[dn.Many=4]="Many",dn[dn.Other=5]="Other",dn))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function ir(n,e){const t=oi(n),i=t[Q.NumberSymbols][e];if(void 0===i){if(e===fe.CurrencyDecimal)return t[Q.NumberSymbols][fe.Decimal];if(e===fe.CurrencyGroup)return t[Q.NumberSymbols][fe.Group]}return i}const D$=function(n){return oi(n)[Q.PluralCase]},$$=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Cy(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class If{}let Y$=(()=>{class n extends If{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(D$(i||this.locale)(t)){case dn.Zero:return"zero";case dn.One:return"one";case dn.Two:return"two";case dn.Few:return"few";case dn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(O(ps))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),Of=(()=>{class n{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const i=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const s=i.get(go);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(s.injector)}else this._moduleRef=null;const o=(this._moduleRef?this._moduleRef.componentFactoryResolver:i.get(er)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(o,this._viewContainerRef.length,i,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return n.\u0275fac=function(t){return new(t||n)(g(Tn))},n.\u0275dir=L({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[Cn]}),n})();class e3{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ms=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=[];t.forEachOperation((r,o,s)=>{if(null==r.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new e3(null,this._ngForOf,-1,-1),null===s?void 0:s),l=new n1(r,a);i.push(l)}else if(null==s)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const a=this._viewContainer.get(o);this._viewContainer.move(a,s);const l=new n1(r,a);i.push(l)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,o=this._viewContainer.length;r<o;r++){const s=this._viewContainer.get(r);s.context.index=r,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(t,i){t.context.$implicit=i.item}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(g(Tn),g(jn),g(Mc))},n.\u0275dir=L({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class n1{constructor(e,t){this.record=e,this.view=t}}let Rt=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new n3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){i1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){i1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(g(Tn),g(jn))},n.\u0275dir=L({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class n3{constructor(){this.$implicit=null,this.ngIf=null}}function i1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Re(e)}'.`)}let Ey=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(g(Tn))},n.\u0275dir=L({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Cn]}),n})();function Lr(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Re(n)}'`)}class a3{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class l3{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const u3=new l3,c3=new a3;let Li=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(_c(t))return u3;if(EC(t))return c3;throw Lr(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(g(Vt,16))},n.\u0275pipe=Pn({name:"async",type:n,pure:!1}),n})();const h3=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Sy=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Lr(n,t);return t.replace(h3,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Pn({name:"titlecase",type:n,pure:!0}),n})(),s1=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;r=r||this._locale;try{return function(n,e,t){return function(n,e,t,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let u=function(n){let i,r,o,s,a,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);s&&(u=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(u));let c=e.minInt,d=e.minFrac,h=e.maxFrac;if(o){const D=o.match($$);if(null===D)throw new Error(`${o} is not a valid digit info`);const V=D[1],j=D[3],_e=D[5];null!=V&&(c=Cy(V)),null!=j&&(d=Cy(j)),null!=_e?h=Cy(_e):null!=j&&d>h&&(h=d)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(e,r),t);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let d=s;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let d=1;d<s;d++)i[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const u=e+n.integerLen,c=i.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=u?p.pop():l=!1),h>=10?1:0},0);c&&(i.unshift(c),n.integerLen++)}(u,d,h);let f=u.digits,p=u.integerLen;const _=u.exponent;let m=[];for(l=f.every(D=>!D);p<c;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const C=[];for(f.length>=e.lgSize&&C.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)C.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&C.unshift(f.join("")),a=C.join(ir(t,i)),m.length&&(a+=ir(t,r)+m.join("")),_&&(a+=ir(t,fe.Exponential)+"+"+_)}else a=ir(t,fe.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const d=l.charAt(c);"0"===d?t.minFrac=t.maxFrac=c+1:"#"===d?t.maxFrac=c+1:t.posSuf+=d}const u=a.split(",");if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const c=r.length-t.posPre.length-t.posSuf.length,d=o.indexOf("#");t.negPre=o.substr(0,d).replace(/'/g,""),t.negSuf=o.substr(d+c).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return oi(n)[Q.NumberFormats][e]}(e,bi.Decimal),ir(e,fe.MinusSign)),e,fe.Group,fe.Decimal,t)}(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(o){throw Lr(n,o.message)}}}return n.\u0275fac=function(t){return new(t||n)(g(ps,16))},n.\u0275pipe=Pn({name:"number",type:n,pure:!0}),n})();let lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:[{provide:If,useClass:Y$}]}),n})();let Pf=(()=>{class n{}return n.\u0275prov=K({token:n,providedIn:"root",factory:()=>new x3(O(ge),window)}),n})();class x3{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=l1(this.window.history)||l1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function l1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Iy extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){vf||(vf=n)}(new Iy)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Kc=Kc||document.querySelector("base"),Kc?Kc.getAttribute("href"):null);return null==t?null:function(n){Rf=Rf||document.createElement("a"),Rf.setAttribute("href",n);const e=Rf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Rf,Kc=null;const u1=new P("TRANSITION_ID"),N3=[{provide:Hc,useFactory:function(n,e,t){return()=>{t.get(jl).donePromise.then(()=>{const i=mo(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[u1,ge,ze],multi:!0}];class Oy{static init(){!function(n){Z_=n}(new Oy)}addToWindow(e){R.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},R.getAllAngularTestabilities=()=>e.getAllTestabilities(),R.getAllAngularRootElements=()=>e.getAllRootElements(),R.frameworkStabilizers||(R.frameworkStabilizers=[]),R.frameworkStabilizers.push(i=>{const r=R.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?mo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}}let k3=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const Vi=new P("EventManagerPlugins");let Nf=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(O(Vi),O(ve))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class Py{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=mo().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let d1=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),Qc=(()=>{class n extends d1{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(h1),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(h1))}}return n.\u0275fac=function(t){return new(t||n)(O(ge))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function h1(n){mo().remove(n)}const Ry={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fy=/%COMP%/g;function kf(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?kf(n,r,t):(r=r.replace(Fy,n),t.push(r))}return t}function g1(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Lf=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ny(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case kt.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Y3(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case kt.ShadowDom:return new J3(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=kf(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(O(Nf),O(Qc),O(Bc))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class Ny{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ry[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Ry[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ry[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ri.DashCase|Ri.Important)?e.style.setProperty(t,i,r&Ri.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ri.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,g1(i)):this.eventManager.addEventListener(e,t,g1(i))}}class Y3 extends Ny{constructor(e,t,i,r){super(e),this.component=i;const o=kf(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(Fy,n)}(r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Fy,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class J3 extends Ny{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=kf(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let X3=(()=>{class n extends Py{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(O(ge))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const y1=["alt","control","meta","shift"],sj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},aj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let lj=(()=>{class n extends Py{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mo().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(y1.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(t){let i="",r=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&v1.hasOwnProperty(e)&&(e=v1[e]))}return sj[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),y1.forEach(o=>{o!=r&&aj[o](t)&&(i+=o+".")}),i+=r,i}static eventCallback(t,i,r){return o=>{n.getEventFullKey(o)===t&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(O(ge))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),Lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:function(){return O(Ly)},token:n,providedIn:"root"}),n})(),Ly=(()=>{class n extends Lo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Ue.NONE:return i;case Ue.HTML:return oo(i,"HTML")?Pi(i):ww(this._doc,String(i)).toString();case Ue.STYLE:return oo(i,"Style")?Pi(i):i;case Ue.SCRIPT:if(oo(i,"Script"))return Pi(i);throw new Error("unsafe value used in a script context");case Ue.URL:return fw(i),oo(i,"URL")?Pi(i):ic(String(i));case Ue.RESOURCE_URL:if(oo(i,"ResourceURL"))return Pi(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new JP(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new XP(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new eR(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new tR(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new nR(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(O(ge))},n.\u0275prov=K({factory:function(){return function(n){return new Ly(n.get(ge))}(O(ml))},token:n,providedIn:"root"}),n})();const pj=[{provide:$c,useValue:"browser"},{provide:tE,useValue:function(){Iy.makeCurrent(),Oy.init()},multi:!0},{provide:ge,useFactory:function(){return function(n){Pg=n}(document),document},deps:[]}],mj=dE(rB,"browser",pj),_j=[[],{provide:dc,useValue:"root"},{provide:Js,useFactory:function(){return new Js},deps:[]},{provide:Vi,useClass:X3,multi:!0,deps:[ge,ve,$c]},{provide:Vi,useClass:lj,multi:!0,deps:[ge]},[],{provide:Lf,useClass:Lf,deps:[Nf,Qc,Bc]},{provide:hs,useExisting:Lf},{provide:d1,useExisting:Qc},{provide:Qc,useClass:Qc,deps:[ge]},{provide:Q_,useClass:Q_,deps:[ve]},{provide:Nf,useClass:Nf,deps:[Vi,ve]},{provide:class{},useClass:k3,deps:[]},[]];let Vy=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Bc,useValue:t.appId},{provide:u1,useExisting:Bc},N3]}}}return n.\u0275fac=function(t){return new(t||n)(O(n,12))},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:_j,imports:[lt,dB]}),n})();function vj(){return new Hy(O(ge))}let Hy=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(O(ge))},n.\u0275prov=K({factory:vj,token:n,providedIn:"root"}),n})();"undefined"!=typeof window&&window;var Mj=pi(358);const w1=new P("Config for DOMPurify",{factory:()=>({}),providedIn:"root"}),D1=new P("Hooks for DOMPurify",{factory:()=>[],providedIn:"root"}),C1=new P("A function that sanitizes value for a CSS rule",{factory:()=>n=>n,providedIn:"root"}),Ej=Mj;class _o{constructor(e,t,{defaultView:i},r){this.config=e,this.sanitizeStyle=t,this.domPurify=Ej(i),r.forEach(({name:o,hook:s})=>{this.domPurify.addHook(o,s)})}sanitize(e,t,i=this.config){if(e===Ue.SCRIPT)throw new Error("DOMPurify does not support SCRIPT context");return e===Ue.STYLE?this.sanitizeStyle(String(t)):this.domPurify.sanitize(String(t||""),i)}}_o.\u0275fac=function(e){return new(e||_o)(O(w1),O(C1),O(ge),O(D1))},_o.\u0275prov=K({token:_o,factory:_o.\u0275fac,providedIn:"root"}),_o.ngInjectableDef=Nu({factory:function(){return new _o(qe(w1),qe(C1),qe(ge),qe(D1))},token:_o,providedIn:"root"});class T1{}const Vo="*";function nn(n,e){return{type:7,name:n,definitions:e,options:{}}}function Oe(n,e=null){return{type:4,styles:e,timings:n}}function M1(n,e=null){return{type:2,steps:n,options:e}}function H(n){return{type:6,styles:n,offset:null}}function Be(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function E1(n=null){return{type:9,options:n}}function Sn(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Gn(n,e){return{type:12,timings:n,animation:e}}function S1(n){Promise.resolve(null).then(n)}class Wl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){S1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class x1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?S1(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function A1(){return"undefined"!=typeof window&&void 0!==window.document}function jy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ys(n){switch(n.length){case 0:return new Wl;case 1:return n[0];default:return new x1(n)}}function I1(n,e,t,i,r={},o={}){const s=[],a=[];let l=-1,u=null;if(i.forEach(c=>{const d=c.offset,h=d==l,f=h&&u||{};Object.keys(c).forEach(p=>{let _=p,m=c[p];if("offset"!==p)switch(_=e.normalizePropertyName(_,s),m){case"!":m=r[p];break;case Vo:m=o[p];break;default:m=e.normalizeStyleValue(p,_,m,s)}f[_]=m}),h||a.push(f),u=f,l=d}),s.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${s.join(c)}`)}return a}function Uy(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&zy(t,"start",n)));break;case"done":n.onDone(()=>i(t&&zy(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&zy(t,"destroy",n)))}}function zy(n,e,t){const o=Gy(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Gy(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Hi(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function O1(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Wy=(n,e)=>!1,qy=(n,e)=>!1,P1=(n,e,t)=>[];const R1=jy();(R1||"undefined"!=typeof Element)&&(Wy=A1()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),qy=(()=>{if(R1||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):qy}})(),P1=(n,e,t)=>{let i=[];if(t){const r=n.querySelectorAll(e);for(let o=0;o<r.length;o++)i.push(r[o])}else{const r=n.querySelector(e);r&&i.push(r)}return i});let ua=null,F1=!1;function Ky(n){ua||(ua=("undefined"!=typeof document?document.body:null)||{},F1=!!ua.style&&"WebkitAppearance"in ua.style);let e=!0;return ua.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ua.style,!e&&F1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ua.style)),e}const Qy=qy,Zy=Wy,Yy=P1;function N1(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let k1=(()=>{class n{validateStyleProperty(t){return Ky(t)}matchesElement(t,i){return Qy(t,i)}containsElement(t,i){return Zy(t,i)}query(t,i,r){return Yy(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Wl(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),Jy=(()=>{class n{}return n.NOOP=new k1,n})();const Xy="ng-enter",Vf="ng-leave",Hf="ng-trigger",Bf=".ng-trigger",V1="ng-animating",ev=".ng-animating";function ca(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tv(parseFloat(e[1]),e[2])}function tv(n,e){return"s"===e?1e3*n:n}function $f(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=tv(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=tv(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:o,easing:s}}(n,e,t)}function ql(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function vs(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else ql(n,t);return t}function B1(n,e,t){return t?e+":"+t+";":""}function $1(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=B1(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=B1(0,Nj(t),n.style[t]));n.setAttribute("style",e)}function yo(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=iv(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),jy()&&$1(n))}function da(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=iv(t);n.style[i]=""}),jy()&&$1(n))}function Zc(n){return Array.isArray(n)?1==n.length?n[0]:M1(n):n}const nv=new RegExp("{{\\s*(.+?)\\s*}}","g");function j1(n){let e=[];if("string"==typeof n){let t;for(;t=nv.exec(n);)e.push(t[1]);nv.lastIndex=0}return e}function jf(n,e,t){const i=n.toString(),r=i.replace(nv,(o,s)=>{let a=e[s];return e.hasOwnProperty(s)||(t.push(`Please provide a value for the animation param ${s}`),a=""),a.toString()});return r==i?n:r}function Uf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Fj=/-+([a-z0-9])/g;function iv(n){return n.replace(Fj,(...e)=>e[1].toUpperCase())}function Nj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function U1(n,e){return 0===n||0===e}function z1(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=t[a]}),s.length)for(var r=1;r<e.length;r++){let a=e[r];s.forEach(function(l){a[l]=rv(n,l)})}}return e}function Bi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function rv(n,e){return window.getComputedStyle(n)[e]}function kj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(G1(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&e.push(G1(s,r))}(i,t,e)):t.push(n),t}const Gf=new Set(["true","1"]),Wf=new Set(["false","0"]);function G1(n,e){const t=Gf.has(n)||Wf.has(n),i=Gf.has(e)||Wf.has(e);return(r,o)=>{let s="*"==n||n==r,a="*"==e||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Gf.has(n):Wf.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Gf.has(e):Wf.has(e)),s&&a}}const Hj=new RegExp("s*:selfs*,?","g");function ov(n,e,t){return new Bj(n).build(e,t)}class Bj{constructor(e){this._driver=e}build(e,t){const i=new Uj(t);return this._resetContextStyleTimingState(i),Bi(this,Zc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};if(i.styles.forEach(a=>{if(qf(a)){const l=a;Object.keys(l).forEach(u=>{j1(l[u]).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}}),o.size){const a=Uf(o.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Bi(this,Zc(e.animation),t);return{type:1,matchers:kj(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ha(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Bi(this,i,t)),options:ha(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Bi(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:ha(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return sv($f(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=sv(0,0,"");return o.dynamic=!0,o.strValue=i,o}return t=t||$f(i,e),sv(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:H({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=H(u)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(s=>{"string"==typeof s?s==Vo?i.push(s):t.errors.push(`The provided style string value ${s} is not allowed.`):i.push(s)}):i.push(e.styles);let r=!1,o=null;return i.forEach(s=>{if(qf(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let u in a)if(a[u].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],u=l[a];let c=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${u.startTime}ms" and "${u.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${r}ms"`),c=!1),o=u.startTime),c&&(l[a]={startTime:o,endTime:r}),t.options&&function(n,e,t){const i=e.params||{},r=j1(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(s[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const s=[];let a=!1,l=!1,u=0;const c=e.steps.map(C=>{const D=this._makeStyleAst(C,t);let V=null!=D.offset?D.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(qf(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(qf(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(D.styles),j=0;return null!=V&&(o++,j=D.offset=V),l=l||j<0||j>1,a=a||j<u,u=j,s.push(j),D});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,_=t.currentAnimateTimings,m=_.duration;return c.forEach((C,D)=>{const V=h>0?D==f?1:h*D:s[D],j=V*m;t.currentTime=p+_.delay+j,_.duration=j,this._validateStyleAst(C,t),C.offset=V,i.styles.push(C)}),i}visitReference(e,t){return{type:8,animation:Bi(this,Zc(e.animation),t),options:ha(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ha(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ha(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Hj,"")),n=n.replace(/@\*/g,Bf).replace(/@\w+/g,t=>Bf+"-"+t.substr(1)).replace(/:animating/g,ev),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Hi(t.collectedStyles,t.currentQuerySelector,{});const a=Bi(this,Zc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ha(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:$f(e.timings,t.errors,!0);return{type:12,animation:Bi(this,Zc(e.animation),t),timings:i,options:null}}}class Uj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qf(n){return!Array.isArray(n)&&"object"==typeof n}function ha(n){return n?(n=ql(n)).params&&(n.params=function(n){return n?ql(n):null}(n.params)):n={},n}function sv(n,e,t){return{duration:n,delay:e,easing:t}}function av(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Kf{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Kj=new RegExp(":enter","g"),Zj=new RegExp(":leave","g");function lv(n,e,t,i,r,o={},s={},a,l,u=[]){return(new Yj).buildKeyframes(n,e,t,i,r,o,s,a,l,u)}class Yj{buildKeyframes(e,t,i,r,o,s,a,l,u,c=[]){u=u||new Kf;const d=new uv(e,t,u,r,o,c,[]);d.options=l,d.currentTimeline.setStyles([s],null,d.errors,l),Bi(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[av(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?ca(i.duration):null,a=null!=i.delay?ca(i.delay):null;return 0!==s&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Bi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qf);const s=ca(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Bi(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ca(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Bi(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return $f(t.params?jf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ca(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qf);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,u);o&&d.delayNextStep(o),u===t.element&&(l=d.currentTimeline),Bi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Bi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Qf={};class uv{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Zf(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ca(i.duration)),null!=i.delay&&(r.delay=ca(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=jf(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new uv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Qf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Jj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Kj,"."+this._enterClassName)).replace(Zj,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Zf{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Zf(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Vo,this._currentKeyframe[t]=Vo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const o=r&&r.params||{},s=function(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(o=>{t[o]=Vo})):vs(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=jf(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Vo),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=vs(a,!0);Object.keys(u).forEach(c=>{const d=u[c];"!"==d?e.add(c):d==Vo&&t.add(c)}),i||(u.offset=l/this.duration),r.push(u)});const o=e.size?Uf(e.values()):[],s=t.size?Uf(t.values()):[];if(i){const a=r[0],l=ql(a);a.offset=0,l.offset=1,r=[a,l]}return av(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Jj extends Zf{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=vs(e[0],!1);l.offset=0,o.push(l);const u=vs(e[0],!1);u.offset=K1(a),o.push(u);const c=e.length-1;for(let d=1;d<=c;d++){let h=vs(e[d],!1);h.offset=K1((t+h.offset*i)/s),o.push(h)}i=s,t=0,r="",e=o}return av(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function K1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class cv{}class eU extends cv{normalizePropertyName(e,t){return iv(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(tU[t]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return s+o}}const tU=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Q1(n,e,t,i,r,o,s,a,l,u,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}const dv={};class Z1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],o=this._stateStyles[e],s=r?r.buildStyles(t,i):{};return o?o.buildStyles(t,i):s}build(e,t,i,r,o,s,a,l,u,c){const d=[],h=this.ast.options&&this.ast.options.params||dv,p=this.buildStyles(i,a&&a.params||dv,d),_=l&&l.params||dv,m=this.buildStyles(r,_,d),C=new Set,D=new Map,V=new Map,j="void"===r,_e={params:Object.assign(Object.assign({},h),_)},dt=c?[]:lv(e,t,this.ast.animation,o,s,p,m,_e,u,d);let mt=0;if(dt.forEach(Jn=>{mt=Math.max(Jn.duration+Jn.delay,mt)}),d.length)return Q1(t,this._triggerName,i,r,j,p,m,[],[],D,V,mt,d);dt.forEach(Jn=>{const Xn=Jn.element,Yo=Hi(D,Xn,{});Jn.preStyleProps.forEach(zr=>Yo[zr]=!0);const Jo=Hi(V,Xn,{});Jn.postStyleProps.forEach(zr=>Jo[zr]=!0),Xn!==t&&C.add(Xn)});const fi=Uf(C.values());return Q1(t,this._triggerName,i,r,j,p,m,dt,fi,D,V,mt)}}class rU{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=ql(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=jf(l,r,t));const u=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,u,l,t),i[u]=l})}}),i}}class sU{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new rU(r.style,r.options&&r.options.params||{},i)}),Y1(this.states,"true","1"),Y1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Z1(e,r,this.states))}),this.fallbackTransition=function(n,e,t){return new Z1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Y1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const lU=new Kf;class uU{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=ov(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,o=I1(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations[e];let s;const a=new Map;if(o?(s=lv(this._driver,t,o,Xy,Vf,{},{},i,lU,r),s.forEach(c=>{const d=Hi(a,c.element,{});c.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((c,d)=>{Object.keys(c).forEach(h=>{c[h]=this._driver.computeStyle(d,h,Vo)})});const u=ys(s.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[e]=u,u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const o=Gy(t,"","","");return Uy(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const J1="ng-animate-queued",X1="ng-animate-disabled",eS=".ng-animate-disabled",fU=[],tS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed";class hv{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return n??null}(i?e.value:e),i){const o=ql(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Yc="void",fv=new hv(Yc);class gU{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,sr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const o=Hi(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Hi(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(sr(e,Hf),sr(e,Hf+"-"+t),a[t]=fv),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new pv(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(sr(e,Hf),sr(e,Hf+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const u=new hv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[t]=u,l||(l=fv),u.value!==Yc&&l.value===u.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,u.params)){const _=[],m=o.matchStyles(l.value,l.params,_),C=o.matchStyles(u.value,u.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{da(e,m),yo(e,C)})}return}const h=Hi(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=o.matchTransition(l.value,u.value,e,u.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:u,player:s,isFallbackTransition:p}),p||(sr(e,J1),s.onStart(()=>{Kl(e,J1)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);const m=this._engine.playersByElement.get(e);if(m){let C=m.indexOf(s);C>=0&&m.splice(C,1)}}),this.players.push(s),h.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Bf,!0);i.forEach(r=>{if(r[or])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e);if(o){const s=[];if(Object.keys(o).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Yc,r);l&&s.push(l)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&ys(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,u=i[s]||fv,c=new hv(Yc),d=new pv(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[or];(!o||o===tS)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){sr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Gy(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,Uy(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class mU{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new gU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&t.add(a)}}}return t}trigger(e,t,i,r){if(Yf(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Yf(t))return;const o=t[or];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),sr(e,X1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kl(e,X1))}removeNode(e,t,i,r){if(Yf(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r){this.collectedLeaveElements.push(t),t[or]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,r,o){return Yf(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Bf,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ev,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ys(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[or];if(t&&t.setForRemoval){if(e[or]=tS,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,eS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,eS,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)sr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ys(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new Kf,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(Y=>{c.add(Y);const de=this.driver.query(Y,".ng-animate-queued",!0);for(let Ie=0;Ie<de.length;Ie++)c.add(de[Ie])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=rS(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((Y,de)=>{const Ie=Xy+_++;p.set(de,Ie),Y.forEach(nt=>sr(nt,Ie))});const m=[],C=new Set,D=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){const de=this.collectedLeaveElements[Y],Ie=de[or];Ie&&Ie.setForRemoval&&(m.push(de),C.add(de),Ie.hasAnimation?this.driver.query(de,".ng-star-inserted",!0).forEach(nt=>C.add(nt)):D.add(de))}const V=new Map,j=rS(h,Array.from(C));j.forEach((Y,de)=>{const Ie=Vf+_++;V.set(de,Ie),Y.forEach(nt=>sr(nt,Ie))}),e.push(()=>{f.forEach((Y,de)=>{const Ie=p.get(de);Y.forEach(nt=>Kl(nt,Ie))}),j.forEach((Y,de)=>{const Ie=V.get(de);Y.forEach(nt=>Kl(nt,Ie))}),m.forEach(Y=>{this.processLeaveNode(Y)})});const _e=[],dt=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(t).forEach(Ie=>{const nt=Ie.player,An=Ie.element;if(_e.push(nt),this.collectedEnterElements.length){const To=An[or];if(To&&To.setForMove)return void nt.destroy()}const Co=!d||!this.driver.containsElement(d,An),ji=V.get(An),Ps=p.get(An),Yt=this._buildInstruction(Ie,i,Ps,ji,Co);if(Yt.errors&&Yt.errors.length)dt.push(Yt);else{if(Co)return nt.onStart(()=>da(An,Yt.fromStyles)),nt.onDestroy(()=>yo(An,Yt.toStyles)),void r.push(nt);if(Ie.isFallbackTransition)return nt.onStart(()=>da(An,Yt.fromStyles)),nt.onDestroy(()=>yo(An,Yt.toStyles)),void r.push(nt);Yt.timelines.forEach(To=>To.stretchStartingKeyframe=!0),i.append(An,Yt.timelines),s.push({instruction:Yt,player:nt,element:An}),Yt.queriedElements.forEach(To=>Hi(a,To,[]).push(nt)),Yt.preStyleProps.forEach((To,Ad)=>{const lg=Object.keys(To);if(lg.length){let Na=l.get(Ad);Na||l.set(Ad,Na=new Set),lg.forEach(fb=>Na.add(fb))}}),Yt.postStyleProps.forEach((To,Ad)=>{const lg=Object.keys(To);let Na=u.get(Ad);Na||u.set(Ad,Na=new Set),lg.forEach(fb=>Na.add(fb))})}});if(dt.length){const Y=[];dt.forEach(de=>{Y.push(`@${de.triggerName} has failed due to:\n`),de.errors.forEach(Ie=>Y.push(`- ${Ie}\n`))}),_e.forEach(de=>de.destroy()),this.reportError(Y)}const mt=new Map,fi=new Map;s.forEach(Y=>{const de=Y.element;i.has(de)&&(fi.set(de,de),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,mt))}),r.forEach(Y=>{const de=Y.element;this._getPreviousPlayers(de,!1,Y.namespaceId,Y.triggerName,null).forEach(nt=>{Hi(mt,de,[]).push(nt),nt.destroy()})});const Jn=m.filter(Y=>sS(Y,l,u)),Xn=new Map;iS(Xn,this.driver,D,u,Vo).forEach(Y=>{sS(Y,l,u)&&Jn.push(Y)});const Jo=new Map;f.forEach((Y,de)=>{iS(Jo,this.driver,new Set(Y),l,"!")}),Jn.forEach(Y=>{const de=Xn.get(Y),Ie=Jo.get(Y);Xn.set(Y,Object.assign(Object.assign({},de),Ie))});const zr=[],gu=[],mu={};s.forEach(Y=>{const{element:de,player:Ie,instruction:nt}=Y;if(i.has(de)){if(c.has(de))return Ie.onDestroy(()=>yo(de,nt.toStyles)),Ie.disabled=!0,Ie.overrideTotalTime(nt.totalTime),void r.push(Ie);let An=mu;if(fi.size>1){let ji=de;const Ps=[];for(;ji=ji.parentNode;){const Yt=fi.get(ji);if(Yt){An=Yt;break}Ps.push(ji)}Ps.forEach(Yt=>fi.set(Yt,An))}const Co=this._buildAnimation(Ie.namespaceId,nt,mt,o,Jo,Xn);if(Ie.setRealPlayer(Co),An===mu)zr.push(Ie);else{const ji=this.playersByElement.get(An);ji&&ji.length&&(Ie.parentPlayer=ys(ji)),r.push(Ie)}}else da(de,nt.fromStyles),Ie.onDestroy(()=>yo(de,nt.toStyles)),gu.push(Ie),c.has(de)&&r.push(Ie)}),gu.forEach(Y=>{const de=o.get(Y.element);if(de&&de.length){const Ie=ys(de);Y.setRealPlayer(Ie)}}),r.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<m.length;Y++){const de=m[Y],Ie=de[or];if(Kl(de,Vf),Ie&&Ie.hasAnimation)continue;let nt=[];if(a.size){let Co=a.get(de);Co&&Co.length&&nt.push(...Co);let ji=this.driver.query(de,ev,!0);for(let Ps=0;Ps<ji.length;Ps++){let Yt=a.get(ji[Ps]);Yt&&Yt.length&&nt.push(...Yt)}}const An=nt.filter(Co=>!Co.destroyed);An.length?bU(this,de,An):this.processLeaveNode(de)}return m.length=0,zr.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();const de=this.players.indexOf(Y);this.players.splice(de,1)}),Y.play()}),zr}elementContainsData(e,t){let i=!1;const r=t[or];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Yc;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==o,d=Hi(i,u,[]);this._getPreviousPlayers(u,c,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}da(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const _=p.element;c.add(_);const m=_[or];if(m&&m.removedBeforeQueried)return new Wl(p.duration,p.delay);const C=_!==l,D=function(n){const e=[];return oS(n,e),e}((i.get(_)||fU).map(mt=>mt.getRealPlayer())).filter(mt=>!!mt.element&&mt.element===_),V=o.get(_),j=s.get(_),_e=I1(0,this._normalizer,0,p.keyframes,V,j),dt=this._buildPlayer(p,_e,D);if(p.subTimeline&&r&&d.add(_),C){const mt=new pv(e,a,_);mt.setRealPlayer(dt),u.push(mt)}return dt});u.forEach(p=>{Hi(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>sr(p,V1));const f=ys(h);return f.onDestroy(()=>{c.forEach(p=>Kl(p,V1)),yo(l,t.toStyles)}),d.forEach(p=>{Hi(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Wl(e.duration,e.delay)}}class pv{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Wl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Uy(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Hi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yf(n){return n&&1===n.nodeType}function nS(n,e){const t=n.style.display;return n.style.display=e??"none",t}function iS(n,e,t,i,r){const o=[];t.forEach(l=>o.push(nS(l)));const s=[];i.forEach((l,u)=>{const c={};l.forEach(d=>{const h=c[d]=e.computeStyle(u,d,r);(!h||0==h.length)&&(u[or]=pU,s.push(u))}),n.set(u,c)});let a=0;return t.forEach(l=>nS(l,o[a++])),s}function rS(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}const Jf="$$classes";function sr(n,e){if(n.classList)n.classList.add(e);else{let t=n[Jf];t||(t=n[Jf]={}),t[e]=!0}}function Kl(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Jf];t&&delete t[e]}}function bU(n,e,t){ys(t).onDone(()=>n.processLeaveNode(e))}function oS(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof x1?oS(i.players,e):e.push(i)}}function sS(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Jc{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new mU(e,t,i),this._timelineEngine=new uU(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=ov(this._driver,o,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new sU(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=O1(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=O1(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function aS(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=gv(e[0]),e.length>1&&(i=gv(e[e.length-1]))):e&&(t=gv(e)),t||i?new CU(n,t,i):null}let CU=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&yo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yo(this._element,this._initialStyles),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(da(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(da(this._element,this._endStyles),this._endStyles=null),yo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function gv(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];TU(r)&&(e=e||{},e[r]=n[r])}return e}function TU(n){return"display"===n||"position"===n}const lS="animation",uS="animationend";class SU{constructor(e,t,i,r,o,s,a){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=_v(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),Xf(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),hS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cS(this._element,this._name,"paused")}resume(){cS(this._element,this._name,"running")}setPosition(e){const t=dS(this._element,this._name);this._position=e*this._duration,Xf(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),hS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=_v(n,"").split(","),r=mv(i,e);r>=0&&(i.splice(r,1),Xf(n,"",i.join(",")))}(this._element,this._name))}}function cS(n,e,t){Xf(n,"PlayState",t,dS(n,e))}function dS(n,e){const t=_v(n,"");return t.indexOf(",")>0?mv(t.split(","),e):mv([t],e)}function mv(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function hS(n,e,t){t?n.removeEventListener(uS,e):n.addEventListener(uS,e)}function Xf(n,e,t,i){const r=lS+e;if(null!=i){const o=n.style[r];if(o.length){const s=o.split(",");s[i]=t,t=s.join(",")}}n.style[r]=t}function _v(n,e){return n.style[lS+e]||""}class fS{constructor(e,t,i,r,o,s,a,l){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new SU(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:rv(this.element,i))})}this.currentSnapshot=e}}class RU extends Wl{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=N1(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class gS{constructor(){this._count=0}validateStyleProperty(e){return Ky(e)}matchesElement(e,t){return Qy(e,t)}containsElement(e,t){return Zy(e,t)}query(e,t,i){return Yy(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(a=>N1(a));let r=`@keyframes ${t} {\n`,o="";i.forEach(a=>{o=" ";const l=parseFloat(a.offset);r+=`${o}${100*l}% {\n`,o+=" ",Object.keys(a).forEach(u=>{const c=a[u];switch(u){case"offset":return;case"easing":return void(c&&(r+=`${o}animation-timing-function: ${c};\n`));default:return void(r+=`${o}${u}: ${c};\n`)}}),r+=`${o}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,i,r,o,s=[],a){const l=s.filter(m=>m instanceof fS),u={};U1(i,r)&&l.forEach(m=>{let C=m.currentSnapshot;Object.keys(C).forEach(D=>u[D]=C[D])});const c=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(t=z1(e,t,u));if(0==i)return new RU(e,c);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=aS(e,t),_=new fS(e,t,d,i,r,o,c,p);return _.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),_}}class _S{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:rv(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class VU{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(yS().toString()),this._cssKeyframesDriver=new gS}validateStyleProperty(e){return Ky(e)}matchesElement(e,t){return Qy(e,t)}containsElement(e,t){return Zy(e,t)}query(e,t,i){return Yy(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,o,s=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,o,s);const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const d={},h=s.filter(p=>p instanceof _S);U1(i,r)&&h.forEach(p=>{let _=p.currentSnapshot;Object.keys(_).forEach(m=>d[m]=_[m])});const f=aS(e,t=z1(e,t=t.map(p=>vs(p,!1)),d));return new _S(e,t,c,f)}}function yS(){return A1()&&Element.prototype.animate||{}}let BU=(()=>{class n extends T1{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:kt.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?M1(t):t;return vS(this._renderer,null,i,"register",[r]),new $U(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(O(hs),O(ge))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class $U extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new jU(this._id,e,t||{},this._renderer)}}class jU{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return vS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function vS(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const bS="@.disabled";let UU=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{s&&s.parentNode(o)&&s.removeChild(o.parentNode,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(o);return c||(c=new wS("",o,this.engine),this._rendererCache.set(o,c)),c}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,t,c.name,c)};return i.data.animation.forEach(l),new zU(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(O(hs),O(Jc),O(ve))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();class wS{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==bS?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class zU extends wS{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==bS?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let qU=(()=>{class n extends Jc{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(O(ge),O(Jy),O(cv))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const DS=new P("AnimationModuleType"),CS=[{provide:T1,useClass:BU},{provide:cv,useFactory:function(){return new eU}},{provide:Jc,useClass:qU},{provide:hs,useFactory:function(n,e,t){return new UU(n,e,t)},deps:[Lf,Jc,ve]}],TS=[{provide:Jy,useFactory:function(){return"function"==typeof yS()?new VU:new gS}},{provide:DS,useValue:"BrowserAnimations"},...CS],MS=[{provide:Jy,useClass:k1},{provide:DS,useValue:"NoopAnimations"},...CS];let YU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?MS:TS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:TS,imports:[Vy]}),n})();var v=(()=>(function(n){n.AD="AD",n.AE="AE",n.AF="AF",n.AG="AG",n.AI="AI",n.AL="AL",n.AM="AM",n.AN="AN",n.AO="AO",n.AR="AR",n.AT="AT",n.AU="AU",n.AW="AW",n.AZ="AZ",n.BA="BA",n.BB="BB",n.BD="BD",n.BE="BE",n.BF="BF",n.BG="BG",n.BH="BH",n.BI="BI",n.BJ="BJ",n.BM="BM",n.BN="BN",n.BO="BO",n.BR="BR",n.BS="BS",n.BT="BT",n.BW="BW",n.BY="BY",n.BZ="BZ",n.CD="CD",n.CF="CF",n.CG="CG",n.CH="CH",n.CI="CI",n.CL="CL",n.CM="CM",n.CN="CN",n.CO="CO",n.CR="CR",n.CU="CU",n.CV="CV",n.CY="CY",n.CZ="CZ",n.DE="DE",n.DJ="DJ",n.DK="DK",n.DM="DM",n.DO="DO",n.DZ="DZ",n.EC="EC",n.EE="EE",n.EG="EG",n.ER="ER",n.ES="ES",n.ET="ET",n.FI="FI",n.FJ="FJ",n.FK="FK",n.FM="FM",n.FR="FR",n.GA="GA",n.GD="GD",n.GE="GE",n.GH="GH",n.GI="GI",n.GL="GL",n.GM="GM",n.GN="GN",n.GQ="GQ",n.GR="GR",n.GT="GT",n.GW="GW",n.GY="GY",n.HK="HK",n.HN="HN",n.HR="HR",n.HT="HT",n.HU="HU",n.ID="ID",n.IE="IE",n.IL="IL",n.IN="IN",n.IQ="IQ",n.IR="IR",n.IS="IS",n.IT="IT",n.JM="JM",n.JO="JO",n.JP="JP",n.KE="KE",n.KG="KG",n.KH="KH",n.KM="KM",n.KN="KN",n.KP="KP",n.KR="KR",n.KW="KW",n.KY="KY",n.KZ="KZ",n.LA="LA",n.LB="LB",n.LC="LC",n.LI="LI",n.LK="LK",n.LR="LR",n.LS="LS",n.LT="LT",n.LU="LU",n.LV="LV",n.LY="LY",n.MA="MA",n.MC="MC",n.MD="MD",n.ME="ME",n.MG="MG",n.MK="MK",n.ML="ML",n.MM="MM",n.MN="MN",n.MO="MO",n.MR="MR",n.MS="MS",n.MT="MT",n.MU="MU",n.MV="MV",n.MW="MW",n.MX="MX",n.MY="MY",n.MZ="MZ",n.NA="NA",n.NE="NE",n.NG="NG",n.NI="NI",n.NL="NL",n.NO="NO",n.NP="NP",n.NZ="NZ",n.OM="OM",n.PA="PA",n.PE="PE",n.PF="PF",n.PG="PG",n.PH="PH",n.PK="PK",n.PL="PL",n.PT="PT",n.PW="PW",n.PY="PY",n.QA="QA",n.RO="RO",n.RS="RS",n.RU="RU",n.RW="RW",n.SA="SA",n.SB="SB",n.SC="SC",n.SD="SD",n.SE="SE",n.SG="SG",n.SH="SH",n.SI="SI",n.SK="SK",n.SL="SL",n.SM="SM",n.SN="SN",n.SO="SO",n.SR="SR",n.ST="ST",n.SV="SV",n.SY="SY",n.SZ="SZ",n.TC="TC",n.TD="TD",n.TG="TG",n.TH="TH",n.TJ="TJ",n.TL="TL",n.TM="TM",n.TN="TN",n.TO="TO",n.TR="TR",n.TT="TT",n.TW="TW",n.TZ="TZ",n.UA="UA",n.UG="UG",n.UK="UK",n.UY="UY",n.UZ="UZ",n.VC="VC",n.VE="VE",n.VG="VG",n.VN="VN",n.VU="VU",n.WS="WS",n.YE="YE",n.ZA="ZA",n.ZM="ZM",n.ZW="ZW",n.US="US",n.CA="CA"}(v||(v={})),v))();const r5=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},{months:["January","February","March","April","May","June","July","August","September","October","November","December"],close:"Close",nothingFoundMessage:"Nothing found",defaultErrorMessage:"Value is invalid",spinTexts:["Previous","Next"],shortWeekDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],countries:{[v.AD]:"Andorra",[v.AE]:"United Arab Emirates",[v.AF]:"Afghanistan",[v.AG]:"Antigua and Barbuda",[v.AI]:"Anguilla",[v.AL]:"Albania",[v.AM]:"Armenia",[v.AN]:"Netherlands Antilles",[v.AO]:"Angola",[v.AR]:"Argentina",[v.AT]:"Austria",[v.AU]:"Australia",[v.AW]:"Aruba",[v.AZ]:"Azerbaijan",[v.BA]:"Bosnia and Herzegovina",[v.BB]:"Barbados",[v.BD]:"Bangladesh",[v.BE]:"Belgium",[v.BF]:"Burkina Faso",[v.BG]:"Bulgaria",[v.BH]:"Bahrain",[v.BI]:"Burundi",[v.BJ]:"Benin",[v.BM]:"Bermuda",[v.BN]:"Brunei Darussalam",[v.BO]:"Bolivia",[v.BR]:"Brazil",[v.BS]:"Bahamas",[v.BT]:"Bhutan",[v.BW]:"Botswana",[v.BY]:"Belarus",[v.BZ]:"Belize",[v.CA]:"Canada",[v.CD]:"Dem. Rep. Congo (Kinshasa)",[v.CF]:"Central African Republic",[v.CG]:"Congo (Brazzaville)",[v.CH]:"Switzerland",[v.CI]:"Ivory Coast",[v.CL]:"Chile",[v.CM]:"Cameroon",[v.CN]:"China",[v.CO]:"Colombia",[v.CR]:"Costa Rica",[v.CU]:"Cuba",[v.CV]:"Cape Verde",[v.CY]:"Cyprus",[v.CZ]:"Czech Republic",[v.DE]:"Germany",[v.DJ]:"Djibouti",[v.DK]:"Denmark",[v.DM]:"Dominica",[v.DO]:"Dominican Republic",[v.DZ]:"Algeria",[v.EC]:"Ecuador",[v.EE]:"Estonia",[v.EG]:"Egypt",[v.ER]:"Eritrea",[v.ES]:"Spain",[v.ET]:"Ethiopia",[v.FI]:"Finland",[v.FJ]:"Fiji",[v.FK]:"Falkland Islands",[v.FM]:"F.S. of Micronesia",[v.FR]:"France",[v.GA]:"Gabon",[v.GD]:"Grenada",[v.GE]:"Georgia",[v.GH]:"Ghana",[v.GI]:"Gibraltar",[v.GL]:"Greenland",[v.GM]:"Gambia",[v.GN]:"Guinea",[v.GQ]:"Equatorial Guinea",[v.GR]:"Greece",[v.GT]:"Guatemala",[v.GW]:"Guinea-Bissau",[v.GY]:"Guyana",[v.HK]:"Hong Kong",[v.HN]:"Honduras",[v.HR]:"Croatia",[v.HT]:"Haiti",[v.HU]:"Hungary",[v.ID]:"Indonesia",[v.IE]:"Ireland",[v.IL]:"Israel",[v.IN]:"India",[v.IQ]:"Iraq",[v.IR]:"Iran",[v.IS]:"Iceland",[v.IT]:"Italy",[v.JM]:"Jamaica",[v.JO]:"Jordan",[v.JP]:"Japan",[v.KE]:"Kenya",[v.KG]:"Kyrgyzstan",[v.KH]:"Cambodia",[v.KM]:"Comoros",[v.KN]:"Saint Kitts and Nevis",[v.KP]:"Korean PDR",[v.KR]:"Rep. Korea",[v.KW]:"Kuwait",[v.KY]:"Cayman Islands",[v.KZ]:"Kazakhstan",[v.LA]:"Laos",[v.LB]:"Lebanon",[v.LC]:"Saint Lucia",[v.LI]:"Liechtenstein",[v.LK]:"Sri Lanka",[v.LR]:"Liberia",[v.LS]:"Lesotho",[v.LT]:"Lithuania",[v.LU]:"Luxembourg",[v.LV]:"Latvia",[v.LY]:"Libya",[v.MA]:"Morocco",[v.MC]:"Monaco",[v.MD]:"Moldova",[v.ME]:"Montenegro",[v.MG]:"Madagascar",[v.MK]:"Rep. of North Macedonia",[v.ML]:"Mali",[v.MM]:"Burma (Myanmar)",[v.MN]:"Mongolia",[v.MO]:"Macau",[v.MR]:"Mauritania",[v.MS]:"Montserrat",[v.MT]:"Malta",[v.MU]:"Mauritius",[v.MV]:"Maldives",[v.MW]:"Malawi",[v.MX]:"Mexico",[v.MY]:"Malaysia",[v.MZ]:"Mozambique",[v.NA]:"Namibia",[v.NE]:"Niger",[v.NG]:"Nigeria",[v.NI]:"Nicaragua",[v.NL]:"Netherlands",[v.NO]:"Norway",[v.NP]:"Nepal",[v.NZ]:"New Zealand",[v.OM]:"Oman",[v.PA]:"Panama",[v.PE]:"Peru",[v.PF]:"French Polynesia (Tahiti)",[v.PG]:"Papua New Guinea",[v.PH]:"Philippines",[v.PK]:"Pakistan",[v.PL]:"Poland",[v.PT]:"Portugal",[v.PW]:"Palau",[v.PY]:"Paraguay",[v.QA]:"Qatar",[v.RO]:"Romania",[v.RS]:"Serbia",[v.RU]:"Russia",[v.RW]:"Rwanda",[v.SA]:"Saudi Arabia",[v.SB]:"Solomon Islands",[v.SC]:"Seychelles",[v.SD]:"Sudan",[v.SE]:"Sweden",[v.SG]:"Singapore",[v.SH]:"Saint Helena",[v.SI]:"Slovenia",[v.SK]:"Slovakia",[v.SL]:"Sierra Leone",[v.SM]:"San Marino",[v.SN]:"Senegal",[v.SO]:"Somalia",[v.SR]:"Suriname",[v.ST]:"Sao Tome and Principe",[v.SV]:"El Salvador",[v.SY]:"Syrian Arab Republic",[v.SZ]:"Swaziland",[v.TC]:"Turks and Caicos",[v.TD]:"Chad",[v.TG]:"Togo",[v.TH]:"Thailand",[v.TJ]:"Tajikistan",[v.TL]:"East Timor",[v.TM]:"Turkmenistan",[v.TN]:"Tunisia",[v.TO]:"Tonga",[v.TR]:"Turkey",[v.TT]:"Trinidad and Tobago",[v.TW]:"Taiwan",[v.TZ]:"Tanzania",[v.UA]:"Ukraine",[v.UG]:"Uganda",[v.UK]:"United Kingdom",[v.US]:"USA",[v.UY]:"Uruguay",[v.UZ]:"Uzbekistan",[v.VC]:"Saint Vincent and the Grenadines",[v.VE]:"Venezuela",[v.VG]:"British Virgin Islands",[v.VN]:"Vietnam",[v.VU]:"Vanuatu",[v.WS]:"Samoa",[v.YE]:"Yemen",[v.ZA]:"South Africa",[v.ZM]:"Zambia",[v.ZW]:"Zimbabwe"}}),{cancel:"Cancel",done:"Done",more:"More",otherDate:"Other date...",mobileCalendarTexts:["Choose day","Choose range"],range:["from","to"],countTexts:["Plus","Minus"],time:{"HH:MM":"HH:MM","HH:MM:SS":"HH:MM:SS","HH:MM:SS.MSS":"HH:MM:SS.MSS"},dateTexts:{DMY:"dd.mm.yyyy",MDY:"mm.dd.yyyy",YMD:"yyyy.mm.dd"},digitalInformationUnits:["B","KB","MB"],passwordTexts:["Show password","Hide password"],copyTexts:["Copy","Copied"],shortCalendarMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pagination:["Previous page","Next page"],fileTexts:{loadingError:"Loading error",preview:"Preview",remove:"Remove"},inputFileTexts:{defaultLabelSingle:"or drag\xa0it\xa0here",defaultLabelMultiple:"or drag\xa0them\xa0here",defaultLinkSingle:"Choose a file",defaultLinkMultiple:"Choose files",maxSizeRejectionReason:"File exceeds size ",formatRejectionReason:"Wrong file format",drop:"Drop file here",dropMultiple:"Drop files here"}}),{showHideText:"Show/Hide",paginationTexts:{pages:"Pages",linesPerPage:"Lines per page",of:"of"}}),{cardNumber:["Number","Card number"],cardExpiry:["Expires","Valid through"]}),{colorSelectorModeNames:["Solid color","Gradient"],toolbarTools:{undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"Font size",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"Highlight color",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript",insertTable:"Insert table",mergeCells:"Merge cells",splitCells:"Split cells",rowsColumnsManaging:"Managing rows and columns"},editorTableCommands:[["Insert column before","Insert column after"],["Insert row before","Insert row after"],["Delete column","Delete row"]],editorCodeOptions:["Code in the text","Code in block"],editorFontOptions:{normal:"Normal",title:"Title",subtitle:"Subtitle"}});function ce(...n){let e=n[n.length-1];return Wr(e)?(n.pop(),Cu(n,e)):Eu(n)}const o5=new P("Language for Taiga UI libraries i18n",{factory:()=>ce(r5)});function Ql(n){return()=>qe(o5).pipe(J(e=>e[n]))}const l5=["Spacebar","Backspace","Delete","ArrowLeft","ArrowRight","Left","Right","End","Home"],xS="tui-scroll-into-view";function AS(n,e,t=!1,i=!1,r=!1){let o=n?1:.75;return e&&(o+=1.5),t&&(o+=1.5),i&&(o+=1.5),r&&(o+=2.5),o}const IS=["xs","s","m","l","xl","xxl"];function tp(n,e="s"){return IS.indexOf(n)>IS.indexOf(e)}const m5=()=>!1,np=new Lc,vv=()=>{},OS=(n,e)=>n===e||function(n,e){return Array.isArray(n)&&Array.isArray(e)&&!n.length&&!e.length}(n,e),y5=nn("tuiParentAnimation",[Be(":enter",[H({overflow:"hidden"}),Sn("@*",[E1()],{optional:!0})]),Be(":leave",[H({overflow:"hidden"}),Sn("@*",[E1()],{optional:!0})])]),wv=1e3/15,v5=n=>"ownerSVGElement"in n?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT;function Ho(n,e,t,i){return Ti(t)&&(i=t,t=void 0),i?Ho(n,e,t).pipe(J(r=>Vn(r)?i(...r):i(r))):new Te(r=>{PS(n,e,function(s){r.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},r,t)})}function PS(n,e,t,i,r){let o;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const s=n;n.addEventListener(e,t,r),o=()=>s.removeEventListener(e,t,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const s=n;n.on(e,t),o=()=>s.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const s=n;n.addListener(e,t),o=()=>s.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let s=0,a=n.length;s<a;s++)PS(n[s],e,t,i,r)}i.add(o)}function fa(...n){return Vs(1)(ce(...n))}function rn(...n){const e=n[n.length-1];return Wr(e)?(n.pop(),t=>fa(n,t,e)):t=>fa(n,t)}function ar(n,e){return t=>t.lift(new M5(n,e))}class M5{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new E5(e,this.compare,this.keySelector))}}class E5 extends Ne{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}const bt=new P("An abstraction over global window object",{factory:()=>{const{defaultView:n}=qe(ge);if(!n)throw new Error("Window is not available");return n}}),lr=new P("Shared Observable based on `window.requestAnimationFrame`",{factory:()=>{const{requestAnimationFrame:n,cancelAnimationFrame:e}=qe(bt);return new Te(i=>{let r=NaN;const o=s=>{i.next(s),r=n(o)};return r=n(o),()=>{e(r)}}).pipe(Hs())}}),Dv=(new P("An abstraction over window.caches object",{factory:()=>qe(bt).caches}),new P("An abstraction over window.CSS object",{factory:()=>qe(bt).CSS||{escape:n=>n,supports:()=>!1}})),RS=new P("An abstraction over window.history object",{factory:()=>qe(bt).history}),FS=(new P("An abstraction over window.localStorage object",{factory:()=>qe(bt).localStorage}),new P("An abstraction over window.location object",{factory:()=>qe(bt).location}),new P("An abstraction over window.navigator object",{factory:()=>qe(bt).navigator})),ur=(new P("An abstraction over window.navigator.connection object",{factory:()=>qe(FS).connection||null}),new P("Shared Observable based on `document visibility changed`",{factory:()=>{const n=qe(ge);return Ho(n,"visibilitychange").pipe(rn(0),J(()=>"hidden"!==n.visibilityState),ar(),Hs())}}),new P("An abstraction over window.performance object",{factory:()=>qe(bt).performance}),new P("An abstraction over window.sessionStorage object",{factory:()=>qe(bt).sessionStorage}),new P("An abstraction over SpeechRecognition class",{factory:()=>{const n=qe(bt);return n.speechRecogniton||n.webkitSpeechRecognition||null}}),new P("An abstraction over window.speechSynthesis object",{factory:()=>qe(bt).speechSynthesis}),new P("An abstraction over window.navigator.userAgent object",{factory:()=>qe(FS).userAgent}));function bs(n){return null!=n}function pa(n,e){return bs(n)?n:e}function NS(n){let e=[];return n.find((t,i,r)=>(e=r,!0)),e}function Cv(n){return n instanceof HTMLInputElement&&!n.readOnly||n instanceof HTMLTextAreaElement&&!n.readOnly||n.isContentEditable}class A5 extends pt{constructor(e,t){super()}schedule(e,t=0){return this}}class LS extends A5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let VS=(()=>{class n{constructor(t,i=n.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,r){return new this.SchedulerAction(this,t).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Bo extends VS{constructor(e,t=VS.now){super(e,()=>Bo.delegate&&Bo.delegate!==this?Bo.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return Bo.delegate&&Bo.delegate!==this?Bo.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const ip=new Bo(LS);function HS(n){return!Vn(n)&&n-parseFloat(n)+1>=0}function Zl(n=0,e,t){let i=-1;return HS(e)?i=Number(e)<1?1:Number(e):Wr(e)&&(t=e),Wr(t)||(t=ip),new Te(r=>{const o=HS(n)?n:+n-t.now();return t.schedule(I5,o,{index:0,period:i,subscriber:r})})}function I5(n){const{index:e,period:t,subscriber:i}=n;if(i.next(e),!i.closed){if(-1===t)return i.complete();n.index=e+1,this.schedule(n,t)}}const BS=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})(),cr=new Te(n=>n.complete());function Xc(n){return n?function(n){return new Te(e=>n.schedule(()=>e.complete()))}(n):cr}function Wn(n){return e=>0===n?Xc():e.lift(new P5(n))}class P5{constructor(e){if(this.total=e,this.total<0)throw new BS}call(e,t){return t.subscribe(new R5(e,this.total))}}class R5 extends Ne{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}class N5{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new k5(e,this.predicate,this.inclusive))}}class k5 extends Ne{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){const t=this.destination;let i;try{i=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,i)}nextOrComplete(e,t){const i=this.destination;Boolean(t)?i.next(e):(this.inclusive&&i.next(e),i.complete())}}class US{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new L5(e,this.count,this.source))}}class L5 extends Ne{constructor(e,t,i){super(e),this.count=t,this.source=i}complete(){if(!this.isStopped){const{source:e,count:t}=this;if(0===t)return super.complete();t>-1&&(this.count=t-1),e.subscribe(this._unsubscribeAndRecycle())}}}function St(n,e){return"function"==typeof e?t=>t.pipe(St((i,r)=>z(n(i,r)).pipe(J((o,s)=>e(i,o,r,s))))):t=>t.lift(new V5(n))}class V5{constructor(e){this.project=e}call(e,t){return t.subscribe(new H5(e,this.project))}}class H5 extends zt{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new Me(this),r=this.destination;r.add(i),this.innerSubscription=Gi(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function Yl(n,e){return e?St(()=>n,e):St(()=>n)}function Vr(n){return e=>e.lift(new B5(n))}class B5{constructor(e){this.value=e}call(e,t){return t.subscribe(new $5(e,this.value))}}class $5 extends Ne{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const z5=new class extends Bo{}(class extends LS{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});class wi{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return ce(this.value);case"E":return function(n,e){return new Te(t=>t.error(n))}(this.error);case"C":return Xc()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new wi("N",e):wi.undefinedValueNotification}static createError(e){return new wi("E",void 0,e)}static createComplete(){return wi.completeNotification}}wi.completeNotification=new wi("C"),wi.undefinedValueNotification=new wi("N",void 0);class rp extends Ne{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(rp.dispatch,this.delay,new K5(e,this.destination)))}_next(e){this.scheduleMessage(wi.createNext(e))}_error(e){this.scheduleMessage(wi.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(wi.createComplete()),this.unsubscribe()}}class K5{constructor(e,t){this.notification=e,this.destination=t}}class Tv extends Nt{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Q5(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;let s;if(this.closed)throw new Ui;if(this.isStopped||this.hasError?s=pt.EMPTY:(this.observers.push(e),s=new wu(this,e)),r&&e.add(e=new rp(e,r)),t)for(let a=0;a<o&&!e.closed;a++)e.next(i[a]);else for(let a=0;a<o&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||z5).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,r=this._events,o=r.length;let s=0;for(;s<o&&!(e-r[s].time<i);)s++;return o>t&&(s=Math.max(s,o-t)),s>0&&r.splice(0,s),r}}class Q5{constructor(e,t){this.time=e,this.value=t}}function op(n,e,t){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(c){let d;o++,!r||a?(a=!1,r=new Tv(n,e,i),d=r.subscribe(this),s=c.subscribe({next(h){r.next(h)},error(h){a=!0,r.error(h)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):d=r.subscribe(this),this.add(()=>{o--,d.unsubscribe(),d=void 0,s&&!l&&t&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}function ut(n,e){return function(i){return i.lift(new Y5(n,e))}}class Y5{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new J5(e,this.predicate,this.thisArg))}}class J5 extends Ne{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}class ez{call(e,t){return t.subscribe(new tz(e))}}class tz extends Ne{_next(e){}}class zS extends Ne{notifyNext(e,t,i,r,o){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class nz extends Ne{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function GS(n,e,t,i,r=new nz(n,t,i)){if(!r.closed)return e instanceof Te?e.subscribe(r):Du(e)(r)}function WS(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new iz(n,t))}}class iz{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new rz(e,this.observables,this.project))}}class rz extends zS{constructor(e,t,i){super(e),this.observables=t,this.project=i,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++)this.add(GS(this,t[o],void 0,o))}notifyNext(e,t,i){this.values[i]=t;const r=this.toRespond;if(r.length>0){const o=r.indexOf(i);-1!==o&&r.splice(o,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function $o(){}function on(n,e,t){return function(r){return r.lift(new oz(n,e,t))}}class oz{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new sz(e,this.nextOrObserver,this.error,this.complete))}}class sz extends Ne{constructor(e,t,i,r){super(e),this._tapNext=$o,this._tapError=$o,this._tapComplete=$o,this._tapError=i||$o,this._tapComplete=r||$o,Ti(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||$o,this._tapError=t.error||$o,this._tapComplete=t.complete||$o)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function sp(n){if(!n.activeElement||!n.activeElement.shadowRoot)return n.activeElement;let e=n.activeElement.shadowRoot.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Di(n,e=!0,t=!1){e?n.focus({preventScroll:t}):n.blur()}function qS(n){const e=sp(n);e instanceof HTMLElement&&Di(e,!1)}function Mv(n){if(n.hasAttribute("disabled")||"-1"===n.getAttribute("tabIndex"))return!1;if(n instanceof HTMLElement&&n.isContentEditable||"0"===n.getAttribute("tabIndex"))return!0;switch(n.tagName){case"BUTTON":case"SELECT":case"TEXTAREA":return!0;case"VIDEO":case"AUDIO":return n.hasAttribute("controls");case"INPUT":return"hidden"!==n.getAttribute("type");case"A":case"LINK":return n.hasAttribute("href");default:return!1}}function az(n){return!n.hasAttribute("disabled")&&("-1"===n.getAttribute("tabIndex")||Mv(n))}function Jl(n,e=!1,t,i=!0){if(!t.ownerDocument)return null;const r=i?Mv:az,o=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,v5,!1);for(o.currentNode=n;e?o.previousNode():o.nextNode();)if(o.currentNode instanceof HTMLElement&&(n=o.currentNode),r(n))return n;return null}function ws(n){return!!n&&!!n.ownerDocument&&sp(n.ownerDocument)===n}function ap(n){if(!n.ownerDocument||!n.contains)return!1;const e=sp(n.ownerDocument);return null!==e&&n.contains(e)}function KS(n,e,t){for(n+=t;n>=0&&n<e.length;){if(Di(e[n]),ws(e[n]))return;n+=t}}function we(n,e,t={}){return Ho(n,e,t)}function ZS(n=0){return bu(Yl(Zl(n).pipe(Vr(!1),rn(!0))),ar())}let Sv,xv;function dz(n){const e=we(n,"blur"),{ownerDocument:t}=n;if(!t)throw new Error("element does not have ownerDocument");return(!xv||!Sv)&&(Sv=we(t,"mouseup",{capture:!0}).pipe(ZS(),rn(!1),op(1)),xv=we(t,"mousedown",{capture:!0}).pipe(ZS(),rn(!1),op(1))),st(fa(we(n,"focus").pipe(Wn(1)),e.pipe(ut(()=>!ws(n)),Wn(1),function(e){return e.lift(new ez)})).pipe(function(n=-1){return e=>0===n?Xc():e.lift(new US(n<0?-1:n-1,e))}(),WS(xv,Sv,(i,r,o)=>r||o),ut(i=>!i))).pipe(Yl(e.pipe(Vr(!1),Wn(1),rn(!0))),ar())}function lp(){return on(n=>{n.preventDefault()})}function Xl(n){return on(()=>{n.markForCheck()})}function ga(n){return e=>new Te(t=>n.runOutsideAngular(()=>e.subscribe(t)))}function ma(n){return bu(ga(n),function(n){return e=>new Te(t=>e.subscribe({next:i=>n.run(()=>t.next(i)),error:i=>n.run(()=>t.error(i)),complete:()=>n.run(()=>t.complete())}))}(n))}const Ut={enabled:!1,get assert(){return this.enabled?Function.prototype.bind.call(console.assert,console):vv}};function eu(n,e,t){return Ut.assert(!isNaN(n)),Ut.assert(!isNaN(e)),Ut.assert(!isNaN(t)),Ut.assert(t>=e),Math.min(t,Math.max(e,n))}function JS(n,e,t){return Ut.assert(!isNaN(n)),Ut.assert(!isNaN(e)),Ut.assert(!isNaN(t)),Ut.assert(e<t),n>=e&&n<t}function up(n,e,t,i){return t?function(n,e,t){let i=n;for(;i!==e.parentElement;){if(Math.floor(i.scrollTop)>0&&!t||Math.ceil(i.scrollTop+i.clientHeight)<i.scrollHeight&&t)return!0;if(!i.parentElement)return!1;i=i.parentElement}return!1}(n,e,i):function(n,e,t){let i=n;for(;i!==e.parentElement;){if(Math.floor(i.scrollLeft)>0&&!t||Math.ceil(i.scrollLeft+i.clientWidth)<i.scrollWidth&&t)return!0;if(!i.parentElement)return!1;i=i.parentElement}return!1}(n,e,i)}function cp(n,e){return n.contains(e)||!!(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING)}function XS(n,{bubbles:e=!1,cancelable:t=!1,detail:i=null}={},r){if("function"==typeof CustomEvent)return new CustomEvent(n,{bubbles:e,cancelable:t,detail:i});const o=r.createEvent("CustomEvent");return o.initCustomEvent(n,e,t,i),o}function ed(n){return"composedPath"in n?n.composedPath()[0]:n.target}function Ov(n){return"getRootNode"in n&&n.isConnected?n.getRootNode():n.ownerDocument}function Pv(n,e=!0){return null===n?null:e&&n.scrollHeight>n.clientHeight||!e&&n.scrollWidth>n.clientWidth?n:Pv(n.parentElement,e)}function wz({target:n,currentTarget:e}){return n===e}class qn extends Nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ui;return this._value}next(e){super.next(this._value=e)}}function rt(n){return e=>e.lift(new Cz(n))}class Cz{constructor(e){this.notifier=e}call(e,t){const i=new Tz(e),r=Gi(this.notifier,new Me(i));return r&&!i.seenValue?(i.add(r),t.subscribe(i)):i}}class Tz extends zt{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function tx(n){return e=>e.lift(new Mz(n))}class Mz{constructor(e){this.notifier=e}call(e,t){return t.subscribe(new Ez(e,this.notifier,t))}}class Ez extends zt{constructor(e,t,i){super(e),this.notifier=t,this.source=i,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:e,retriesSubscription:t}=this;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:e}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=e,this}subscribeToRetries(){let e;this.notifications=new Nt;try{const{notifier:t}=this;e=t(this.notifications)}catch{return super.complete()}this.retries=e,this.retriesSubscription=Gi(e,new Me(this))}}const Sz=new P("Element currently being removed by AnimationEngine",{factory:()=>{var n;const e={onRemovalComplete:()=>{}},t=new qn(null),i=null!==(n=qe(Jc,se.Optional))&&void 0!==n?n:e,{onRemovalComplete:r=e.onRemovalComplete}=i;return i.onRemovalComplete=(o,s)=>{t.next(o),r(o,s)},t.pipe(St(o=>Zl(0).pipe(Vr(null),rn(o))),Hs())}}),Rv=new P("Active element on the document for ActiveZone",{factory:()=>{const n=qe(Sz),e=qe(bt),t=qe(ge),i=we(e,"focusout"),r=we(e,"focusin"),o=we(e,"blur"),s=we(e,"mousedown"),a=we(e,"mouseup");return st(i.pipe(rt(s),tx(()=>a),WS(n),ut(([l,u])=>nx(ed(l),u)),J(([{relatedTarget:l}])=>l)),o.pipe(J(()=>t.activeElement),ut(l=>!!l&&l.matches("iframe"))),r.pipe(St(l=>{const u=ed(l),c=Ov(u);return c===t?ce(u):function(n){return st(we(n,"focusin").pipe(J(({target:e})=>e)),we(n,"focusout").pipe(ut(({target:e})=>nx(e,null)),J(({relatedTarget:e})=>e)))}(c).pipe(rn(u))})),s.pipe(St(l=>t.activeElement&&t.activeElement!==t.body?i.pipe(Wn(1),rt(Zl(0)),Vr(ed(l))):ce(ed(l))))).pipe(ar(),Hs())}});function nx(n,e){var t;return!((null===(t=n.ownerDocument)||void 0===t?void 0:t.activeElement)===n||n.disabled||e&&e.contains(n))}const Fv=new P("A Renderer2 for global services",{factory:()=>qe(hs).createRenderer(null,null)}),td=new P("A stream of dialogs"),dp=new P("A component that can be focused"),Az=/ipad|iphone|ipod/,Ds=new P("iOS browser detection",{providedIn:"root",factory:()=>Az.test(qe(ur).toLowerCase())}),Iz=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/,Oz=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/,Hr=new P("Mobile browser detection",{providedIn:"root",factory:()=>Iz.test(qe(ur).toLowerCase())||Oz.test(qe(ur).substr(0,4).toLowerCase())}),Pz=(new P("Mobile browser that is not iOS (technically includes Windows Phone, Blackberry etc.)",{providedIn:"root",factory:()=>qe(Hr)&&!qe(Ds)}),new P("A custom Sanitizer to sanitize source before inlining")),nd=(new P("Detect if app is running under Cypress",{factory:()=>!!qe(bt).Cypress}),new P("Duration of all Taiga UI animations in ms",{factory:()=>300})),Cs=new P("Options for Taiga UI animations",{factory:()=>({params:{duration:qe(nd)}})}),ix=new P("Flag to enable assertions across Taiga UI",{factory:()=>Y_()}),Nv=new P("Accessor for options"),id=new P("DataList controller"),kv=(new P("Document or ShadowRoot"),new P("Directive controlling TuiDropdownBoxComponent")),Lv=new P("ElementRef when you cannot use @Input for single time injection"),hp=(new P("Localized months names",{factory:Ql("months")}),new P("i18n 'close' word",{factory:Ql("close")})),Vv=new P("i18n 'Nothing found' message",{factory:Ql("nothingFoundMessage")}),Rz=(new P("i18n of error message",{factory:Ql("defaultErrorMessage")}),new P("spin i18n texts",{factory:Ql("spinTexts")}),new P("calendars i18n texts",{factory:Ql("shortWeekDays")})),Hv=new P("A key/value dictionary of icon names and src to be defined with TuiSvgService",{factory:()=>({})}),rx=new P("A handler to retrieve USE id for icon by name",{factory:()=>function(n){const e="/"===n[n.length-1]?n:n+"/";return t=>t.startsWith("tuiIcon")?`${e}${t}.svg#${t}`:(n=>n.includes(".svg#")?n:`#${n}`)(t)}("assets/taiga-ui/icons/")}),jo=new P("Mode stream for private providers"),Bv=(new P("Formatting configuration for displayed numbers",{factory:()=>({decimalSeparator:",",thousandSeparator:"\xa0"})}),new P("Content for tuiOption component")),tu=Pz,nu=new P("Scrollable container"),ox=new P("Appearance for inputs",{factory:()=>"textfield"}),sx=new P("Buffer token to pass NG_VALUE_ACCESSOR to a different Injector"),Fz=new P("The first day of the week index",{factory:()=>1}),Nz=n=>{const e=n.length-1;return[n[e],...n.slice(0,e)]};function b(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function E(n,e){return function(t,i){e(t,i,n)}}function ie(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function re(n,e){return function(t,i){e(t,i,n)}}new P("Ordered calendars i18n texts",{factory:()=>{const n=qe(Fz);return qe(Rz).pipe(J(Nz),J(e=>[...e.slice(n),...e.slice(0,n)]))}});let Vz=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const Hz=["positionFixedOffset"];let Uo=(()=>{let n=class{get safeHost(){if(!this.host)throw new Error("Portals cannot be used without TuiPortalHostComponent");return this.host}attach(t){this.host=t}add(t,i){return this.safeHost.addComponentChild(t,i)}remove({hostView:t}){t.destroy()}addTemplate(t,i){return this.safeHost.addTemplateChild(t,i)}removeTemplate(t){t.destroy()}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:function(){return new n},token:n,providedIn:"root"}),n})();var Uv;const jz={bottom:0,height:0,left:0,right:0,top:0,width:0};let Br=Uv=class{constructor(e,t,i){this.viewContainerRef=e,this.elementRef=t,i.attach(this)}get clientRect(){return this.elementRef.nativeElement.getBoundingClientRect()}addComponentChild(e,t){return this.viewContainerRef.createComponent(e,void 0,ze.create({parent:t,providers:[{provide:Uv,useValue:this}]}))}addTemplateChild(e,t){return this.viewContainerRef.createEmbeddedView(e,t)}fixedPositionOffset(){return this.positionFixedOffsetRef?this.positionFixedOffsetRef.nativeElement.getBoundingClientRect():jz}};Br.\u0275fac=function(e){return new(e||Br)(g(Tn),g(I),g(Uo))},Br.\u0275cmp=je({type:Br,selectors:[["tui-portal-host"]],viewQuery:function(e,t){if(1&e&&Ni(Hz,5),2&e){let i;Bt(i=$t())&&(t.positionFixedOffsetRef=i.first)}},ngContentSelectors:["*"],decls:3,vars:0,consts:[[1,"position-fixed-offset"],["positionFixedOffset",""]],template:function(e,t){1&e&&(yi(),he(0,"div",0,1),_n(2))},styles:["[_nghost-%COMP%]{position:relative;display:block;height:100%;z-index:0}[_nghost-%COMP%]:before{content:'';display:block;overflow:hidden}.position-fixed-offset[_ngcontent-%COMP%]{position:fixed;left:0;top:0;pointer-events:none;visibility:hidden;width:100%;height:100%}"],changeDetection:0}),Br.ctorParameters=()=>[{type:Tn,decorators:[{type:y,args:[Tn]}]},{type:I,decorators:[{type:y,args:[I]}]},{type:Uo,decorators:[{type:y,args:[Uo]}]}],ie([no("positionFixedOffset")],Br.prototype,"positionFixedOffsetRef",void 0),Br=Uv=ie([re(0,y(Tn)),re(1,y(I)),re(2,y(Uo))],Br);let Uz=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const dx={};function zv(...n){let e,t;return Wr(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Vn(n[0])&&(n=n[0]),Eu(n,t).lift(new zz(e))}class zz{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Gz(e,this.resultSelector))}}class Gz extends zS{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(dx),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(GS(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const r=this.values,s=this.toRespond?r[i]===dx?--this.toRespond:this.toRespond:0;r[i]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class Wz{constructor(e){this.internalDirectiveInstance=e}get $implicit(){return this.internalDirectiveInstance.tuiLet}get tuiLet(){return this.internalDirectiveInstance.tuiLet}}let gp=(()=>{let n=class{constructor(t,i){t.createEmbeddedView(i,new Wz(this))}static ngTemplateContextGuard(t,i){return!0}};return n.\u0275fac=function(t){return new(t||n)(g(Tn),g(jn))},n.\u0275dir=L({type:n,selectors:[["","tuiLet",""]],inputs:{tuiLet:"tuiLet"}}),ie([A()],n.prototype,"tuiLet",void 0),n=ie([re(0,y(Tn)),re(1,y(jn))],n),n})(),rd=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})(),qz=(()=>{let n=class{constructor(t,i,r){this.documentRef=t,this.elementRef=i,this.renderer=r,this.activeElement=sp(this.documentRef),Promise.resolve().then(()=>{Di(this.elementRef.nativeElement)})}onBlur(){this.renderer.removeAttribute(this.elementRef.nativeElement,"tabIndex")}onFocusIn(t){if(cp(this.elementRef.nativeElement,t))return;const i=Jl(this.elementRef.nativeElement,!1,this.elementRef.nativeElement);i&&Di(i)}ngOnDestroy(){qS(this.documentRef),Promise.resolve().then(()=>{this.activeElement instanceof HTMLElement&&Di(this.activeElement)})}};return n.\u0275fac=function(t){return new(t||n)(g(ge),g(I),g(si))},n.\u0275dir=L({type:n,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(t,i){1&t&&Fe("blur",function(){return i.onBlur()})("focusin.silent",function(o){return i.onFocusIn(o.target)},!1,pm)}}),ie([en("blur")],n.prototype,"onBlur",null),ie([en("window:focusin.silent",["$event.target"])],n.prototype,"onFocusIn",null),n=ie([re(0,y(ge)),re(1,y(I)),re(2,y(si))],n),n})(),Kz=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function mp(n){return new Te(e=>{let t;try{t=n()}catch(r){return void e.error(r)}return(t?z(t):Xc()).subscribe(e)})}function Gv(n,e=ip){const i=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return r=>r.lift(new Zz(i,e))}class Zz{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Wv(e,this.delay,this.scheduler))}}class Wv extends Ne{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,r=e.scheduler,o=e.destination;for(;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const s=Math.max(0,i[0].time-r.now());this.schedule(e,s)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Wv.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new Yz(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(wi.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(wi.createComplete()),this.unsubscribe()}}class Yz{constructor(e,t){this.time=e,this.notification=t}}const hx={leading:!0,trailing:!1};function _p(n,e=ip,t=hx){return i=>i.lift(new e6(n,e,t.leading,t.trailing))}class e6{constructor(e,t,i,r){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=r}call(e,t){return t.subscribe(new t6(e,this.duration,this.scheduler,this.leading,this.trailing))}}class t6 extends Ne{constructor(e,t,i,r,o){super(e),this.duration=t,this.scheduler=i,this.leading=r,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(n6,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function n6(n){const{subscriber:e}=n;e.clearThrottle()}let ae=(()=>{let n=class extends Nt{ngOnDestroy(){this.next(),this.complete()}};return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({token:n,factory:function(e){return n.\u0275fac(e)}}),n})(),fx=(()=>{let n=class{constructor(t,i){this.documentRef=t,this.renderer=i}addStyle(t,i){if(this.documentRef.head.querySelector(`style[${i}]`))return;const r=this.renderer.createElement("style");this.renderer.setProperty(r,"textContent",t),this.renderer.setAttribute(r,i,""),this.documentRef.head.appendChild(r)}};return n.\u0275fac=function(t){return new(t||n)(O(ge),O(Fv))},n.\u0275prov=K({factory:function(){return new n(O(ge),O(Fv))},token:n,providedIn:"root"}),n=ie([re(0,y(ge)),re(1,y(Fv))],n),n})(),_a=(()=>{let n=class extends Te{constructor({nativeElement:t},i,r){super(o=>this.focusVisible$.subscribe(o)),this.focusVisible$=dz(t).pipe(Xl(i),rt(r))}};return n.\u0275fac=function(t){return new(t||n)(O(I),O(Vt),O(ae))},n.\u0275prov=K({token:n,factory:function(e){return n.\u0275fac(e)}}),n=ie([re(0,y(I)),re(1,y(Vt)),re(2,y(ae))],n),n})(),vo=(()=>{let n=class{constructor(t,i){this.ngZone=i,this.documentEvents$=st(we(t,"mousemove"),we(t,"touchend"))}createHovered$(t,i={passive:!0}){return st(we(t,"mouseenter",i),we(t,"touchstart",i)).pipe(St(()=>st(we(t,"mouseleave",i),this.documentEvents$.pipe(ut(r=>!t.contains(ed(r))),ma(this.ngZone),Wn(1))).pipe(Vr(!1),rn(!0))),ar())}};return n.\u0275fac=function(t){return new(t||n)(O(ge),O(ve))},n.\u0275prov=K({factory:function(){return new n(O(ge),O(ve))},token:n,providedIn:"root"}),n=ie([re(0,y(ge)),re(1,y(ve))],n),n})();var px;let zo=px=class{generate(){return`tui_${px.autoId++}${Date.now()}`}};zo.\u0275fac=function(e){return new(e||zo)},zo.autoId=0,zo.\u0275prov=K({factory:function(){return new zo},token:zo,providedIn:"root"});let Go=(()=>{let n=class extends Te{constructor({nativeElement:t},i){super(r=>this.callback$.subscribe(r)),this.callback$=mp(()=>{const r=[i,t];for(;t.parentElement;)r.push(t=t.parentElement);return st(...r.map(o=>we(o,"scroll")))})}};return n.\u0275fac=function(t){return new(t||n)(O(I),O(bt))},n.\u0275prov=K({token:n,factory:function(e){return n.\u0275fac(e)}}),n=ie([re(0,y(I)),re(1,y(bt))],n),n})(),iu=(()=>{let n=class extends Te{constructor(t,{nativeElement:i},r,o,s,a){super(l=>this.obscured$.subscribe(l)),this.obscured$=st(st(t,Ho(o,"resize")).pipe(Gv(0)),a.pipe(_p(wv))).pipe(J(()=>function(n){const{ownerDocument:e}=n;if(!e||!e.defaultView)return null;const{innerWidth:t,innerHeight:i}=e.defaultView,r=Ov(n),o=n.getBoundingClientRect(),s=eu(Math.round(o.left)+2,0,t),a=eu(Math.round(o.top)+2,0,i),l=eu(Math.round(o.right)-2,0,t),u=eu(Math.round(o.bottom)-2,0,i),c=eu(Math.round(o.left+o.width/2),0,t),d=eu(Math.round(o.top+o.height/2),0,i),f=[r.elementFromPoint(c,a),r.elementFromPoint(c,u),r.elementFromPoint(s,d),r.elementFromPoint(l,d)].filter(bs);if(!f.length)return f;const p=f.filter(_=>!n.contains(_));return 4===p.length?p:null}(i)),rn(null),ar(),ma(r),rt(s))}};return n.\u0275fac=function(t){return new(t||n)(O(Go,2),O(I),O(ve),O(bt),O(ae),O(lr))},n.\u0275prov=K({token:n,factory:function(e){return n.\u0275fac(e)}}),n=ie([re(0,y(Go)),re(0,Cr()),re(1,y(I)),re(2,y(ve)),re(3,y(bt)),re(4,y(ae)),re(5,y(lr))],n),n})(),gx=(()=>{let n=class{constructor(){this.cache=new Map}request(t){const i=this.cache.get(t);if(i)return i;const o=new Te(s=>{const a=new XMLHttpRequest;return a.onreadystatechange=()=>{if(4===a.readyState){const l=a.responseType?a.response:a.responseText;200===a.status?(s.next(l),s.complete()):s.error(l)}},a.open("GET",t),a.send(),()=>{a.abort()}}).pipe(op(1));return this.cache.set(t,o),o}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:function(){return new n},token:n,providedIn:"root"}),n})(),mx=(()=>{let n=class{constructor({nativeElement:t},i,r){this.mode="scroll",we(t,"wheel",{passive:!1}).pipe(ut(()=>this.enabled),rt(r),ma(i)).subscribe(o=>{this.processEvent(o,!!o.deltaY,o.deltaY?o.deltaY<0:o.deltaX<0)}),we(t,"touchstart",{passive:!0}).pipe(St(({touches:o})=>{let c,{clientX:s,clientY:a}=o[0],l=0,u=0;return we(t,"touchmove",{passive:!1}).pipe(ut(()=>this.enabled),ma(i),on(d=>{const h=d.changedTouches[0];l=s-h.clientX,u=a-h.clientY,s=h.clientX,a=h.clientY,void 0===c&&(c=Math.abs(u)>Math.abs(l)),this.processEvent(d,c,c?u<0:l<0)}))}),rt(r)).subscribe()}get enabled(){return"none"!==this.mode}get overscrollBehavior(){return this.enabled?"contain":null}processEvent(t,i,r){const{target:o,currentTarget:s,cancelable:a}=t;if(a&&o instanceof Element){if("all"===this.mode&&(i&&!s.contains(Pv(o))||!i&&!s.contains(Pv(o,!1))))return void t.preventDefault();if(i&&(r&&!up(o,s,!0,!1)||!r&&!up(o,s,!0,!0)))return void t.preventDefault();!i&&(r&&!up(o,s,!1,!1)||!r&&!up(o,s,!1,!0))&&t.preventDefault()}}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(ve),g(ae))},n.\u0275dir=L({type:n,selectors:[["","tuiOverscroll",""]],hostVars:2,hostBindings:function(t,i){2&t&&Ol("overscroll-behavior",i.overscrollBehavior)},inputs:{mode:["tuiOverscroll","mode"]},features:[ee([ae])]}),ie([A("tuiOverscroll")],n.prototype,"mode",void 0),ie([pe("style.overscrollBehavior")],n.prototype,"overscrollBehavior",null),n=ie([re(0,y(I)),re(1,y(ve)),re(2,y(ae))],n),n})(),_x=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const r6=["polymorpheus-outlet",""];function o6(n,e){if(1&n&&(mc(0,6),Et(1,"injector")),2&n){W(2);const t=mn(1),i=W();M("ngComponentOutlet",i.content.component)("ngComponentOutletInjector",PM(1,2,i.content,t.context))}}function s6(n,e){if(1&n&&$(0,o6,2,5,"ng-container",5),2&n){const t=W(2);M("ngIf",t.guard(t.content))}}function a6(n,e){if(1&n&&(co(0,2,3),$(2,s6,1,1,"ng-template",null,4,ki),ho()),2&n){const t=mn(3),i=W();M("ngTemplateOutlet",i.getTemplate(i.content,t))("ngTemplateOutletContext",i.context)}}function l6(n,e){if(1&n&&(co(0),Qe(1),ho()),2&n){const t=W(2);B(1),ds(t.primitive)}}const u6=function(n){return{$implicit:n}};function c6(n,e){if(1&n&&mc(0,9),2&n){const t=W(2);M("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ro(2,u6,t.primitive))}}function d6(n,e){if(1&n&&(co(0),$(1,l6,2,1,"ng-container",7),$(2,c6,1,4,"ng-template",null,8,ki),ho()),2&n){const t=mn(3),i=W();B(1),M("ngIf",!i.template)("ngIfElse",t)}}const ru=new P("Context from polymorpheus-outlet");class yp{constructor(e,t=null){this.component=e,this.injector=t}createInjector(e,t){return ze.create({parent:this.injector||e,providers:[{provide:ru,useValue:t}]})}}let yx=(()=>{class n{constructor(t,i){this.template=t,this.changeDetectorRef=i,this.polymorpheus=""}check(){this.changeDetectorRef.markForCheck()}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(g(jn,2),g(Vt))},n.\u0275dir=L({type:n,selectors:[["ng-template","polymorpheus",""]],inputs:{polymorpheus:"polymorpheus"},exportAs:["polymorpheus"]}),n})(),Kn=(()=>{class n{constructor(){this.template=null,this.content=null}get primitive(){return!this.content||this.isAdvanced(this.content)?"":"function"==typeof this.content?this.content(this.context):this.content}isAdvanced(t){return function(n){return qv(n)||n instanceof jn}(t)||Kv(t)}getTemplate(t,i){return Kv(t)?i:qv(t)?t.template:t}guard(t){return Kv(t)}ngOnChanges({content:t,context:i}){const r=!t&&i&&this.outlet&&this.outlet._componentRef;r&&r.injector.get(Vt).markForCheck()}ngDoCheck(){qv(this.content)&&this.content.check()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=je({type:n,selectors:[["","polymorpheus-outlet",""]],contentQueries:function(t,i,r){if(1&t&&Pr(r,jn,5),2&t){let o;Bt(o=$t())&&(i.template=o.first)}},viewQuery:function(t,i){if(1&t&&Ni(Of,5),2&t){let r;Bt(r=$t())&&(i.outlet=r.first)}},inputs:{content:"content",context:"context"},features:[Cn],attrs:r6,decls:2,vars:2,consts:[["context","",3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],["context","",3,"ngTemplateOutlet","ngTemplateOutletContext"],["mutableContext","context"],["component",""],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngIf"],[3,"ngComponentOutlet","ngComponentOutletInjector"],[4,"ngIf","ngIfElse"],["child",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&($(0,a6,4,2,"ng-container",0),$(1,d6,4,2,"ng-container",1)),2&t&&(M("ngIf",i.isAdvanced(i.content)),B(1),M("ngIf",i.primitive))},directives:function(){return[Rt,f6,Ey,Of]},pipes:function(){return[p6]},encapsulation:2,changeDetection:0}),n})();function qv(n){return n instanceof yx}function Kv(n){return n instanceof yp}let f6=(()=>{class n{constructor(t){this.viewContainerRef=t}get context(){const t=this.viewContainerRef.get(0);return t&&t.context}}return n.\u0275fac=function(t){return new(t||n)(g(Tn))},n.\u0275dir=L({type:n,selectors:[["","context",""]],exportAs:["context"]}),n})(),p6=(()=>{class n{constructor(t){this.injector=t}transform(t,i){return t.createInjector(this.injector,i)}}return n.\u0275fac=function(t){return new(t||n)(g(ze,16))},n.\u0275pipe=Pn({name:"injector",type:n,pure:!0}),n})(),dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt]]}),n})();function g6(n,e){if(1&n&&he(0,"section",3),2&n){const t=e.$implicit;M("content",t.component)("context",t)("@tuiParentAnimation",void 0),yt("aria-labelledby",t.id)}}function m6(n,e){if(1&n){const t=fo();F(0,"div",4),Fe("popstate",function(){const o=Zi(t).tuiLet,s=W().ngIf;return W().closeLast(s,o)},!1,pm)("transitionend",function(r){const s=Zi(t).tuiLet,a=W().ngIf;return W().onDialog(r,!!a.length,s)}),N()}2&n&&vt("overlay_visible",W().ngIf.length)}function _6(n,e){if(1&n&&(co(0),$(1,g6,1,4,"section",1),$(2,m6,1,2,"div",2),Et(3,"async"),ho()),2&n){const t=e.ngIf,i=W();B(1),M("ngForOf",t),B(1),M("tuiLet",Ot(3,2,i.isDialogClosesOnBack$))}}const vx=new P("Is closing dialog on browser backward navigation enabled",{factory:()=>ce(!function(n){return n.parent!==n}(qe(bt)))}),Qv={label:"ignoreMe"};let v6=(()=>{let n=class{constructor(t,i,r,o){this.isDialogClosesOnBack$=t,this.dialogsByType=i,this.historyRef=r,this.titleService=o,this.dialogs$=zv(this.dialogsByType).pipe(J(s=>(new Array).concat(...s).sort((a,l)=>a.createdAt-l.createdAt)))}closeLast(t,i){if(!i)return;const[r]=t.slice(-1);!r||(t.length>1&&this.historyRef.pushState(Qv,this.titleService.getTitle()),r.$implicit.complete())}onDialog({propertyName:t},i,r){!r||"letter-spacing"!==t||(i?this.historyRef.pushState(Qv,this.titleService.getTitle()):(n=>(null==n?void 0:n.label)===Qv.label)(this.historyRef.state)&&this.historyRef.back())}};return n.\u0275fac=function(t){return new(t||n)(g(vx),g(td),g(RS),g(Hy))},n.\u0275cmp=je({type:n,selectors:[["tui-dialog-host"]],decls:2,vars:3,consts:[[4,"ngIf"],["polymorpheus-outlet","","tuiFocusTrap","","tuiOverscroll","all","class","dialog","role","dialog","aria-modal","true",3,"content","context",4,"ngFor","ngForOf"],["class","overlay",3,"overlay_visible","popstate","transitionend",4,"tuiLet"],["polymorpheus-outlet","","tuiFocusTrap","","tuiOverscroll","all","role","dialog","aria-modal","true",1,"dialog",3,"content","context"],[1,"overlay",3,"popstate","transitionend"]],template:function(t,i){1&t&&($(0,_6,4,4,"ng-container",0),Et(1,"async")),2&t&&M("ngIf",Ot(1,1,i.dialogs$))},directives:[Rt,ms,gp,Kn,qz,mx],pipes:[Li],styles:["[_nghost-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:0}.dialog[_ngcontent-%COMP%], .overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:flex-start;outline:0;overflow:auto;overflow:overlay}.overlay[_ngcontent-%COMP%]{pointer-events:none;opacity:0;letter-spacing:normal;transition:opacity var(--tui-duration),letter-spacing 10ms;background:rgba(0,0,0,.75)}.overlay_visible[_ngcontent-%COMP%]{opacity:1;letter-spacing:1px}.dialog[_ngcontent-%COMP%]:last-of-type{z-index:1}"],data:{animation:[y5]},changeDetection:0}),n=ie([re(0,y(vx)),re(1,y(td)),re(2,y(RS)),re(3,y(Hy))],n),n})(),b6=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,dr,_x,Kz,rd]]}),n})();function U(n,...e){return(t,i)=>{const{name:r}=t.constructor,o=function(n,e){return`Default value for ${String(n)} was not provided in ${e}, error in Taiga UI Angular Kit`}(i,r),s=function(n,e){return`Undefined was passed as ${String(n)} to ${e}, which is invalid input, using default value:`}(i,r);Object.defineProperty(t,i,{get(){Ut.assert(!1,o)},set(a){const l=void 0!==a,u=function(n,e){return`Undefined was passed as default value for ${String(n)} to ${e}, error in Taiga UI Angular Kit`}(i,r);let c=a;Ut.assert(l,u),l&&n&&Ut.assert(n.call(this,a),`${String(i)} in ${r} received:`,a,...e),Object.defineProperty(this,i,{get:()=>c,set(d){const h=void 0!==d,f=a;Ut.assert(h,s,String(f)),h&&n&&Ut.assert(n.call(this,d),`${String(i)} in ${r} received:`,d,...e),c=h?d:f}})}})}}function ui(n,e,{get:t,enumerable:i,value:r}){if(t)return{enumerable:i,get(){const s=t.call(this);return Object.defineProperty(this,e,{enumerable:i,value:s}),s}};if("function"!=typeof r)throw new Error("tuiPure can only be used with functions or getters");const o=r;return{enumerable:i,get(){let a,s=[];const l=(...u)=>(s.length===u.length&&u.every((c,d)=>c===s[d])||(s=u,a=o.apply(this,u)),a);return Object.defineProperty(this,e,{value:l}),l}}}function ou(n,...e){return(t,i,{configurable:r,enumerable:o,get:s,set:a})=>{const{name:l}=t.constructor;return{configurable:r,enumerable:o,get:s,set(u){void 0!==u&&n&&Ut.assert(n.call(this,u),`${String(i)} in ${l} received:`,u,...e),a&&void 0!==u?a.call(this,u):Ut.assert(void 0!==u,function(n,e){return`Undefined was passed as ${String(n)} to ${e}, setter will not be called`}(i,l))}}}}function vp(n,e){return new Te(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const l=z(n[a]);let u=!1;t.add(l.subscribe({next:c=>{u||(u=!0,s++),r[a]=c},error:c=>t.error(c),complete:()=>{o++,(o===i||!u)&&(s===i&&t.next(e?e.reduce((c,d,h)=>(c[d]=r[h],c),{}):r),t.complete())}}))}})}let bx=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g(si),g(I))},n.\u0275dir=L({type:n}),n})(),ya=(()=>{class n extends bx{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275dir=L({type:n,features:[ye]}),n})();const hr=new P("NgValueAccessor"),S6={provide:hr,useExisting:le(()=>od),multi:!0},A6=new P("CompositionEventMode");let od=(()=>{class n extends bx{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=mo()?mo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g(si),g(I),g(A6,8))},n.\u0275dir=L({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Fe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ee([S6]),ye]}),n})();const Qn=new P("NgValidators"),Ms=new P("NgAsyncValidators");function Ox(n){return null!=n}function Px(n){const e=_c(n)?z(n):n;return Bh(e),e}function Rx(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Fx(n,e){return e.map(t=>t(n))}function Nx(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zv(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Ox);return 0==e.length?null:function(t){return Rx(Fx(t,e))}}(Nx(n)):null}function Yv(n){return null!=n?function(n){if(!n)return null;const e=n.filter(Ox);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(Vn(e))return vp(e,null);if(yu(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return vp(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return vp(n=1===n.length&&Vn(n[0])?n[0]:n,null).pipe(J(t=>e(...t)))}return vp(n,null)}(Fx(t,e).map(Px)).pipe(J(Rx))}}(Nx(n)):null}function Vx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hx(n){return n._rawValidators}function Bx(n){return n._rawAsyncValidators}function Jv(n){return n?Array.isArray(n)?n:[n]:[]}function bp(n,e){return Array.isArray(n)?n.includes(e):n===e}function $x(n,e){const t=Jv(e);return Jv(n).forEach(r=>{bp(t,r)||t.push(r)}),t}function jx(n,e){return Jv(e).filter(t=>!bp(n,t))}let Ux=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n}),n})(),ci=(()=>{class n extends Ux{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275dir=L({type:n,features:[ye]}),n})();class di extends Ux{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zx{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Xv=(()=>{class n extends zx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g(di,2))},n.\u0275dir=L({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&vt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[ye]}),n})(),Gx=(()=>{class n extends zx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g(ci,10))},n.\u0275dir=L({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&vt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[ye]}),n})();function Dp(n,e){return[...e.path,n]}function sd(n,e){n0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Wx(n,e)})}(n,e),function(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Wx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Cp(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Mp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Tp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function n0(n,e){const t=Hx(n);null!==e.validator?n.setValidators(Vx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Bx(n);null!==e.asyncValidator?n.setAsyncValidators(Vx(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Tp(e._rawValidators,r),Tp(e._rawAsyncValidators,r)}function Mp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Hx(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=Bx(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Tp(e._rawValidators,i),Tp(e._rawAsyncValidators,i),t}function Wx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function i0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function r0(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===od?t=o:function(n){return Object.getPrototypeOf(n.constructor)===ya}(o)?i=o:r=o}),r||i||t||null}function Ep(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ad="VALID",Sp="INVALID",su="PENDING",ld="DISABLED";function o0(n){return(a0(n)?n.validators:n)||null}function Qx(n){return Array.isArray(n)?Zv(n):n||null}function s0(n,e){return(a0(e)?e.asyncValidators:n)||null}function Zx(n){return Array.isArray(n)?Yv(n):n||null}function a0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class l0{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Qx(this._rawValidators),this._composedAsyncValidatorFn=Zx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ad}get invalid(){return this.status===Sp}get pending(){return this.status==su}get disabled(){return this.status===ld}get enabled(){return this.status!==ld}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Qx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Zx(e)}addValidators(e){this.setValidators($x(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($x(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jx(e,this._rawAsyncValidators))}hasValidator(e){return bp(this._rawValidators,e)}hasAsyncValidator(e){return bp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=su,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ld,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ad,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ad||this.status===su)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ld:ad}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=su,this._hasOwnPendingAsyncValidator=!0;const t=Px(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=i instanceof ud?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof u0&&i.at(r)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ft,this.statusChanges=new ft}_calculateStatus(){return this._allControlsDisabled()?ld:this.errors?Sp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(su)?su:this._anyControlsHaveStatus(Sp)?Sp:ad}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){a0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class au extends l0{constructor(e=null,t,i){super(o0(t),s0(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ep(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ep(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ud extends l0{constructor(e,t,i){super(o0(t),s0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof au?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class u0 extends l0{constructor(e,t,i){super(o0(t),s0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof au?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const G6={provide:di,useExisting:le(()=>dd)},Xx=(()=>Promise.resolve(null))();let dd=(()=>{class n extends di{constructor(t,i,r,o){super(),this.control=new au,this._registered=!1,this.update=new ft,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=r0(0,o)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),i0(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Dp(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Xx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;Xx.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(g(ci,9),g(Qn,10),g(Ms,10),g(hr,10))},n.\u0275dir=L({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ee([G6]),ye,Cn]}),n})(),eA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),nA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const d0=new P("NgModelWithFormControlWarning"),Y6={provide:ci,useExisting:le(()=>xp)};let xp=(()=>{class n extends ci{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ft,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return sd(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Cp(t.control||null,t,!1),Ep(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Cp(i||null,t),r instanceof au&&(sd(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function(n,e){n0(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function(n,e){return Mp(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){n0(this.form,this),this._oldForm&&Mp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(g(Qn,10),g(Ms,10))},n.\u0275dir=L({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Fe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ee([Y6]),ye,Cn]}),n})();const e4={provide:di,useExisting:le(()=>p0)};let p0=(()=>{class n extends di{constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new ft,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=r0(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),i0(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(g(ci,13),g(Qn,10),g(Ms,10),g(hr,10),g(d0,8))},n.\u0275dir=L({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ee([e4]),ye,Cn]}),n._ngModelWarningSentOnce=!1,n})(),yA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[nA]]}),n})(),g4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[yA]}),n})(),vA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:d0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[yA]}),n})(),_4=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let a,o=null,s=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(o=null!=i.validators?i.validators:null,s=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,s=null!=i.asyncValidator?i.asyncValidator:null)),new ud(r,{asyncValidators:s,updateOn:a,validators:o})}control(t,i,r){return new au(t,i,r)}array(t,i,r){const o=t.map(s=>this._createControl(s));return new u0(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof au||t instanceof ud||t instanceof u0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:function(){return new n},token:n,providedIn:vA}),n})();var bA;let Qt=bA=class{constructor(){this.hovered=!1,this.pressed=!1,this.focusVisible=!1,this.pseudoHovered=null,this.pseudoPressed=null,this.pseudoFocused=null,this.focusable=!0,this.nativeId="",this.focusedChange=new ft,this.pressedChange=new ft,this.hoveredChange=new ft,this.focusVisibleChange=new ft,this.autoIdString=`tui_interactive_${bA.autoId++}${Date.now()}`}get computedDisabled(){return this.disabled}get computedHovered(){return!this.computedDisabled&&pa(this.pseudoHovered,this.hovered)}get computedPressed(){return!this.computedDisabled&&pa(this.pseudoPressed,this.pressed)}get computedFocusable(){return!this.computedDisabled&&(this.focusable||this.focused)}get computedFocused(){return!this.computedDisabled&&pa(this.pseudoFocused,this.focused)}get computedFocusVisible(){return!this.computedDisabled&&pa(this.pseudoFocused,this.focusVisible)}get id(){return this.nativeId?this.nativeId:this.autoIdString}updateHovered(e){this.hovered!==e&&(this.hovered=e,this.hoveredChange.emit(e))}updatePressed(e){this.pressed!==e&&(this.pressed=e,this.pressedChange.emit(e))}updateFocused(e){this.focusedChange.emit(e)}updateFocusVisible(e){this.focusVisible!==e&&(this.focusVisible=e,this.focusVisibleChange.emit(e))}};Qt.\u0275fac=function(e){return new(e||Qt)},Qt.\u0275dir=L({type:Qt,hostVars:10,hostBindings:function(e,t){2&e&&vt("_disabled",t.computedDisabled)("_hovered",t.computedHovered)("_pressed",t.computedPressed)("_focused",t.computedFocused)("_focus-visible",t.computedFocusVisible)},inputs:{pseudoHovered:"pseudoHovered",pseudoPressed:"pseudoPressed",pseudoFocused:"pseudoFocused",focusable:"focusable",nativeId:"nativeId"},outputs:{focusedChange:"focusedChange",pressedChange:"pressedChange",hoveredChange:"hoveredChange",focusVisibleChange:"focusVisibleChange"}}),Qt.autoId=0,ie([A(),U()],Qt.prototype,"pseudoHovered",void 0),ie([A(),U()],Qt.prototype,"pseudoPressed",void 0),ie([A(),U()],Qt.prototype,"pseudoFocused",void 0),ie([A(),U()],Qt.prototype,"focusable",void 0),ie([A(),U()],Qt.prototype,"nativeId",void 0),ie([Rn()],Qt.prototype,"focusedChange",void 0),ie([Rn()],Qt.prototype,"pressedChange",void 0),ie([Rn()],Qt.prototype,"hoveredChange",void 0),ie([Rn()],Qt.prototype,"focusVisibleChange",void 0),ie([pe("class._disabled")],Qt.prototype,"computedDisabled",null),ie([pe("class._hovered")],Qt.prototype,"computedHovered",null),ie([pe("class._pressed")],Qt.prototype,"computedPressed",null),ie([pe("class._focused")],Qt.prototype,"computedFocused",null),ie([pe("class._focus-visible")],Qt.prototype,"computedFocusVisible",null);let v4=(()=>{let n=class extends Qt{constructor(t,i){super(),this.ngControl=t,this.changeDetectorRef=i,this.onTouched=vv,this.onChange=vv,this.fallbackValue=this.getFallbackValue(),this.destroy$=new Nt,this.readOnly=!1,this.pseudoInvalid=null,null===this.ngControl?Ut.assert(!1,`NgControl not injected in ${this.constructor.name}!\n`,"Use [(ngModel)] or [formControl] or formControlName for correct work."):this.ngControl.valueAccessor=this}get computedInvalid(){return!this.readOnly&&!this.disabled&&(null!==this.pseudoInvalid?this.pseudoInvalid:this.touched&&this.invalid)}get value(){return pa(this.previousInternalValue,this.fallbackValue)}get safeCurrentValue(){return pa(this.rawValue,this.fallbackValue)}get invalid(){return this.safeNgControlData(({invalid:t})=>t,!1)}get valid(){return this.safeNgControlData(({valid:t})=>t,!1)}get touched(){return this.safeNgControlData(({touched:t})=>t,!1)}get disabled(){return this.safeNgControlData(({disabled:t})=>t,!1)}get control(){return this.safeNgControlData(({control:t})=>t,null)}get computedName(){return this.controlName}get controlName(){return this.ngControl&&this.ngControl.name}get rawValue(){const{ngControl:t}=this;if(null!==t)return t instanceof dd&&void 0===this.previousInternalValue?t.viewModel:t.value}ngOnInit(){!this.ngControl||!this.ngControl.valueChanges||!this.ngControl.statusChanges||st(this.ngControl.valueChanges,this.ngControl.statusChanges).pipe(rt(this.destroy$)).subscribe(()=>{this.refreshLocalValue(this.safeCurrentValue)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkControlUpdate(){this.changeDetectorRef.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(){this.checkControlUpdate()}writeValue(t){this.refreshLocalValue(this.ngControl instanceof dd&&void 0===this.previousInternalValue?this.ngControl.model:t)}updateFocused(t){t||this.controlMarkAsTouched(),super.updateFocused(t)}updateValue(t){this.disabled||this.valueIdenticalComparator(this.value,t)||(this.previousInternalValue=t,this.controlSetValue(t))}valueIdenticalComparator(t,i){return t===i}safeNgControlData(t,i){return pa(this.ngControl&&t(this.ngControl),i)}controlMarkAsTouched(){this.onTouched(),this.checkControlUpdate()}controlSetValue(t){this.onChange(t),this.checkControlUpdate()}refreshLocalValue(t){this.previousInternalValue=t,this.checkControlUpdate()}};return n.\u0275fac=function(t){return new(t||n)(g(di),g(Vt))},n.\u0275dir=L({type:n,hostVars:4,hostBindings:function(t,i){2&t&&vt("_readonly",i.readOnly)("_invalid",i.computedInvalid)},inputs:{readOnly:"readOnly",pseudoInvalid:"pseudoInvalid"},features:[ye]}),ie([A(),pe("class._readonly"),U()],n.prototype,"readOnly",void 0),ie([A(),U()],n.prototype,"pseudoInvalid",void 0),ie([pe("class._invalid")],n.prototype,"computedInvalid",null),n})(),fr=(()=>{class n{constructor(){this.change$=new Nt}ngOnChanges(){this.change$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,features:[Cn]}),n})(),b4=(()=>{let n=class extends Te{constructor(t){super(i=>this.dialogs$.subscribe(i)),this.idService=t,this.dialogs$=new qn([])}open(t,i={}){return new Te(r=>{const s=Object.assign(Object.assign(Object.assign({},this.defaultOptions),i),{content:t,completeWith:a=>{r.next(a),r.complete()},$implicit:r,component:this.component,createdAt:Date.now(),id:this.idService.generate()});return this.dialogs$.next([...this.dialogs$.value,s]),()=>{this.dialogs$.next(this.dialogs$.value.filter(a=>a!==s))}})}};return n.\u0275fac=function(t){return new(t||n)(O(zo))},n.\u0275prov=K({token:n,factory:function(e){return n.\u0275fac(e)}}),n=ie([re(0,y(zo))],n),n})(),w4=(()=>{let n=class extends v4{getFallbackValue(){return null}};return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275dir=L({type:n,features:[ye]}),n})(),D4=(()=>{class n{constructor(t){if(this.documentRef=t,null!==this.style)return void this.addTheme();const i=this.documentRef.head.querySelectorAll("style");this.constructor.style=i[i.length-1]}get style(){return this.constructor.style}ngOnDestroy(){this.removeTheme()}addTheme(){if(this.style&&!this.documentRef.head.contains(this.style)){for(let t=this.style.attributes.length-1;t>=0;t--)this.style.removeAttribute(this.style.attributes[t].name);this.documentRef.head.appendChild(this.style)}}removeTheme(){this.style&&this.documentRef.head.contains(this.style)&&this.documentRef.head.removeChild(this.style)}}return n.\u0275fac=function(t){!function(){throw new Error("invalid")}()},n.\u0275dir=L({type:n}),n.style=null,n})();function wA(n,e){const t="edge/";return parseInt(e.slice(e.toLowerCase().indexOf(t)+t.length),10)<n}function y0(n){return n.toLowerCase().includes("trident")}class E4{call(e,t){return t.subscribe(new S4(e))}}class S4 extends Ne{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function x4(n,e){if(1&n&&(xo(),De.lFrame.currentNamespace=null,he(0,"div",6)),2&n){const t=W(2);vt("text_horizontal",t.isHorizontal),M("content",t.textContent)}}function A4(n,e){if(1&n&&(F(0,"div",2),xo(),F(1,"svg",3),he(2,"circle",4),N(),$(3,x4,1,3,"div",5),N()),2&n){const t=W();vt("loader_horizontal",t.isHorizontal)("loader_inherit-color",t.inheritColor),yt("data-tui-element-size",t.size),B(3),M("ngIf",t.hasText)}}const I4=["*"];let v0=(()=>{let n=class{constructor(t,i,r,o){this.documentRef=t,this.elementRef=i,this.userAgent=r,this.isIos=o,this.size="m",this.inheritColor=!1,this.overlay=!1,this.textContent=null,this.loading=!0,this.animatedWithJs=wA(17,this.userAgent)||y0(this.userAgent),this.isApple=function(n){const e=n.ownerDocument,t=e&&e.defaultView;return!!t&&"safari"in t}(this.elementRef.nativeElement)||this.isIos}set showLoader(t){t&&this.focused&&qS(this.documentRef),this.loading=t}get hasOverlay(){return this.overlay&&this.loading}get hasText(){return!!this.textContent}get isHorizontal(){return!tp(this.size)}get focused(){return ap(this.elementRef.nativeElement)}};return n.\u0275fac=function(t){return new(t||n)(g(ge),g(I),g(ur),g(Ds))},n.\u0275cmp=je({type:n,selectors:[["tui-loader"]],hostVars:4,hostBindings:function(t,i){2&t&&vt("_loading",i.loading)("_animated-with-js",i.animatedWithJs)},inputs:{size:"size",inheritColor:"inheritColor",overlay:"overlay",textContent:"textContent",showLoader:"showLoader"},ngContentSelectors:I4,decls:3,vars:6,consts:[[1,"content",3,"disabled"],["class","loader",3,"loader_horizontal","loader_inherit-color",4,"ngIf"],[1,"loader"],["automation-id","tui-loader__loader","focusable","false","viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg",1,"icon"],["cx","50","cy","50","r","50","stroke-dasharray","314",1,"circle"],["polymorpheus-outlet","","automation-id","tui-loader__text","class","text",3,"text_horizontal","content",4,"ngIf"],["polymorpheus-outlet","","automation-id","tui-loader__text",1,"text",3,"content"]],template:function(t,i){1&t&&(yi(),F(0,"fieldset",0),_n(1),N(),$(2,A4,4,6,"div",1)),2&t&&(vt("content_has-overlay",i.hasOverlay)("content_loading",i.loading),M("disabled",i.loading&&!i.isApple),B(2),M("ngIf",i.loading))},directives:function(){return[Rt,O4,Kn]},styles:["@-webkit-keyframes tuiLoaderDashOffset{0%,100%{stroke-dashoffset:-66}50%{stroke-dashoffset:-314}}@keyframes tuiLoaderDashOffset{0%,100%{stroke-dashoffset:-66}50%{stroke-dashoffset:-314}}@-webkit-keyframes tuiLoaderRotate{0%{transform:rotate(0)}50%{transform:rotate(1turn)}100%{transform:rotate(3turn)}}@keyframes tuiLoaderRotate{0%{transform:rotate(0)}50%{transform:rotate(1turn)}100%{transform:rotate(3turn)}}[_nghost-%COMP%]{position:relative;display:flex}._loading[_nghost-%COMP%]{overflow:hidden}.content[_ngcontent-%COMP%]{z-index:0;min-width:100%;height:100%;padding:0;margin:0;border:none}.content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.content_loading[_ngcontent-%COMP%]{pointer-events:none}.loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;flex-shrink:0;-ms-grid-row-align:center;align-self:center;color:var(--tui-text-01);stroke:var(--tui-primary);-webkit-animation:tuiFadeIn var(--tui-duration);animation:tuiFadeIn var(--tui-duration)}.loader.loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.loader.loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.loader[data-tui-element-size=xs][_ngcontent-%COMP%]{font-size:.75rem;stroke-width:38}.loader[data-tui-element-size='s'][_ngcontent-%COMP%]{font-size:1rem;stroke-width:25}.loader[data-tui-element-size='m'][_ngcontent-%COMP%]{font-size:1.5rem;stroke-width:17}.loader[data-tui-element-size='l'][_ngcontent-%COMP%]{font-size:2.5rem;stroke-width:15}.loader[data-tui-element-size=xl][_ngcontent-%COMP%]{font-size:3.5rem;stroke-width:14}.loader[data-tui-element-size=xxl][_ngcontent-%COMP%]{font-size:5rem;stroke-width:10}.text[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:1rem;color:inherit;max-width:100%;text-align:center;stroke-width:0}.text_horizontal[_ngcontent-%COMP%]{margin:0 0 0 1rem}.icon[_ngcontent-%COMP%]{display:block;min-width:1em;max-width:1em;min-height:1em;max-height:1em;margin:.25rem -.5em;border-radius:100%;overflow:hidden;transform:scale(1,-1)}[_nghost-%COMP%]:not(._animated-with-js)   .icon[_ngcontent-%COMP%]{-webkit-animation:3s linear infinite tuiLoaderRotate;animation:3s linear infinite tuiLoaderRotate}.circle[_ngcontent-%COMP%]{fill:none;stroke:inherit;stroke-width:inherit;-webkit-animation:3s linear infinite tuiLoaderDashOffset;animation:3s linear infinite tuiLoaderDashOffset}"],changeDetection:0}),b([A(),U()],n.prototype,"size",void 0),b([A(),U()],n.prototype,"inheritColor",void 0),b([A(),U()],n.prototype,"overlay",void 0),b([A(),U()],n.prototype,"textContent",void 0),b([A(),ou()],n.prototype,"showLoader",null),b([pe("class._loading")],n.prototype,"loading",void 0),b([pe("class._animated-with-js")],n.prototype,"animatedWithJs",void 0),n=b([E(0,y(ge)),E(1,y(I)),E(2,y(ur)),E(3,y(Ds))],n),n})(),O4=(()=>{let n=class{constructor(t,i,r,o,s){this.elementRef=o,this.strokeDasharray=314,this.strokeDashoffset=0,(wA(17,s)||y0(s))&&t.pipe(ga(i),n=>n.lift(new E4),rt(r)).subscribe(([a,l])=>{this.animate(l-a)})}animate(t){this.strokeDasharray<0&&(this.strokeDasharray=628,this.strokeDashoffset=0);const i=Math.abs(this.strokeDasharray-314),r=1e3/t,o=1+Math.floor(this.strokeDasharray/314),{style:s}=this.elementRef.nativeElement;s.strokeDashoffset=this.strokeDashoffset.toString(),s.strokeDasharray=314-i+" "+i,this.strokeDasharray-=314/1.5/r,this.strokeDashoffset+=314*o/1.5/r}};return n.\u0275fac=function(t){return new(t||n)(g(lr),g(ve),g(ae),g(I),g(ur))},n.\u0275dir=L({type:n,selectors:[["circle"]],features:[ee([ae])]}),n=b([E(0,y(lr)),E(1,y(ve)),E(2,y(ae)),E(3,y(I)),E(4,y(ur))],n),n})(),CA=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,dr]]}),n})();function TA(n){return!(!n||"undefined"==typeof getComputedStyle)&&("fixed"===getComputedStyle(n).getPropertyValue("position")||TA(n.parentElement))}const b0='width="',w0='height="',D0="<svg";let Wo=(()=>{let n=class extends qn{constructor(){super([]),this.directives=[]}add(t){this.next(this.value.concat(t))}remove(t){this.value.includes(t)&&this.next(this.value.filter(i=>i!==t))}register(t){this.directives=[...this.directives,t]}unregister(t){this.remove(t),this.directives=this.directives.filter(i=>i!==t)}showHintForId(t){const i=this.findDirectiveWithHintId(t);i&&this.add(i)}hideHintForId(t){const i=this.findDirectiveWithHintId(t);i&&this.remove(i)}findDirectiveWithHintId(t){return this.directives.find(i=>i.tuiHintId===t)}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Ap=(()=>{let n=class{constructor(t,i,r){this.tuiSanitizer=t,this.sanitizer=i,this.items$=new qn(new Map),this.originals={},this.define(r)}define(t){const{value:i}=this.items$;Object.keys(t).forEach(r=>{this.defineIcon(r,t[r],i)}),this.items$.next(i)}getOriginal(t){return this.originals[t]||null}defineIcon(t,i,r){if(r.has(t))return;const o=this.parseSrc(t,i);o?(r.set(t,o),this.originals=Object.assign(Object.assign({},this.originals),{[t]:i})):Ut.assert(!1,"Unable to parse given SVG src")}parseSrc(t,i){return this.sanitize(function(n,e){if(n.includes(`id="${e}"`))return n;const t=n.substring(n.indexOf(D0)),i=t.substring(0,t.indexOf(">"));if(!i||!i.includes(b0)||!i.includes(w0))return t.replace(D0,`<svg xmlns="http://www.w3.org/2000/svg"><g id="${e}" xmlns="http://www.w3.org/2000/svg"><svg`)+"</g></svg>";const r=i.indexOf(b0),o=i.indexOf(w0),s=r+b0.length,a=o+w0.length,l=i.substring(s,i.indexOf('"',s)),u=i.substring(a,i.indexOf('"',a));return!u||!l||l.includes("%")||u.includes("%")?t.replace(D0,`<svg id="${e}"`):`<g id="${e}" xmlns="http://www.w3.org/2000/svg" transform="translate(-${parseInt(l,10)/2},-${parseInt(u,10)/2})"><svg x="50%" y="50%">${t}</svg></g>`}(i,t))}sanitize(t){return this.sanitizer.bypassSecurityTrustHtml((this.tuiSanitizer?this.tuiSanitizer.sanitize(Ue.HTML,t):this.sanitizer.sanitize(Ue.HTML,t))||"")}};return n.\u0275fac=function(t){return new(t||n)(O(tu,8),O(Lo),O(Hv))},n.\u0275prov=K({factory:function(){return new n(O(tu,8),O(Lo),O(Hv))},token:n,providedIn:"root"}),n=b([E(0,Ke()),E(0,y(tu)),E(1,y(Lo)),E(2,y(Hv))],n),n})();function Ss(n){return function(t){const i=new F4(n),r=t.lift(i);return i.caught=r}}class F4{constructor(e){this.selector=e}call(e,t){return t.subscribe(new N4(e,this.selector,this.caught))}}class N4 extends zt{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new Me(this);this.add(i);const r=Gi(t,i);r!==i&&this.add(r)}}}function k4(n,e){1&n&&he(0,"div",3),2&n&&M("innerHTML",W().tuiLet,Mh)}function L4(n,e){if(1&n){const t=fo();xo(),F(0,"svg",4),Fe("error",function(){return Zi(t),W(2).onError()}),he(1,"use"),N()}if(2&n){const t=W(2);B(1),yt("href",t.use,null,"xlink")}}function V4(n,e){if(1&n&&(co(0),$(1,k4,1,1,"div",1),$(2,L4,2,1,"ng-template",null,2,ki),ho()),2&n){const t=mn(3),i=W();B(1),M("ngIf",i.isInnerHTML)("ngIfElse",t)}}let ba=(()=>{let n=class{constructor(t,i,r,o,s,a,l,u,c){this.documentRef=t,this.windowRef=i,this.iconsPath=r,this.tuiSanitizer=o,this.svgService=s,this.staticRequestService=a,this.sanitizer=l,this.elementRef=u,this.userAgent=c,this.icon="",this.src$=new Tv(1),this.isIE=y0(this.userAgent),this.innerHTML$=this.src$.pipe(St(()=>this.isExternal?this.getExternalIcon(this.icon):ce(this.getSafeHtml(this.icon))),rn(""))}set src(t){this.icon=t,this.src$.next()}get use(){return this.icon.includes(".svg#")?this.icon:this.resolveName(this.icon,this.iconsPath)}get isInnerHTML(){return this.isSrc||this.isExternal||this.isName&&this.isShadowDOM}get isShadowDOM(){return Ov(this.elementRef.nativeElement)!==this.documentRef}get isUse(){return this.use.includes(".svg#")}get isExternal(){return this.isUrl||this.isIE&&this.isUse||this.isCrossDomain}get isUrl(){return this.icon.endsWith(".svg")}get isSrc(){return function(n){const e=n.trim();return e.startsWith("<")&&e.endsWith(">")}(this.icon)}get isName(){return!this.isUrl&&!this.isUse&&!this.isSrc}get isCrossDomain(){const{use:t,isUse:i,windowRef:r}=this;return i&&t.startsWith("http")&&!!r.origin&&!t.startsWith(r.origin)}onError(t="External icon is missing on the given URL"){const{icon:i}=this,r=XS("tui-icon-error",{bubbles:!0,detail:{message:t,icon:i}},this.documentRef);Ut.assert(!1,t,i),this.elementRef.nativeElement.dispatchEvent(r)}resolveName(t,i){return i(t)}getSafeHtml(t){return this.isSrc?this.sanitize(t):this.process(t)}process(t){const i=this.svgService.getOriginal(t);return this.isName&&!i&&!!t&&this.onError("Attempted to use undefined named icon"),this.isShadowDOM&&this.isName?this.sanitize(i||""):""}sanitize(t){return this.tuiSanitizer?this.sanitizer.bypassSecurityTrustHtml(this.tuiSanitizer.sanitize(Ue.HTML,t)||""):t}getExternalIcon(t){const i=t.includes(".svg")?t:this.use;return this.staticRequestService.request(i).pipe(Ss(()=>(this.onError("Failed to load external SVG"),ce(""))),J(r=>this.sanitize(r.replace("<svg",'<svg focusable="false"'))))}};return n.\u0275fac=function(t){return new(t||n)(g(ge),g(bt),g(rx),g(tu,8),g(Ap),g(gx),g(Lo),g(I),g(ur))},n.\u0275cmp=je({type:n,selectors:[["tui-svg"]],inputs:{src:"src"},decls:2,vars:3,consts:[[4,"tuiLet"],["class","src",3,"innerHTML",4,"ngIf","ngIfElse"],["useTemplate",""],[1,"src",3,"innerHTML"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","focusable","false","width","100%","height","100%",3,"error"]],template:function(t,i){1&t&&($(0,V4,4,2,"ng-container",0),Et(1,"async")),2&t&&M("tuiLet",Ot(1,1,i.innerHTML$))},directives:[gp,Rt],pipes:[Li],styles:["[_nghost-%COMP%]{display:inline-block;vertical-align:middle;flex-shrink:0;line-height:0;height:1.5rem;width:1.5rem;fill:currentColor}.src[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}"],changeDetection:0}),b([A(),ou()],n.prototype,"src",null),b([ui],n.prototype,"resolveName",null),n=b([E(0,y(ge)),E(1,y(bt)),E(2,y(rx)),E(3,Ke()),E(3,y(tu)),E(4,y(Ap)),E(5,y(gx)),E(6,y(Lo)),E(7,y(I)),E(8,y(ur))],n),n})(),wa=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,rd]]}),n})(),C0=(()=>{let n=class extends fr{constructor(){super(...arguments),this.mode=null}};return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275dir=L({type:n,selectors:[["","tuiMode",""]],inputs:{mode:["tuiMode","mode"]},features:[ye]}),b([A("tuiMode")],n.prototype,"mode",void 0),n})(),MA=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function EA(n,e,t){return n.change$.pipe(Xl(e),rt(t)).subscribe(),n}const Ip={provide:jo,deps:[[new Ke,C0],I],useFactory:function(n,{nativeElement:e}){const t=n?n.change$.pipe(rn(null),J(()=>n.mode)):cr;return e["$.data-mode.attr"]=t}},U4=["*"];let SA=(()=>{let n=class{constructor(t,i){this.isMobile=t,this.mode$=i,this.disabled=!1,this.readOnly=!1,this.hovered=!1,this.pressed=!1,this.focused=!1,this.invalid=!1,this.appearance=""}get computedInvalid(){return!this.disabled&&!this.readOnly&&this.invalid}get computedFocused(){return this.focused&&!this.disabled}get interactiveState(){return this.disabled?"disabled":this.readOnly?"readonly":this.pressed&&!this.isMobile?"pressed":this.hovered&&!this.isMobile?"hovered":null}};return n.\u0275fac=function(t){return new(t||n)(g(Hr),g(jo))},n.\u0275cmp=je({type:n,selectors:[["tui-wrapper"]],hostVars:6,hostBindings:function(t,i){1&t&&Fe("$.data-mode.attr",function(){return i.mode$}),2&t&&(yt("data-appearance",i.appearance)("data-state",i.interactiveState),vt("_invalid",i.computedInvalid)("_focused",i.computedFocused))},inputs:{disabled:"disabled",readOnly:"readOnly",hovered:"hovered",pressed:"pressed",focused:"focused",invalid:"invalid",appearance:"appearance"},features:[ee([Ip])],ngContentSelectors:U4,decls:1,vars:0,template:function(t,i){1&t&&(yi(),_n(0))},styles:["[_nghost-%COMP%]{transition-property:color,background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;position:relative;display:block;height:100%;width:100%;text-align:left;border-radius:inherit}[_nghost-%COMP%]:after{transition-property:box-shadow;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;border:1px solid currentColor;pointer-events:none;color:transparent}._focused[_nghost-%COMP%]:after{border-width:2px;color:var(--tui-focus)}[data-state=disabled][_nghost-%COMP%]{pointer-events:none}"],changeDetection:0}),b([A()],n.prototype,"disabled",void 0),b([A()],n.prototype,"readOnly",void 0),b([A()],n.prototype,"hovered",void 0),b([A()],n.prototype,"pressed",void 0),b([A()],n.prototype,"focused",void 0),b([A()],n.prototype,"invalid",void 0),b([A(),pe("attr.data-appearance")],n.prototype,"appearance",void 0),b([pe("class._invalid")],n.prototype,"computedInvalid",null),b([pe("class._focused")],n.prototype,"computedFocused",null),b([pe("attr.data-state")],n.prototype,"interactiveState",null),n=b([E(0,y(Hr)),E(1,y(jo))],n),n})(),xA=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function G4(n,e){1&n&&he(0,"tui-svg",6),2&n&&M("src",e.$implicit)}function W4(n,e){1&n&&(F(0,"span",5),$(1,G4,1,1,"ng-template"),N()),2&n&&M("content",W().icon)}function q4(n,e){1&n&&he(0,"tui-svg",6),2&n&&M("src",e.$implicit)}function K4(n,e){1&n&&(F(0,"span",7),$(1,q4,1,1,"ng-template"),N()),2&n&&M("content",W().iconRight)}function Q4(n,e){1&n&&he(0,"tui-loader",8),2&n&&M("size",W().loaderSize)("inheritColor",!0)}var T0;let Zt=T0=class extends Qt{constructor(e,t,i,r,o){super(),this.elementRef=e,this.appearance="primary",this.disabled=!1,this.icon="",this.iconRight="",this.shape=null,this.showLoader=!1,this.size="l",i.createHovered$(e.nativeElement).pipe(Xl(o),rt(r)).subscribe(s=>{this.updateHovered(s)}),function(n){const{ownerDocument:e}=n;if(!e)throw new Error("element does not have ownerDocument");return we(n,"mousedown").pipe(ut(({isTrusted:t})=>t),Yl(function(n){return st(we(n,"mouseup"),we(n,"dragend"))}(e).pipe(Vr(!1),Wn(1),rn(!0))))}(e.nativeElement).pipe(Xl(o),rt(r)).subscribe(s=>{this.updatePressed(s)}),t.subscribe(s=>{this.updateFocusVisible(s)})}get nativeFocusableElement(){return this.nativeDisabled?null:this.elementRef.nativeElement}get focused(){return!this.showLoader&&ws(this.elementRef.nativeElement)}get loaderSize(){return"l"===this.size||"xl"===this.size?"m":"s"}get nativeDisabled(){return this.computedDisabled||this.showLoader?"":null}get tabIndex(){return this.focusable?0:-1}onFocused(e){this.updateFocused(e)}};Zt.\u0275fac=function(e){return new(e||Zt)(g(I),g(_a),g(vo),g(ae),g(Vt))},Zt.\u0275cmp=je({type:Zt,selectors:[["button","tuiButton",""],["button","tuiIconButton",""],["a","tuiButton",""],["a","tuiIconButton",""]],hostVars:7,hostBindings:function(e,t){1&e&&Fe("focusin",function(){return t.onFocused(!0)})("focusout",function(){return t.onFocused(!1)}),2&e&&(vc("tabIndex",t.tabIndex),yt("data-appearance",t.appearance)("data-tui-host-shape",t.shape)("data-tui-host-size",t.size)("disabled",t.nativeDisabled),vt("_loading",t.showLoader))},inputs:{appearance:"appearance",disabled:"disabled",icon:"icon",iconRight:"iconRight",shape:"shape",showLoader:"showLoader",size:"size"},features:[ee([{provide:dp,useExisting:le(()=>T0)},ae,_a]),ye],attrs:["tuiButton",""],ngContentSelectors:["*"],decls:6,vars:8,consts:[[1,"wrapper",3,"appearance","hovered","pressed","disabled","focused"],[1,"content"],["class","left","polymorpheus-outlet","",3,"content",4,"ngIf"],["class","right","polymorpheus-outlet","",3,"content",4,"ngIf"],["class","loader",3,"size","inheritColor",4,"ngIf"],["polymorpheus-outlet","",1,"left",3,"content"],[1,"icon",3,"src"],["polymorpheus-outlet","",1,"right",3,"content"],[1,"loader",3,"size","inheritColor"]],template:function(e,t){1&e&&(yi(),F(0,"tui-wrapper",0),F(1,"span",1),$(2,W4,2,1,"span",2),_n(3),$(4,K4,2,1,"span",3),N(),$(5,Q4,1,2,"tui-loader",4),N()),2&e&&(M("appearance",t.appearance)("hovered",t.computedHovered)("pressed",t.computedPressed)("disabled",t.computedDisabled)("focused",t.computedFocusVisible),B(2),M("ngIf",t.icon),B(2),M("ngIf",t.iconRight),B(1),M("ngIf",t.showLoader))},directives:[SA,Rt,Kn,ba,v0],styles:["[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:0 0;font-size:inherit;line-height:inherit;font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:inline-block;flex-shrink:0;vertical-align:top;border-radius:var(--tui-radius-m);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;font-weight:700;outline:0}[disabled][_nghost-%COMP%]{pointer-events:none}[tuiIconButton][_nghost-%COMP%]   .left[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .right[_ngcontent-%COMP%]{margin:0}[data-tui-host-shape=rounded][_nghost-%COMP%]{border-radius:6.25rem}[data-tui-host-size=xs][_nghost-%COMP%]{height:var(--tui-height-xs);font-weight:400}[data-tui-host-size=xs][data-tui-host-shape=square][_nghost-%COMP%], [data-tui-host-size=xs][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-xs);width:var(--tui-height-xs)}[data-tui-host-size='s'][_nghost-%COMP%]{height:var(--tui-height-s);font-weight:400}[data-tui-host-size='s'][data-tui-host-shape=square][_nghost-%COMP%], [data-tui-host-size='s'][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-s);width:var(--tui-height-s)}[data-tui-host-size='m'][_nghost-%COMP%]{height:var(--tui-height-m);font-size:.9375rem}[data-tui-host-size='m'][data-tui-host-shape=square][_nghost-%COMP%], [data-tui-host-size='m'][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-m);width:var(--tui-height-m)}[data-tui-host-size='l'][_nghost-%COMP%]{height:var(--tui-height-l);font-size:.9375rem}[data-tui-host-size='l'][data-tui-host-shape=square][_nghost-%COMP%], [data-tui-host-size='l'][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-l);width:var(--tui-height-l)}[data-tui-host-size=xl][_nghost-%COMP%]{height:3.75rem;font-size:.9375rem}[data-tui-host-size=xl][data-tui-host-shape=square][_nghost-%COMP%], [data-tui-host-size=xl][tuiIconButton][_nghost-%COMP%]{height:3.75rem;width:3.75rem}.loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;cursor:default}.left[_ngcontent-%COMP%]{margin:0 .5rem 0 -.25rem}.right[_ngcontent-%COMP%]{margin:0 -.25rem 0 .5rem}.icon[_ngcontent-%COMP%]{display:block}[data-tui-host-size='s'][_nghost-%COMP%]   .icon[_ngcontent-%COMP%], [data-tui-host-size=xs][_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{width:1rem;height:1rem}[tuiIconButton][_nghost-%COMP%]   .icon[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .left[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.wrapper[_ngcontent-%COMP%]{position:relative;z-index:0;box-sizing:border-box;cursor:pointer}[data-tui-host-size=xs][_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:0 .5rem}[data-tui-host-size='s'][_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:0 .75rem}[data-tui-host-size='m'][_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:0 1.5rem}[data-tui-host-size='l'][_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:0 2.25rem}[data-tui-host-size=xl][_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:0 2.5rem}[data-tui-host-shape=square][_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:0}.content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center;text-align:center}._loading[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{opacity:0}"],changeDetection:0}),Zt.ctorParameters=()=>[{type:I,decorators:[{type:y,args:[I]}]},{type:_a,decorators:[{type:y,args:[_a]}]},{type:vo,decorators:[{type:y,args:[vo]}]},{type:Te,decorators:[{type:y,args:[ae]}]},{type:Vt,decorators:[{type:y,args:[Vt]}]}],b([A(),pe("attr.data-appearance"),U()],Zt.prototype,"appearance",void 0),b([A(),U()],Zt.prototype,"disabled",void 0),b([A(),U()],Zt.prototype,"icon",void 0),b([A(),U()],Zt.prototype,"iconRight",void 0),b([A(),pe("attr.data-tui-host-shape"),U()],Zt.prototype,"shape",void 0),b([A(),pe("class._loading"),U()],Zt.prototype,"showLoader",void 0),b([A(),pe("attr.data-tui-host-size"),U()],Zt.prototype,"size",void 0),b([pe("attr.disabled")],Zt.prototype,"nativeDisabled",null),b([pe("tabIndex")],Zt.prototype,"tabIndex",null),b([en("focusin",["true"]),en("focusout",["false"])],Zt.prototype,"onFocused",null),Zt=T0=b([E(0,y(I)),E(1,y(_a)),E(2,y(vo)),E(3,y(ae)),E(4,y(Vt))],Zt);let hd=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,dr,xA,wa,CA]]}),n})();function Y4(n,e){1&n&&he(0,"tui-svg",3),2&n&&M("src",W().icon)}function J4(n,e){if(1&n){const t=fo();F(0,"button",4),Fe("click",function(){return Zi(t),W().close.emit()}),Et(1,"async"),N()}2&n&&M("title",Ot(1,1,W().closeWord$))}const X4=["*"],e8={info:"tuiIconInfo",success:"tuiIconCheckCircle",error:"tuiIconCancel",warning:"tuiIconAttention"};let t8=(()=>{let n=class{constructor(t){this.closeWord$=t,this.hasIcon=!0,this.status="info",this.close=new ft}get icon(){return e8[this.status]}get hasClose(){return!!this.close.observers.length}};return n.\u0275fac=function(t){return new(t||n)(g(hp))},n.\u0275cmp=je({type:n,selectors:[["tui-notification"]],hostVars:5,hostBindings:function(t,i){2&t&&(yt("data-tui-host-status",i.status),vt("_has-icon",i.hasIcon)("_has-close-button",i.hasClose))},inputs:{hasIcon:"hasIcon",status:"status"},outputs:{close:"close"},ngContentSelectors:X4,decls:4,vars:2,consts:[["automation-id","tui-notification__icon","class","icon",3,"src",4,"ngIf"],[1,"content"],["tuiIconButton","","type","button","automation-id","tui-notification__close","size","xs","class","close","icon","tuiIconCloseLarge","appearance","icon",3,"title","click",4,"ngIf"],["automation-id","tui-notification__icon",1,"icon",3,"src"],["tuiIconButton","","type","button","automation-id","tui-notification__close","size","xs","icon","tuiIconCloseLarge","appearance","icon",1,"close",3,"title","click"]],template:function(t,i){1&t&&(yi(),$(0,Y4,1,1,"tui-svg",0),F(1,"div",1),_n(2),N(),$(3,J4,2,3,"button",2)),2&t&&(M("ngIf",i.hasIcon),B(3),M("ngIf",i.hasClose))},directives:[Rt,ba,Zt],pipes:[Li],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:block;padding:.8125rem 1rem .6875rem;border-radius:var(--tui-radius-m);background:#fff;background:var(--tui-base-01);overflow:hidden}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:'';pointer-events:none}._has-close-button[_nghost-%COMP%]{padding-right:2rem}._has-icon[_nghost-%COMP%]{padding-left:2.75rem}[data-tui-host-status=info][_nghost-%COMP%]{color:var(--tui-info-fill)}[data-tui-host-status=info][_nghost-%COMP%]:after{background:var(--tui-info-bg)}[data-tui-host-status=success][_nghost-%COMP%]{color:var(--tui-success-fill)}[data-tui-host-status=success][_nghost-%COMP%]:after{background:var(--tui-success-bg)}[data-tui-host-status=error][_nghost-%COMP%]{color:var(--tui-error-fill)}[data-tui-host-status=error][_nghost-%COMP%]:after{background:var(--tui-error-bg)}[data-tui-host-status=warning][_nghost-%COMP%]{color:var(--tui-warning-fill)}[data-tui-host-status=warning][_nghost-%COMP%]:after{background:var(--tui-warning-bg)}.content[_ngcontent-%COMP%]{word-wrap:break-word;color:var(--tui-text-01)}.icon[_ngcontent-%COMP%]{position:absolute;top:0;left:1rem;display:flex;width:1rem;height:100%;max-height:3rem;align-items:center}.close[_ngcontent-%COMP%]{position:absolute;top:.625rem;right:.5rem}"],changeDetection:0}),b([A(),pe("class._has-icon"),U()],n.prototype,"hasIcon",void 0),b([A(),pe("attr.data-tui-host-status"),U()],n.prototype,"status",void 0),b([Rn()],n.prototype,"close",void 0),b([pe("class._has-close-button")],n.prototype,"hasClose",null),n=b([E(0,y(hp))],n),n})(),n8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,wa,hd]]}),n})();const Pe="{{duration}}ms ease-in-out",et={params:{duration:300}},Zn=300,i8=(nn("tuiHeightCollapse",[Be(":enter",[H({height:0}),Oe(Pe,H({height:"*"}))],et),Be(":leave",[H({height:"*"}),Oe(Pe,H({height:0}))],et)]),nn("tuiHeightCollapseList",[Be("* => *",[Sn(":enter",[H({height:0}),Gn(Zn,[Oe(Pe,H({height:"*"}))])],{optional:!0}),Sn(":leave",[H({height:"*"}),Gn(Zn,[Oe(Pe,H({height:0}))])],{optional:!0})],et)])),M0=(nn("tuiWidthCollapse",[Be(":enter",[H({width:0}),Oe(Pe,H({width:"*"}))],et),Be(":leave",[H({width:"*"}),Oe(Pe,H({width:0}))],et)]),nn("tuiWidthCollapseList",[Be("* => *",[Sn(":enter",[H({width:0}),Gn(Zn,[Oe(Pe,H({width:"*"}))])],{optional:!0}),Sn(":leave",[H({width:"*"}),Gn(Zn,[Oe(Pe,H({width:0}))])],{optional:!0})],et)]),nn("tuiFadeIn",[Be(":enter",[H({opacity:0}),Oe(Pe,H({opacity:1}))],et),Be(":leave",[H({opacity:1}),Oe(Pe,H({opacity:0}))],et)])),r8=nn("tuiFadeInList",[Be("* => *",[Sn(":enter",[H({opacity:0}),Gn(Zn,[Oe(Pe,H({opacity:1}))])],{optional:!0}),Sn(":leave",[H({opacity:1}),Gn(Zn,[Oe(Pe,H({opacity:0}))])],{optional:!0})],et)]),o8=(nn("tuiFadeInTop",[Be(":enter",[H({transform:"translateY(-10px)",opacity:0}),Oe(Pe,H({transform:"translateY(0)",opacity:1}))],et),Be(":leave",[H({transform:"translateY(0)",opacity:1}),Oe(Pe,H({transform:"translateY(-10px)",opacity:0}))],et)]),nn("tuiFadeInBottom",[Be(":enter",[H({transform:"translateY(10px)",opacity:0}),Oe(Pe,H({transform:"translateY(0)",opacity:1}))],et),Be(":leave",[H({transform:"translateY(0)",opacity:1}),Oe(Pe,H({transform:"translateY(10px)",opacity:0}))],et)]),nn("tuiDropdownAnimation",[Be("* => fadeInTop",[H({transform:"translateY(-10px)",opacity:0}),Oe(Pe,H({transform:"translateY(0)",opacity:1}))],et),Be("* => fadeInBottom",[H({transform:"translateY(10px)",opacity:0}),Oe(Pe,H({transform:"translateY(0)",opacity:1}))],et),Be("fadeInBottom => *",[H({transform:"translateY(0)",opacity:1}),Oe(Pe,H({transform:"translateY(10px)",opacity:0}))],et),Be("fadeInTop => *",[H({transform:"translateY(0)",opacity:1}),Oe(Pe,H({transform:"translateY(-10px)",opacity:0}))],et)])),s8=(nn("tuiScaleIn",[Be(":enter",[H({transform:"scale(0)"}),Oe(Pe,H({transform:"scale(1)"}))],et),Be(":leave",[H({transform:"scale(1)"}),Oe(Pe,H({transform:"scale(0)"}))],et)]),nn("tuiScaleInList",[Be("* => *",[Sn(":enter",[H({transform:"scale(0)"}),Gn(Zn,[Oe(Pe,H({transform:"scale(1)"}))])],{optional:!0}),Sn(":leave",[H({transform:"scale(1)"}),Gn(Zn,[Oe(Pe,H({transform:"scale(0)"}))])],{optional:!0})],et)]),nn("tuiSlideIn",[Be("* => left",[H({transform:"translateX(-100%)"}),Oe(Pe,H({transform:"translateX(0)"}))],et),Be("left => *",[H({transform:"translateX(0)"}),Oe(Pe,H({transform:"translateX(-100%)"}))],et),Be("* => right",[H({transform:"translateX(100%)"}),Oe(Pe,H({transform:"translateX(0)"}))],et),Be("right => *",[H({transform:"translateX(0)"}),Oe(Pe,H({transform:"translateX(100%)"}))],et)]),nn("tuiSlideInLeft",[Be(":enter",[H({transform:"translateX(-100%)"}),Oe(Pe,H({transform:"translateX(0)"}))],et),Be(":leave",[H({transform:"translateX(0)"}),Oe(Pe,H({transform:"translateX(-100%)"}))],et)]),nn("tuiSlideInLeftList",[Be("* => *",[Sn(":enter",[H({transform:"translateX(-100%)"}),Gn(Zn,[Oe(Pe,H({transform:"translateX(0)"}))])],{optional:!0}),Sn(":leave",[H({transform:"translateX(0)"}),Gn(Zn,[Oe(Pe,H({transform:"translateX(-100%)"}))])],{optional:!0})],et)]),nn("tuiSlideInRight",[Be(":enter",[H({transform:"translateX(100%)"}),Oe(Pe,H({transform:"translateX(0)"}))],et),Be(":leave",[H({transform:"translateX(0)"}),Oe(Pe,H({transform:"translateX(100%)"}))],et)]),nn("tuiSlideInRightList",[Be("* => *",[Sn(":enter",[H({transform:"translateX(100%)"}),Gn(Zn,[Oe(Pe,H({transform:"translateX(0)"}))])],{optional:!0}),Sn(":leave",[H({transform:"translateX(0)"}),Gn(Zn,[Oe(Pe,H({transform:"translateX(100%)"}))])],{optional:!0})],et)])),a8=nn("tuiSlideInTop",[Be(":enter",[H({transform:"translate3d(0,{{start}},0)"}),Oe(Pe,H({transform:"translate3d(0,{{end}},0)"}))],{params:{end:0,start:"100%",duration:300}}),Be(":leave",[H({transform:"translate3d(0,{{end}},0)"}),Oe(Pe,H({transform:"translate3d(0,{{start}},0)"}))],{params:{end:0,start:"100%",duration:300}})]);function l8(n,e){if(1&n&&(F(0,"label",5),Qe(1),N()),2&n){const t=W(2);B(1),ri(" ",t.safeItem.label," ")}}function u8(n,e){if(1&n){const t=fo();F(0,"tui-notification",2),Fe("close",function(){return Zi(t),W().closeNotification()}),$(1,l8,2,1,"label",3),he(2,"div",4),N()}if(2&n){const t=W();M("status",t.safeItem.status)("hasIcon",t.safeItem.hasIcon),B(1),M("ngIf",t.safeItem.label),B(1),M("content",t.safeItem.content)("context",t.context)}}function c8(n,e){if(1&n&&(F(0,"label",5),Qe(1),N()),2&n){const t=W(2);B(1),ri(" ",t.safeItem.label," ")}}function d8(n,e){if(1&n&&(F(0,"tui-notification",6),$(1,c8,2,1,"label",3),he(2,"div",4),N()),2&n){const t=W();M("status",t.safeItem.status)("hasIcon",t.safeItem.hasIcon),B(1),M("ngIf",t.safeItem.label),B(1),M("content",t.safeItem.content)("context",t.context)}}function h8(n,e){1&n&&he(0,"tui-notification-alert",4),2&n&&M("item",e.$implicit)}function f8(n,e){if(1&n&&(F(0,"div",2),$(1,h8,1,1,"tui-notification-alert",3),N()),2&n){const t=W().tuiLet,i=W();M("@tuiFadeInList",i.getAnimation(t.length))("@tuiHeightCollapseList",i.getAnimation(t.length))("@tuiSlideInRightList",i.getAnimation(t.length)),B(1),M("ngForOf",t)}}function p8(n,e){if(1&n&&(co(0),$(1,f8,2,4,"div",1),ho()),2&n){const t=e.tuiLet;B(1),M("ngIf",t.length)}}nn("tuiSlideInTopList",[Be("* => *",[Sn(":enter",[H({transform:"translateY(100%)"}),Gn(Zn,[Oe(Pe,H({transform:"translateY(0)"}))])],{optional:!0}),Sn(":leave",[H({transform:"translateY(0)"}),Gn(Zn,[Oe(Pe,H({transform:"translateY(100%)"}))])],{optional:!0})],et)]),nn("tuiSlideInBottom",[Be(":enter",[H({transform:"translateY(-100%)"}),Oe(Pe,H({transform:"translateY(0)"}))],et),Be(":leave",[H({transform:"translateY(0)"}),Oe(Pe,H({transform:"translateY(-100%)"}))],et)]),nn("tuiSlideInBottomList",[Be("* => *",[Sn(":enter",[H({transform:"translateY(-100%)"}),Gn(Zn,[Oe(Pe,H({transform:"translateY(0)"}))])],{optional:!0}),Sn(":leave",[H({transform:"translateY(0)"}),Gn(Zn,[Oe(Pe,H({transform:"translateY(-100%)"}))])],{optional:!0})],et)]);let m8=(()=>{let n=class{constructor(t,i){this.elementRef=t,this.destroy$=i}ngOnInit(){this.initAutoClose()}get safeItem(){if(!this.item)throw new Error("Notification was created as undefined");return this.item}get context(){return this.calculateContext(this.safeItem)}closeNotification(){this.safeItem.observer.complete()}calculateContext({status:t,data:i,label:r,observer:o}){return{$implicit:t,data:i,label:r,closeHook:()=>{o.complete()},emitHook:s=>{o.next(s)},emitAndCloseHook:s=>{o.next(s),o.complete()}}}initAutoClose(){!this.safeItem.autoClose||Zl(function(n){return"number"==typeof n}(this.safeItem.autoClose)?this.safeItem.autoClose:3e3).pipe(rt(Ho(this.elementRef.nativeElement,"mouseenter")),tx(()=>Ho(this.elementRef.nativeElement,"mouseleave")),rt(this.destroy$)).subscribe(()=>this.closeNotification())}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(ae))},n.\u0275cmp=je({type:n,selectors:[["tui-notification-alert"]],inputs:{item:"item"},features:[ee([ae])],decls:3,vars:2,consts:[[3,"status","hasIcon","close",4,"ngIf","ngIfElse"],["noClose",""],[3,"status","hasIcon","close"],["automation-id","tui-notification-alert__heading","class","heading",4,"ngIf"],["polymorpheus-outlet","","automation-id","tui-notification-alert__content",1,"content",3,"content","context"],["automation-id","tui-notification-alert__heading",1,"heading"],[3,"status","hasIcon"]],template:function(t,i){if(1&t&&($(0,u8,3,5,"tui-notification",0),$(1,d8,3,5,"ng-template",null,1,ki)),2&t){const r=mn(2);M("ngIf",i.safeItem.hasCloseButton)("ngIfElse",r)}},directives:[Rt,t8,Kn],styles:["[_nghost-%COMP%]{box-shadow:0 .5rem 1rem rgba(51,51,51,.2);display:block;border-radius:var(--tui-radius-m)}.heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem;font-weight:700;margin:0}.content[_ngcontent-%COMP%]{color:var(--tui-text-01);word-wrap:break-word}.content[_ngcontent-%COMP%]:empty{display:none}"],changeDetection:0}),b([A()],n.prototype,"item",void 0),b([ui],n.prototype,"calculateContext",null),n=b([E(0,y(I)),E(1,y(ae))],n),n})(),_8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,dr,n8]]}),n})();class y8{constructor(e,t,i){const{label:r="",status:o="info",hasIcon:s=!0,autoClose:a=!0,hasCloseButton:l=!0}=i;this.observer=e,this.content=t,this.label=r,this.status=o,this.hasIcon=s,this.autoClose=a,this.hasCloseButton=l,i&&this.withData(i)&&(this.data=i.data)}withData(e){return"data"in e}}let AA=(()=>{let n=class{constructor(){this.items$=new qn([])}show(t,i={}){return new Te(r=>{Ut.assert(!!this.items$.observers.length,"Notifications are disabled, enable support by adding TuiNotificationsModule to your main app module");const o=new y8(r,t,i);return this.items$.next([...this.items$.value,o]),()=>{this.items$.next(this.items$.value.filter(s=>s!==o))}})}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Op=(()=>{let n=class{constructor(t,i){this.options=t,this.service=i}getAnimation(t){return Object.assign({value:String(t)},this.options)}};return n.\u0275fac=function(t){return new(t||n)(g(Cs),g(AA))},n.\u0275cmp=je({type:n,selectors:[["tui-notifications-host"]],decls:2,vars:3,consts:[[4,"tuiLet"],["class","wrapper",4,"ngIf"],[1,"wrapper"],["class","alert","role","alert",3,"item",4,"ngFor","ngForOf"],["role","alert",1,"alert",3,"item"]],template:function(t,i){1&t&&($(0,p8,2,1,"ng-container",0),Et(1,"async")),2&t&&M("tuiLet",Ot(1,1,i.service.items$))},directives:[gp,Rt,ms,m8],pipes:[Li],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:0}.wrapper[_ngcontent-%COMP%]{width:18rem;margin-left:auto;padding:2rem 3rem 0 0;pointer-events:none}@media screen and (max-width:47.9375em){.wrapper[_ngcontent-%COMP%]{padding:1rem 1rem 0 0}}@media screen and (min-width:80em){.wrapper[_ngcontent-%COMP%]{width:23rem}}.alert[_ngcontent-%COMP%]{pointer-events:auto}.alert[_ngcontent-%COMP%]:not(:first-child){margin-top:.75rem}"],data:{animation:[r8,s8,i8]},changeDetection:0}),b([ui],n.prototype,"getAnimation",null),n=b([E(0,y(Cs)),E(1,y(AA))],n),n})();const b8=Op;let w8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:[{provide:Op,useValue:b8}],imports:[[lt,_8,rd]]}),n})();class lu{supports(e){return-1!==e.split(".").indexOf(this.modifier)}addGlobalEventListener(e,t,i){throw new Error(`Global event targets are not supported by ${this.modifier} plugin`)}unwrap(e){return e.split(".").filter(t=>t!==this.modifier).join(".")}}let C8=(()=>{class n extends lu{constructor(){super(...arguments),this.modifier="$"}addEventListener(t,i){var r;t[i]=null!==(r=t[i])&&void 0!==r?r:cr;const o=this.getMethod(t,i),a=fa(this.manager.getZone().onStable.pipe(function(n,e=!1){return t=>t.lift(new N5(n,e))}(()=>t[i]===cr)),mp(()=>t[i])).subscribe(o);return()=>a.unsubscribe()}getMethod(t,i){const[,r,o,s=""]=i.split(".");return i.endsWith(".attr")?a=>null===a?t.removeAttribute(r):t.setAttribute(r,String(a)):"class"===r?a=>t.classList.toggle(o,!!a):"style"===r?a=>t.style.setProperty(function(n){return n.replace(/[a-z][A-Z]/g,e=>`${e[0]}-${e[1].toLowerCase()}`)}(o),`${a}${s}`):a=>t[r]=a}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),T8=(()=>{class n extends lu{constructor(){super(...arguments),this.modifier="capture"}supports(t){const i=t.split(".");return 2===i.length&&-1!==i.indexOf(this.modifier)}addEventListener(t,i,r){return t.addEventListener(this.unwrap(i),r,!0),()=>t.removeEventListener(this.unwrap(i),r)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),M8=(()=>{class n extends lu{constructor(){super(...arguments),this.modifier="prevent"}addEventListener(t,i,r){return this.manager.addEventListener(t,this.unwrap(i),s=>{s.preventDefault(),r(s)})}addGlobalEventListener(t,i,r){return this.manager.addGlobalEventListener(t,this.unwrap(i),s=>{s.preventDefault(),r(s)})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),IA=(()=>{class n extends lu{constructor(){super(...arguments),this.modifier="silent"}addEventListener(t,i,r){return this.manager.getZone().runOutsideAngular(()=>this.manager.addEventListener(t,this.unwrap(i),r))}addGlobalEventListener(t,i,r){return this.manager.getZone().runOutsideAngular(()=>this.manager.addGlobalEventListener(t,this.unwrap(i),r))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),E8=(()=>{class n extends lu{constructor(){super(...arguments),this.modifier="stop"}addEventListener(t,i,r){return this.manager.addEventListener(t,this.unwrap(i),s=>{s.stopPropagation(),r(s)})}addGlobalEventListener(t,i,r){return this.manager.addGlobalEventListener(t,this.unwrap(i),s=>{s.stopPropagation(),r(s)})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),S8=(()=>{class n extends lu{constructor(){super(...arguments),this.modifier="init"}addEventListener(t,i,r){return this.handle(r)}addGlobalEventListener(t,i,r){return this.handle(r)}handle(t){const i=this.manager.getZone(),r=i.onStable.subscribe(()=>{r.unsubscribe(),t(i)});return()=>{}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const x8=[{provide:Vi,useClass:IA,multi:!0},{provide:Vi,useClass:M8,multi:!0},{provide:Vi,useClass:E8,multi:!0},{provide:Vi,useClass:S8,multi:!0},{provide:Vi,useClass:T8,multi:!0},{provide:Vi,useClass:C8,multi:!0}];function A8(n){return(e,t,i)=>{const{value:r}=i;i.value=function(){const o=arguments[0];Object.defineProperty(this,t,{value(...s){n.apply(this,s)&&o.run(()=>{r.apply(this,s)})}})}}}function fn(n){return Ut.assert(Number.isFinite(n),"Value must be finite number"),`${n}px`}function OA(n){return e=>e.lift(new I8(n))}class I8{constructor(e){this.total=e}call(e,t){return t.subscribe(new O8(e,this.total))}}class O8 extends Ne{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}var fd;let Ft=fd=class{constructor(e,t,i,r){this.active$=e,this.ngZone=t,this.elementRef=i,this.directParentActiveZone=r,this.subActiveZones=[],this.tuiActiveZoneParent=null,this.tuiActiveZoneChange=this.active$.pipe(J(o=>!!o&&this.contains(o)),rn(!1),ar(),OA(1),ma(this.ngZone)),this.directParentActiveZone&&this.directParentActiveZone.addSubActiveZone(this)}set tuiActiveZoneParentSetter(e){this.tuiActiveZoneParent&&this.tuiActiveZoneParent.removeSubActiveZone(this),e&&e.addSubActiveZone(this),this.tuiActiveZoneParent=e}ngOnDestroy(){this.directParentActiveZone&&this.directParentActiveZone.removeSubActiveZone(this),this.tuiActiveZoneParent&&this.tuiActiveZoneParent.removeSubActiveZone(this)}contains(e){return this.elementRef.nativeElement.contains(e)||this.subActiveZones.some((t,i,r)=>r.indexOf(t)===i&&t.contains(e))}addSubActiveZone(e){this.subActiveZones=[...this.subActiveZones,e]}removeSubActiveZone(e){const t=this.subActiveZones.findIndex(i=>i===e);this.subActiveZones=[...this.subActiveZones.slice(0,t),...this.subActiveZones.slice(t+1)]}};Ft.\u0275fac=function(e){return new(e||Ft)(g(Rv),g(ve),g(I),g(fd,12))},Ft.\u0275dir=L({type:Ft,selectors:[["","tuiActiveZone","",5,"ng-container"],["","tuiActiveZoneChange","",5,"ng-container"],["","tuiActiveZoneParent","",5,"ng-container"]],inputs:{tuiActiveZoneParentSetter:["tuiActiveZoneParent","tuiActiveZoneParentSetter"]},outputs:{tuiActiveZoneChange:"tuiActiveZoneChange"},exportAs:["tuiActiveZone"]}),Ft.ctorParameters=()=>[{type:Te,decorators:[{type:y,args:[Rv]}]},{type:ve,decorators:[{type:y,args:[ve]}]},{type:I,decorators:[{type:y,args:[I]}]},{type:Ft,decorators:[{type:Ke},{type:ro},{type:y,args:[fd]}]}],ie([A("tuiActiveZoneParent"),U()],Ft.prototype,"tuiActiveZoneParentSetter",null),ie([Rn()],Ft.prototype,"tuiActiveZoneChange",void 0),Ft=fd=ie([re(0,y(Rv)),re(1,y(ve)),re(2,y(I)),re(3,Ke()),re(3,ro()),re(3,y(fd))],Ft);let E0=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function P8(n,e){if(1&n&&(F(0,"div",3),he(1,"div",4),N()),2&n){const t=W().tuiLet,i=W();vt("bar_has-horizontal",t[1]),M("@tuiFadeIn",i.animation)}}function R8(n,e){if(1&n&&(F(0,"div",5),he(1,"div",6),N()),2&n){const t=W().tuiLet,i=W();vt("bar_has-vertical",t[0]),M("@tuiFadeIn",i.animation)}}function F8(n,e){if(1&n&&(co(0),$(1,P8,2,3,"div",1),$(2,R8,2,3,"div",2),ho()),2&n){const t=e.tuiLet;B(1),M("ngIf",t[0]),B(1),M("ngIf",t[1])}}let N8=(()=>{let n=class{constructor(t,i,r,o,s,a,l,u,c,d){this.wrapper=s,this.container=a,this.documentRef=l,this.windowRef=u,this.elementRef=c,this.viewportScroller=d,this.tuiScrollbar="vertical";const{nativeElement:h}=this.elementRef,f=we(h,"mousedown"),p=we(this.documentRef,"mousemove"),_=we(this.documentRef,"mouseup");st(we(s.nativeElement,"mousedown").pipe(lp(),J(C=>this.getScrolled(C,.5,.5))),f.pipe(lp(),on(n=>{n.stopPropagation()}),St(C=>{const D=h.getBoundingClientRect(),V=function({clientY:n},{top:e,height:t}){return(n-e)/t}(C,D),j=function({clientX:n},{left:e,width:t}){return(n-e)/t}(C,D);return p.pipe(J(_e=>this.getScrolled(_e,V,j)),rt(_))}))).pipe(rt(r),ga(t)).subscribe(([C,D])=>{const[V,j]=this.viewportScroller.getScrollPosition();this.container?"vertical"===this.tuiScrollbar?i.setProperty(this.container.nativeElement,"scrollTop",C):i.setProperty(this.container.nativeElement,"scrollLeft",D):this.viewportScroller.scrollToPosition(["vertical"===this.tuiScrollbar?V:D,"vertical"===this.tuiScrollbar?C:j])}),st(Ho(this.container?this.container.nativeElement:this.windowRef,"scroll"),o.pipe(_p(wv))).pipe(rt(r),ga(t)).subscribe(()=>{"vertical"===this.tuiScrollbar?(i.setStyle(h,"top",100*this.thumb+"%"),i.setStyle(h,"height",100*this.view+"%")):(i.setStyle(h,"left",100*this.thumb+"%"),i.setStyle(h,"width",100*this.view+"%"))})}get scrolled(){const{scrollTop:t,scrollHeight:i,clientHeight:r,scrollLeft:o,scrollWidth:s,clientWidth:a}=this.computedContainer;return"vertical"===this.tuiScrollbar?t/(i-r):o/(s-a)}get compensation(){const{clientHeight:t,scrollHeight:i,clientWidth:r,scrollWidth:o}=this.computedContainer;return t*t/i>24&&"vertical"===this.tuiScrollbar||r*r/o>24&&"horizontal"===this.tuiScrollbar?0:"vertical"===this.tuiScrollbar?24/t:24/r}get thumb(){return this.scrolled*(1-(this.compensation||this.view))}get view(){const{clientHeight:t,scrollHeight:i,clientWidth:r,scrollWidth:o}=this.computedContainer;return"vertical"===this.tuiScrollbar?Math.ceil(t/i*100)/100:Math.ceil(r/o*100)/100}get computedContainer(){return this.container?this.container.nativeElement:this.documentRef.documentElement}getScrolled({clientY:t,clientX:i},r,o){const{offsetHeight:s,offsetWidth:a}=this.elementRef.nativeElement,{top:l,left:u,width:c,height:d}=this.wrapper.nativeElement.getBoundingClientRect();return[(t-l-s*r)/(d-s)*(this.computedContainer.scrollHeight-d),(i-u-a*o)/(c-a)*(this.computedContainer.scrollWidth-c)]}};return n.\u0275fac=function(t){return new(t||n)(g(ve),g(si),g(ae),g(lr),g(Lv),g(nu,8),g(ge),g(bt),g(I),g(Pf))},n.\u0275dir=L({type:n,selectors:[["","tuiScrollbar",""]],inputs:{tuiScrollbar:"tuiScrollbar"},features:[ee([ae])]}),b([A()],n.prototype,"tuiScrollbar",void 0),n=b([E(0,y(ve)),E(1,y(si)),E(2,y(ae)),E(3,y(lr)),E(4,y(Lv)),E(5,Ke()),E(5,y(nu)),E(6,y(ge)),E(7,y(bt)),E(8,y(I)),E(9,y(Pf))],n),n})(),PA=(()=>{let n=class{constructor(t,i,r,o,s,a){this.options=t,this.ngZone=i,this.documentRef=r,this.scrollRef=o,this.animationFrame$=s,this.mode$=a,this.refresh$=this.animationFrame$.pipe(_p(300),J(()=>this.scrollbars),rn([!1,!1]),ar((l,u)=>l[0]===u[0]&&l[1]===u[1]),ma(this.ngZone)),this.animation=Object.assign({value:""},this.options)}get scrollbars(){const{clientHeight:t,scrollHeight:i,clientWidth:r,scrollWidth:o}=this.scrollRef?this.scrollRef.nativeElement:this.documentRef.documentElement;return[Math.ceil(t/i*100)<100,Math.ceil(r/o*100)<100]}};return n.\u0275fac=function(t){return new(t||n)(g(Cs),g(ve),g(ge),g(nu,8),g(lr),g(jo))},n.\u0275cmp=je({type:n,selectors:[["tui-scroll-controls"]],hostBindings:function(t,i){1&t&&Fe("$.data-mode.attr",function(){return i.mode$})},features:[ee([Ip])],decls:2,vars:3,consts:[[4,"tuiLet"],["tuiScrollbarWrapper","","class","bar bar_vertical",3,"bar_has-horizontal",4,"ngIf"],["tuiScrollbarWrapper","","class","bar bar_horizontal",3,"bar_has-vertical",4,"ngIf"],["tuiScrollbarWrapper","",1,"bar","bar_vertical"],["tuiScrollbar","vertical",1,"thumb"],["tuiScrollbarWrapper","",1,"bar","bar_horizontal"],["tuiScrollbar","horizontal",1,"thumb"]],template:function(t,i){1&t&&($(0,F8,3,2,"ng-container",0),Et(1,"async")),2&t&&M("tuiLet",Ot(1,1,i.refresh$))},directives:function(){return[gp,Rt,V8,N8]},pipes:function(){return[Li]},styles:["[_nghost-%COMP%]{position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;min-width:calc(100% - .0625rem);min-height:calc(100% - .0625rem);float:left;margin-right:calc(-100% + .0625rem);pointer-events:none}.bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto}.bar_vertical[_ngcontent-%COMP%]{top:0;width:.875rem}.bar_horizontal[_ngcontent-%COMP%]{left:0;height:.875rem}.bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.thumb[_ngcontent-%COMP%]{transition-duration:.15s;transition-timing-function:ease-in-out;position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;background:var(--tui-text-01);background-clip:content-box;box-sizing:border-box;transition-property:width,height;opacity:.2}.thumb[_ngcontent-%COMP%]:hover{opacity:.24}.thumb[_ngcontent-%COMP%]:active{opacity:.48}[data-mode=onDark][_nghost-%COMP%]   .thumb[_ngcontent-%COMP%]{background-color:var(--tui-text-01-night)}.bar_vertical[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{right:0;width:.75rem;min-height:1.5rem}.bar_vertical[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]:active, .bar_vertical[_ngcontent-%COMP%]:hover   .thumb[_ngcontent-%COMP%]{width:.875rem}.bar_horizontal[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{bottom:0;height:.75rem;min-width:1.5rem}.bar_horizontal[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]:active, .bar_horizontal[_ngcontent-%COMP%]:hover   .thumb[_ngcontent-%COMP%]{height:.875rem}"],data:{animation:[M0]},changeDetection:0}),n=b([E(0,y(Cs)),E(1,y(ve)),E(2,y(ge)),E(3,Ke()),E(3,y(nu)),E(4,y(lr)),E(5,y(jo))],n),n})(),V8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["","tuiScrollbarWrapper",""]],features:[ee([{provide:Lv,useExisting:I}])]}),n})(),RA=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,rd]]}),n})();function H8(n,e){1&n&&he(0,"tui-scroll-controls")}let FA=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["","tuiScrollable",""]]}),n})();var S0;let pr=S0=class{constructor(e,t,i,r){this.cssRef=e,this.elementRef=t,this.userAgent=i,this.isIos=r,this.hidden=!1,this.isLegacy=!this.cssRef.supports("position","sticky")||function(n){return n.toLowerCase().includes("firefox")}(this.userAgent)&&!this.cssRef.supports("scrollbar-width","none")}get showScrollbars(){return!(this.hidden||this.isIos||this.isLegacy&&!this.scrollable)}get browserScrollRef(){return this.scrollable||this.elementRef}get showNative(){return this.isLegacy&&!this.hidden&&!this.scrollable}scrollIntoView(e){const{detail:t}=e,{nativeElement:i}=this.browserScrollRef;e.stopPropagation();const{offsetTop:r,offsetLeft:o}=function(n,e){Ut.assert(n.contains(e),"Host must contain element");let{offsetTop:t,offsetLeft:i,offsetParent:r}=e;for(;r&&r instanceof HTMLElement&&r!==n;)t+=r.offsetTop,i+=r.offsetLeft,r=r.offsetParent;return{offsetTop:t,offsetLeft:i}}(i,t);i.scrollTop=r+t.offsetHeight/2-i.clientHeight/2,i.scrollLeft=o+t.offsetWidth/2-i.clientWidth/2}};pr.\u0275fac=function(e){return new(e||pr)(g(Dv),g(I),g(ur),g(Ds))},pr.\u0275cmp=je({type:pr,selectors:[["tui-scrollbar"]],contentQueries:function(e,t,i){if(1&e&&Pr(i,FA,5,I),2&e){let r;Bt(r=$t())&&(t.scrollable=r.first)}},hostVars:4,hostBindings:function(e,t){1&e&&Fe("tui-scroll-into-view",function(r){return t.scrollIntoView(r)}),2&e&&vt("_legacy",t.showNative)("_container",t.scrollable)},inputs:{hidden:"hidden"},features:[ee([{provide:nu,deps:[S0],useFactory:function({browserScrollRef:n}){return n}}])],ngContentSelectors:["*"],decls:3,vars:1,consts:[[4,"ngIf"],[1,"content"]],template:function(e,t){1&e&&(yi(),$(0,H8,1,0,"tui-scroll-controls",0),F(1,"div",1),_n(2),N()),2&e&&M("ngIf",t.showScrollbars)},directives:[Rt,PA],styles:["[_nghost-%COMP%]{z-index:0;position:relative;display:flex;overflow:auto}[_nghost-%COMP%]:not(._legacy){scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar, [_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar-thumb{background:0 0;width:0;height:0}._legacy[_nghost-%COMP%]{overflow:overlay}@media all and (-webkit-min-device-pixel-ratio:0) and (min-resolution:0.001dpcm){._legacy[_nghost-%COMP%]::-webkit-scrollbar, ._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{width:1rem;height:1rem;border-radius:6.25rem;background-clip:padding-box;border:6px solid transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar{background-color:transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--tui-clear-hover)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--tui-clear-active)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:active{background-color:var(--tui-text-03)}}._container[_nghost-%COMP%]   tui-scroll-controls[_ngcontent-%COMP%]{position:absolute}.content[_ngcontent-%COMP%]{position:relative;z-index:0;flex:1;flex-basis:auto;width:100%;height:-webkit-max-content;height:-moz-max-content;height:max-content}"],changeDetection:0}),pr.ctorParameters=()=>[{type:void 0,decorators:[{type:y,args:[Dv]}]},{type:I,decorators:[{type:y,args:[I]}]},{type:String,decorators:[{type:y,args:[ur]}]},{type:Boolean,decorators:[{type:y,args:[Ds]}]}],b([A(),U()],pr.prototype,"hidden",void 0),b([pe("class._container"),mh(FA,{read:I})],pr.prototype,"scrollable",void 0),b([pe("class._legacy")],pr.prototype,"showNative",null),b([en(xS,["$event"])],pr.prototype,"scrollIntoView",null),pr=S0=b([E(0,y(Dv)),E(1,y(I)),E(2,y(ur)),E(3,y(Ds))],pr);let j8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,RA]]}),n})();const U8=["content"];let z8=(()=>{let n=class{constructor(t,i,r,o,s,a,l,u){this.directive=r,this.windowRef=o,this.elementRef=s,this.portalHost=a,this.options=l,this.animationTop=Object.assign({value:"fadeInTop"},this.options),this.animationBottom=Object.assign({value:"fadeInBottom"},this.options),this.prevDirectionIsTop=!1,st(u.pipe(_p(wv)),this.directive.refresh$,Ho(this.windowRef,"resize")).pipe(ga(i),rt(t)).subscribe(()=>{this.calculatePositionAndSize()})}get overscroll(){return this.inModal?"all":"scroll"}getContext(t,i){return Object.assign(Object.assign({},t),{activeZone:i})}ngAfterViewChecked(){this.calculatePositionAndSize()}onTopFocus(){this.moveFocusOutside(!0)}onBottomFocus(){this.moveFocusOutside(!1)}get inModal(){return!!function(n,e){const t=Element.prototype.closest;if(t)return t.call(n,e);const i=Element.prototype.matches||Element.prototype.msMatchesSelector;do{if(i.call(n,e))return n;n=n.parentElement}while(null!==n);return null}(this.directive.host,"tui-dialog-host")}calculatePositionAndSize(){const{clientRect:t}=this.directive,{style:i}=this.elementRef.nativeElement,r=this.directive.fixed?this.portalHost.fixedPositionOffset():this.portalHost.clientRect;i.position=this.directive.fixed?"fixed":"absolute",this.calculateVerticalPosition(i,t,r),this.calculateHorizontalPosition(i,t,r),this.calculateWidth(i,t)}getFinalAlign(t,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),o=this.elementRef.nativeElement.offsetWidth,s=function(n){return Math.max(n.documentElement.clientWidth,n.defaultView?n.defaultView.innerWidth:0)}(this.windowRef.document),a=i.left+o<s||i.right-o>0,l=r.right<=s&&r.left>=0;let u=this.directive.align;switch(this.directive.align){case"left":a&&r.right>s&&(u="right");break;case"right":a&&r.left<0&&(u="left")}return"auto"===t.right&&l&&(u="left"),"auto"===t.left&&l&&(u="right"),u}calculateHorizontalPosition(t,i,r){const o=this.directive.sided?this.elementRef.nativeElement.getBoundingClientRect().width+4:0,s=Math.ceil(i.left-r.left-o),a=Math.floor(r.right-i.right-o);switch(this.getFinalAlign(t,i)){case"left":a+4>this.windowRef.innerWidth||JS(s+4,0,this.windowRef.innerWidth)?(t.left=fn(s),t.right="auto"):(t.left="auto",t.right=fn(a));break;case"right":JS(a+4,0,this.windowRef.innerWidth)||s+4>this.windowRef.innerWidth?(t.left="auto",t.right=fn(a)):(t.left=fn(s),t.right="auto")}}calculateVerticalPosition(t,i,r){const o=this.windowRef.innerHeight,s=Math.min(this.directive.maxHeight,o-8),a=this.directive.sided?4-i.height:8,l=i.top-a,u=o-i.bottom-a,c=this.getFinalDirection(i);this.prevDirectionIsTop="top"===c,"top"===c?(this.dropdownAnimation=this.animationBottom,t.maxHeight=fn(Math.min(s,l)),t.top="auto",t.bottom=fn(r.bottom-i.top-4+a)):(this.dropdownAnimation=this.animationTop,t.maxHeight=fn(Math.min(s,u)),t.top=fn(i.bottom-r.top-4+a),t.bottom="auto")}getFinalDirection(t){const i=this.windowRef.innerHeight,r=this.directive.sided?4-t.height:8,o=t.top-r,s=i-t.bottom-r;let a=null;switch(this.directive.direction){case"top":o>=this.directive.minHeight&&(a="top");break;case"bottom":s>=this.directive.minHeight&&(a="bottom")}const l=Math.min(this.directive.maxHeight,i-8);if(null===a&&this.contentElementRef){const u=Math.min(this.contentElementRef.nativeElement.getBoundingClientRect().height+(this.elementRef.nativeElement.offsetHeight-this.elementRef.nativeElement.clientHeight),l);a=this.prevDirectionIsTop&&o>=u?"top":s>=u||s>=o?"bottom":"top"}return a}calculateWidth(t,i){if(t.width="fixed"!==this.directive.limitMinWidth||this.directive.sided?"":fn(i.width),"min"===this.directive.limitMinWidth&&!this.directive.sided)return t.minWidth=fn(i.width),void(t.maxWidth=fn(600));t.minWidth="",t.maxWidth=""}moveFocusOutside(t){const{host:i}=this.directive,{ownerDocument:r}=i,o=r?r.body:i;let s=Jl(i,t,o);for(;null!==s&&i.contains(s);)s=Jl(s,t,o);null!==s&&Di(s)}};return n.\u0275fac=function(t){return new(t||n)(g(ae),g(ve),g(kv),g(bt),g(I),g(Br),g(Cs),g(lr))},n.\u0275cmp=je({type:n,selectors:[["tui-dropdown-box"]],viewQuery:function(t,i){if(1&t&&(Ni(Ft,5),Ni(U8,5,I)),2&t){let r;Bt(r=$t())&&(i.activeZone=r.first),Bt(r=$t())&&(i.contentElementRef=r.first)}},hostVars:1,hostBindings:function(t,i){2&t&&Uh("@tuiDropdownAnimation",i.dropdownAnimation)},features:[ee([ae])],decls:6,vars:5,consts:[[1,"wrapper",3,"tuiOverscroll","tuiMode","tuiActiveZoneParent"],[1,"scroll"],["tabindex","0",3,"focus"],["polymorpheus-outlet","",1,"content",3,"content","context"],["content",""]],template:function(t,i){1&t&&(F(0,"div",0),F(1,"tui-scrollbar",1),F(2,"div",2),Fe("focus",function(){return i.onTopFocus()}),N(),he(3,"div",3,4),F(5,"div",2),Fe("focus",function(){return i.onBottomFocus()}),N(),N(),N()),2&t&&(M("tuiOverscroll",i.overscroll)("tuiMode",null)("tuiActiveZoneParent",i.directive.activeZone),B(3),M("content",i.directive.content)("context",i.getContext(i.directive.context,i.activeZone)))},directives:[mx,C0,Ft,pr,Kn],styles:["[_nghost-%COMP%]{z-index:0;box-shadow:0 .5rem 1rem rgba(51,51,51,.2);position:absolute;top:0;left:0;display:flex;background-color:#fff;background-color:var(--tui-base-01);border-radius:var(--tui-radius-m);overflow:hidden;border:1px solid var(--tui-base-03);box-sizing:border-box}.ng-animating[_nghost-%COMP%]{pointer-events:none}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%}.wrapper[_ngcontent-%COMP%]{flex-grow:1;max-width:100%;max-height:inherit;overflow:visible}.scroll[_ngcontent-%COMP%]{height:100%}"],data:{animation:[o8]}}),b([pe("@tuiDropdownAnimation")],n.prototype,"dropdownAnimation",void 0),b([no(Ft)],n.prototype,"activeZone",void 0),b([no("content",{read:I})],n.prototype,"contentElementRef",void 0),b([ui],n.prototype,"getContext",null),b([ui],n.prototype,"inModal",null),n=b([E(0,y(ae)),E(1,y(ve)),E(2,y(kv)),E(3,y(bt)),E(4,y(I)),E(5,y(Br)),E(6,y(Cs)),E(7,y(lr))],n),n})(),G8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[E0,dr,_x,j8,MA]]}),n})(),W8=(()=>{let n=class{constructor(t,i,r,o,s){this.componentFactoryResolver=t,this.injector=i,this.portalService=r,this.elementRef=o,this.activeZone=s,this.content="",this.tuiDropdownHost=null,this.minHeight=80,this.maxHeight=400,this.align="left",this.direction=null,this.sided=!1,this.limitMinWidth="min",this.dropdownBoxRef=null}ngOnDestroy(){this.closeDropdownBox()}ngAfterViewChecked(){null!==this.dropdownBoxRef&&(this.dropdownBoxRef.changeDetectorRef.detectChanges(),this.dropdownBoxRef.changeDetectorRef.markForCheck())}get clientRect(){return this.elementRef.nativeElement.getBoundingClientRect()}get host(){return this.tuiDropdownHost||this.elementRef.nativeElement}get fixed(){return TA(this.elementRef.nativeElement)}openDropdownBox(){if(null!==this.dropdownBoxRef)return;const t=this.componentFactoryResolver.resolveComponentFactory(z8);this.dropdownBoxRef=this.portalService.add(t,this.injector),this.dropdownBoxRef.changeDetectorRef.detectChanges()}closeDropdownBox(){null!==this.dropdownBoxRef&&(this.portalService.remove(this.dropdownBoxRef),this.dropdownBoxRef=null)}};return n.\u0275fac=function(t){return new(t||n)(g(er),g(ze),g(Uo),g(I),g(Ft))},n.\u0275dir=L({type:n,inputs:{content:["tuiDropdownContent","content"],tuiDropdownHost:"tuiDropdownHost",minHeight:["tuiDropdownMinHeight","minHeight"],maxHeight:["tuiDropdownMaxHeight","maxHeight"],align:["tuiDropdownAlign","align"],direction:["tuiDropdownDirection","direction"],sided:["tuiDropdownSided","sided"],limitMinWidth:["tuiDropdownLimitWidth","limitMinWidth"]}}),b([A("tuiDropdownContent"),U()],n.prototype,"content",void 0),b([A("tuiDropdownHost"),U()],n.prototype,"tuiDropdownHost",void 0),b([A("tuiDropdownMinHeight"),U()],n.prototype,"minHeight",void 0),b([A("tuiDropdownMaxHeight"),U()],n.prototype,"maxHeight",void 0),b([A("tuiDropdownAlign"),U()],n.prototype,"align",void 0),b([A("tuiDropdownDirection"),U()],n.prototype,"direction",void 0),b([A("tuiDropdownSided"),U()],n.prototype,"sided",void 0),b([A("tuiDropdownLimitWidth"),U()],n.prototype,"limitMinWidth",void 0),b([ui],n.prototype,"fixed",null),n})(),NA=(()=>{let n=class{constructor(t,i){this.elementRef=t,this.hintService=i,this.mode=null,this.direction="bottom-left",this.content=""}ngOnDestroy(){this.hideTooltip()}showTooltip(){this.hintService.add(this)}hideTooltip(){this.hintService.remove(this)}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(Wo))},n.\u0275dir=L({type:n,inputs:{mode:["tuiHintMode","mode"],direction:["tuiHintDirection","direction"]}}),b([A("tuiHintMode"),U()],n.prototype,"mode",void 0),b([A("tuiHintDirection"),U()],n.prototype,"direction",void 0),n})();const x0=new P("Accessible tooltip visibility stream"),K8=[ae,_a,{provide:x0,deps:[_a,I],useFactory:function(n,{nativeElement:e}){return st(n.pipe(ut(t=>t),Yl(Zl(1e3).pipe(Vr(!0),rt(we(e,"keydown")))),Yl(we(e,"keydown").pipe(ut(({key:t})=>"Escape"===t),Wn(1),on(t=>{t.stopPropagation()}),Vr(!1),rn(!0)))),we(e,"blur").pipe(Vr(!1))).pipe(ar())}}],kA="_described-by";let Z8=(()=>{let n=class{constructor(t,i){this.tuiDescribedBy="",i.subscribe(r=>{!this.tuiDescribedBy||(r?t.showHintForId(this.tuiDescribedBy):t.hideHintForId(this.tuiDescribedBy))})}get computedDescribedBy(){return this.tuiDescribedBy?this.tuiDescribedBy+kA:null}};return n.\u0275fac=function(t){return new(t||n)(g(Wo),g(x0))},n.\u0275dir=L({type:n,selectors:[["","tuiDescribedBy","",5,"ng-container"]],hostVars:1,hostBindings:function(t,i){2&t&&yt("aria-describedby",i.computedDescribedBy)},inputs:{tuiDescribedBy:"tuiDescribedBy"},features:[ee(K8)]}),b([A(),U()],n.prototype,"tuiDescribedBy",void 0),b([pe("attr.aria-describedby")],n.prototype,"computedDescribedBy",null),n=b([E(0,y(Wo)),E(1,y(x0))],n),n})(),Y8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const LA="_hint_hovered";let VA=(()=>{let n=class extends NA{constructor(t,i,r,o,s,a){super(i,r),this.renderer=t,this.componentHovered$=new Nt,this.tuiHintShowDelay=500,this.tuiHintHideDelay=200,this.tuiHintHost=null,zv(a.createHovered$(i.nativeElement),this.componentHovered$.pipe(rn(!1))).pipe(J(([l,u])=>l||u),St(l=>(this.toggleClass(l),ce(l).pipe(Gv(l?this.tuiHintShowDelay:this.tuiHintHideDelay)))),St(l=>l&&"overflow"!==this.mode?s.pipe(J(u=>!u),Wn(2)):ce(l)),ar(),rt(o)).subscribe(l=>{l?this.showTooltip():this.hideTooltip()}),this.hintService.register(this)}set tuiHint(t){if(!t)return this.hideTooltip(),void(this.content="");this.content=t}get id(){return this.tuiHintId?this.tuiHintId+kA:null}get host(){return this.tuiHintHost?this.tuiHintHost:this.elementRef.nativeElement}getElementClientRect(){return this.host.getBoundingClientRect()}ngOnDestroy(){this.hintService.unregister(this)}showTooltip(){""!==this.content&&(this.toggleClass(!0),this.hintService.add(this))}hideTooltip(){this.toggleClass(!1),this.hintService.remove(this)}toggleClass(t){t?this.renderer.addClass(this.elementRef.nativeElement,LA):this.renderer.removeClass(this.elementRef.nativeElement,LA)}};return n.\u0275fac=function(t){return new(t||n)(g(si),g(I),g(Wo),g(ae),g(iu,2),g(vo))},n.\u0275dir=L({type:n,selectors:[["","tuiHint","",5,"ng-container"]],inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay",tuiHintHost:"tuiHintHost",tuiHint:"tuiHint",tuiHintId:"tuiHintId"},features:[ee([iu,Go,ae]),ye]}),b([A()],n.prototype,"tuiHintId",void 0),b([A(),U()],n.prototype,"tuiHintShowDelay",void 0),b([A(),U()],n.prototype,"tuiHintHideDelay",void 0),b([A(),U()],n.prototype,"tuiHintHost",void 0),b([A(),ou()],n.prototype,"tuiHint",null),n=b([E(0,y(si)),E(1,y(I)),E(2,y(Wo)),E(3,y(ae)),E(4,y(iu)),E(4,Cr()),E(5,y(vo))],n),n})(),J8=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})(),HA=(()=>{let n=class{constructor({nativeElement:t},i){this.tuiHoveredChange=i.createHovered$(t)}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(vo))},n.\u0275dir=L({type:n,selectors:[["","tuiHoveredChange",""]],outputs:{tuiHoveredChange:"tuiHoveredChange"}}),ie([Rn()],n.prototype,"tuiHoveredChange",void 0),n=ie([re(0,y(I)),re(1,y(vo))],n),n})(),BA=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})(),X8=(()=>{let n=class extends NA{constructor(t,i,r,o){super(t,i),this.destroy$=r,this.tuiHintShowDelay=0,this.tuiHintHideDelay=0,this.content="",this.currentMouseRect=this.mousePositionToClientRect(),o.createHovered$(this.elementRef.nativeElement).pipe(ut(()=>!!this.content),rn(!1),ar()).pipe(St(a=>ce(a).pipe(Gv(a?this.tuiHintShowDelay:this.tuiHintHideDelay))),rt(r)).subscribe({next:a=>{a?this.showTooltip():this.hideTooltip()},complete:()=>{this.hideTooltip()}}),this.initMouseMoveSubscription()}set tuiPointerHint(t){if(!t)return this.hideTooltip(),void(this.content="");this.content=t}getElementClientRect(){return this.currentMouseRect}initMouseMoveSubscription(){we(this.elementRef.nativeElement,"mousemove").pipe(rt(this.destroy$)).subscribe(({clientX:i,clientY:r})=>{this.currentMouseRect=this.mousePositionToClientRect(i,r)})}mousePositionToClientRect(t=0,i=0){return{left:t,right:t,top:i,bottom:i,width:0,height:0}}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(Wo),g(ae),g(vo))},n.\u0275dir=L({type:n,selectors:[["","tuiPointerHint","",5,"ng-container"]],inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay",tuiPointerHint:"tuiPointerHint"},features:[ee([ae]),ye]}),b([A(),U()],n.prototype,"tuiHintShowDelay",void 0),b([A(),U()],n.prototype,"tuiHintHideDelay",void 0),b([A(),ou()],n.prototype,"tuiPointerHint",null),n=b([E(0,y(I)),E(1,y(Wo)),E(2,y(ae)),E(3,y(vo))],n),n})();function eG(n,e){if(1&n&&(F(0,"span",3),Qe(1),N()),2&n){const t=e.$implicit;B(1),ds(t)}}function tG(n,e){if(1&n){const t=fo();F(0,"tui-hint-box",1),Fe("tuiHoveredChange",function(r){const s=Zi(t).$implicit;return W().onHovered(r,s)}),F(1,"div",2),$(2,eG,2,1,"ng-template"),N(),N()}if(2&n){const t=e.$implicit;M("@tuiFadeIn",W().animation)("hint",t),yt("id",t.id),B(1),M("content",t.content)}}const nG=["arrow"],iG=["hint",""];function rG(n,e){1&n&&he(0,"div",2,3)}const oG=["*"];let A0=(()=>{let n=class{constructor(t,i,r){this.options=t,this.elementRef=i,this.hints$=r,this.animation=Object.assign({value:""},this.options)}get clientRect(){return this.elementRef.nativeElement.getBoundingClientRect()}onHovered(t,i){i instanceof VA&&i.componentHovered$.next(t)}};return n.\u0275fac=function(t){return new(t||n)(g(Cs),g(I),g(Wo))},n.\u0275cmp=je({type:n,selectors:[["tui-hints-host"]],hostAttrs:["aria-live","polite"],decls:2,vars:3,consts:[["role","tooltip",3,"hint","tuiHoveredChange",4,"ngFor","ngForOf"],["role","tooltip",3,"hint","tuiHoveredChange"],["polymorpheus-outlet","",3,"content"],[1,"text"]],template:function(t,i){1&t&&($(0,tG,3,4,"tui-hint-box",0),Et(1,"async")),2&t&&M("ngForOf",Ot(1,1,i.hints$))},directives:function(){return[ms,uG,HA,Kn]},pipes:function(){return[Li]},styles:["[_nghost-%COMP%]{position:fixed;bottom:0;left:0;width:100%;height:0}.text[_ngcontent-%COMP%]{white-space:pre-wrap}"],data:{animation:[M0]},changeDetection:0}),n=b([E(0,y(Cs)),E(1,y(I)),E(2,y(Wo))],n),n})();const P0=16+8*Math.sqrt(2)/2,aG={"top-left":"bottom-left","top-right":"bottom-right","bottom-left":"top-left","bottom-right":"top-right",left:"right",right:"left"},lG={"top-left":"top-right","top-right":"top-left","bottom-left":"bottom-right","bottom-right":"bottom-left",left:"right",right:"left"};let uG=(()=>{let n=class{constructor(t,i,r,o,s,a,l){this.elementRef=o,this.windowRef=s,this.isMobile=a,this.hintsHost=l,t.pipe(ga(r),rt(i)).subscribe(()=>{this.calculatePosition()})}get isUntouchable(){return this.hint instanceof X8}get mode(){return this.hint.mode}calculatePosition(){"overflow"!==this.mode?this.calculateCoordinates():this.setOverflowStyles()}calculateCoordinates(){if(this.isMobile)return void this.calculateMobileCoordinates();const t=this.hint.getElementClientRect(),i=this.hintsHost.clientRect,r=this.elementRef.nativeElement,{style:o}=r,s=r.getBoundingClientRect(),a=t.width>2*P0,l=["left","right","bottom-left","bottom-right","top-left","top-right"];let u=0,c=0,{direction:d}=this.hint;const h=t.top+t.height/2-s.height/2-i.top,f=t.left-s.width-8-i.left,p=t.left+t.width+8-i.left,_=t.bottom+8-i.top,m=t.top-s.height-8-i.top,C=a?t.left-i.left:t.left+t.width/2-P0-i.left,D=a?t.left-s.width+t.width-i.left:t.left-s.width+t.width/2+P0-i.left;for(l.splice(l.indexOf(d),1);;){switch(d){case"left":u=h,c=f;break;case"right":u=h,c=p;break;case"top-right":u=m,c=C;break;case"top-left":u=m,c=D;break;case"bottom-right":u=_,c=C;break;case"bottom-left":u=_,c=D}const V=u+i.top>8&&u+s.height+8+i.top<this.windowRef.innerHeight,j=c>8&&c+s.width+8+i.left<i.width;if(0===l.length||V&&j)break;d=V?lG[d]:aG[d],d=l.splice(l.indexOf(d),1)[0]||d}o.top=fn(u),o.left=fn(c),r.setAttribute("data-tui-host-direction",d)}calculateMobileCoordinates(){const t=this.hint.getElementClientRect(),i=this.hintsHost.clientRect,r=this.elementRef.nativeElement,{style:o}=r,s=r.getBoundingClientRect(),a=t.top-s.height-8-i.top,l=t.bottom+8-i.top,u=a+i.top>8&&t.top<this.windowRef.innerHeight,c=t.bottom>0&&t.bottom+16+s.height<this.windowRef.innerHeight,d=this.hint.direction.includes("top")&&u||!c?"top":"bottom",h=i.left+t.left+t.width/2-s.width/2,f=Math.max(h+s.width+8>i.right?i.right-8-s.width:h,16);o.left=fn(f),o.top=fn("top"===d?a:l),this.arrow&&(this.arrow.nativeElement.style.left=fn(t.left<=16&&t.width>32?16:t.left+t.width/2-f-4)),r.setAttribute("data-tui-host-direction",d)}setOverflowStyles(){const t=this.hint.getElementClientRect(),{style:i}=this.elementRef.nativeElement;i.top=fn(t.top-window.innerHeight-12-1),i.left=fn(t.left-16-1),i.width=fn(t.width+32+2)}};return n.\u0275fac=function(t){return new(t||n)(g(lr),g(ae),g(ve),g(I),g(bt),g(Hr),g(A0))},n.\u0275cmp=je({type:n,selectors:[["tui-hint-box","hint",""]],viewQuery:function(t,i){if(1&t&&Ni(nG,5),2&t){let r;Bt(r=$t())&&(i.arrow=r.first)}},hostVars:3,hostBindings:function(t,i){2&t&&(yt("data-mode",i.mode),vt("_untouchable",i.isUntouchable))},inputs:{hint:"hint"},features:[ee([ae])],attrs:iG,ngContentSelectors:oG,decls:3,vars:1,consts:[["class","arrow",4,"ngIf"],["automation-id","tui-hint-box__tooltip",1,"tooltip"],[1,"arrow"],["arrow",""]],template:function(t,i){1&t&&(yi(),$(0,rG,2,0,"div",0),F(1,"div",1),_n(2),N()),2&t&&M("ngIf",i.isMobile)},directives:[Rt],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;max-width:18rem;min-height:var(--tui-height-m);padding:.75rem 1rem;background:var(--tui-primary);border-radius:var(--tui-radius-l);color:var(--tui-primary-text);box-sizing:border-box}[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], [_nghost-%COMP%]:not([data-mode=overflow]):before{content:'';position:absolute;width:.5rem;height:.5rem;border-radius:.125rem;box-sizing:border-box;background-color:inherit;transform:rotate(45deg)}[data-tui-host-direction=top][_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{bottom:-.25rem}[data-tui-host-direction=bottom][_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{top:-.25rem}[data-tui-host-direction=bottom][_nghost-%COMP%]:before, [data-tui-host-direction=top][_nghost-%COMP%]:before{display:none}[data-tui-host-direction=top-left][_nghost-%COMP%]:before, [data-tui-host-direction=top-right][_nghost-%COMP%]:before{bottom:-.25rem}[data-tui-host-direction=bottom-left][_nghost-%COMP%]:before, [data-tui-host-direction=bottom-right][_nghost-%COMP%]:before{top:-.25rem}[data-tui-host-direction=bottom-left][_nghost-%COMP%]:before, [data-tui-host-direction=top-left][_nghost-%COMP%]:before{right:1.075rem}[data-tui-host-direction=bottom-right][_nghost-%COMP%]:before, [data-tui-host-direction=top-right][_nghost-%COMP%]:before{left:1.075rem}[data-tui-host-direction=left][_nghost-%COMP%]:before, [data-tui-host-direction=right][_nghost-%COMP%]:before{top:50%;margin-top:-.25rem}[data-tui-host-direction=left][_nghost-%COMP%]:before{right:-.25rem}[data-tui-host-direction=right][_nghost-%COMP%]:before{left:-.25rem}[data-mode=error][_nghost-%COMP%]{background-color:var(--tui-error-fill)}[data-mode=onDark][_nghost-%COMP%], [data-mode=overflow][_nghost-%COMP%]{box-shadow:0 .5rem 1rem rgba(51,51,51,.2);border:1px solid var(--tui-base-03);background-color:var(--tui-base-01);color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]:before, [data-mode=overflow][_nghost-%COMP%]:before{border:1px solid var(--tui-base-03)}[data-mode=onDark][data-tui-host-direction=left][_nghost-%COMP%]:before, [data-mode=overflow][data-tui-host-direction=left][_nghost-%COMP%]:before{border-left-color:transparent;border-bottom-color:transparent}[data-mode=onDark][data-tui-host-direction=right][_nghost-%COMP%]:before, [data-mode=overflow][data-tui-host-direction=right][_nghost-%COMP%]:before{border-right-color:transparent;border-top-color:transparent}[data-mode=onDark][data-tui-host-direction=top-left][_nghost-%COMP%]:before, [data-mode=onDark][data-tui-host-direction=top-right][_nghost-%COMP%]:before, [data-mode=overflow][data-tui-host-direction=top-left][_nghost-%COMP%]:before, [data-mode=overflow][data-tui-host-direction=top-right][_nghost-%COMP%]:before{border-left-color:transparent;border-top-color:transparent}[data-mode=onDark][data-tui-host-direction=bottom-left][_nghost-%COMP%]:before, [data-mode=onDark][data-tui-host-direction=bottom-right][_nghost-%COMP%]:before, [data-mode=overflow][data-tui-host-direction=bottom-left][_nghost-%COMP%]:before, [data-mode=overflow][data-tui-host-direction=bottom-right][_nghost-%COMP%]:before{border-right-color:transparent;border-bottom-color:transparent}[data-mode=overflow][_nghost-%COMP%]{max-width:none}._untouchable[_nghost-%COMP%]{pointer-events:none}.tooltip[_ngcontent-%COMP%]{font:var(--tui-font-text-s);word-wrap:break-word}[data-mode=overflow][_nghost-%COMP%]   .tooltip[_ngcontent-%COMP%]{font:inherit}"],changeDetection:0}),b([A()],n.prototype,"hint",void 0),b([no("arrow")],n.prototype,"arrow",void 0),b([ui,pe("class._untouchable")],n.prototype,"isUntouchable",null),b([pe("attr.data-mode")],n.prototype,"mode",null),n=b([E(0,y(lr)),E(1,y(ae)),E(2,y(ve)),E(3,y(I)),E(4,y(bt)),E(5,y(Hr)),E(6,y(A0))],n),n})(),cG=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt]]}),n})(),dG=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,dr,BA,cG]]}),n})();function fG(n,e){1&n&&(xo(),he(0,"defs",4)),2&n&&M("innerHTML",e.$implicit,Mh)}function pG(n,e){if(1&n&&(xo(),co(0),$(1,fG,1,1,"defs",3),ho()),2&n){const t=W();B(1),M("ngForOf",t.items)}}function gG(n,e){if(1&n&&(xo(),F(0,"defs"),he(1,"svg",6),N()),2&n){const t=e.$implicit;B(1),M("outerHTML",t,Mh)}}function mG(n,e){1&n&&(xo(),$(0,gG,2,1,"defs",5)),2&n&&M("ngForOf",W().items)}let _G=(()=>{let n=class{constructor(t,i,r,o,s){this.svgService=i,this.changeDetectorRef=r,this.destroy$=o,this.isBrowser=!0,this.isBrowser=!function(n){return"server"===n}(s),function(n){if(void 0!==n.createElementNS("http://www.w3.org/2000/svg","svg").innerHTML)return;const t=new XMLSerializer,i=new DOMParser;Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){const r=[];let o=this.firstChild;for(;o;)r.push(t.serializeToString(o)),o=o.nextSibling;return r.join("")},set:function(r){for(;this.firstChild;)this.removeChild(this.firstChild);try{const o=i.parseFromString(r,"image/svg+xml").documentElement;this.ownerDocument&&this.appendChild(this.ownerDocument.importNode(o,!0))}catch{throw new Error("Error parsing XML string")}}})}(t)}ngOnInit(){this.svgService.items$.pipe(rt(this.destroy$)).subscribe(t=>{this.items=t.values(),this.changeDetectorRef.detectChanges()})}};return n.\u0275fac=function(t){return new(t||n)(g(ge),g(Ap),g(Vt),g(ae),g($c))},n.\u0275cmp=je({type:n,selectors:[["tui-svg-defs-host"]],features:[ee([ae])],decls:4,vars:2,consts:[["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[4,"ngIf","ngIfElse"],["server",""],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[3,"outerHTML"]],template:function(t,i){if(1&t&&(xo(),F(0,"svg",0),$(1,pG,2,1,"ng-container",1),$(2,mG,1,1,"ng-template",null,2,ki),N()),2&t){const r=mn(3);B(1),M("ngIf",i.isBrowser)("ngIfElse",r)}},directives:[Rt,ms],styles:["[_nghost-%COMP%]{display:none}"],changeDetection:0}),n=b([E(0,y(ge)),E(1,y(Ap)),E(2,y(Vt)),E(3,y(ae)),E(4,y($c))],n),n})(),yG=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,rd]]}),n})();function vG(n,e){1&n&&he(0,"tui-scroll-controls",4)}function bG(n,e){1&n&&he(0,"tui-dialog-host")}function wG(n,e){1&n&&mc(0,5),2&n&&M("ngComponentOutlet",W().notificationsHost)}const DG=["*",[["tuiOverDialogs"]],[["tuiOverNotifications"]],[["tuiOverPortals"]],[["tuiOverHints"]]],CG=["*","tuiOverDialogs","tuiOverNotifications","tuiOverPortals","tuiOverHints"];let TG=(()=>{let n=class{constructor(t,i,r,o,s,a,l){this.duration=t,this.elementRef=i,this.dialogs=r,this.notificationsHost=o,this.isMobile=s,this.scrollbars$=this.dialogs&&!this.isMobile?st(...this.dialogs).pipe(J(({length:u})=>!u)):ce(!this.isMobile),Ut.enabled=l,Ut.assert(!(a[0]instanceof IA),"PlatformBrowser or PlatformServer modules must come before TuiRootModule in your main module")}};return n.\u0275fac=function(t){return new(t||n)(g(nd),g(I),g(td,8),g(Op,8),g(Hr),g(Vi),g(ix))},n.\u0275cmp=je({type:n,selectors:[["tui-root"]],hostAttrs:["data-tui-version","2.17.0"],hostVars:2,hostBindings:function(t,i){2&t&&Ol("--tui-duration",i.duration+"ms")},ngContentSelectors:CG,decls:13,vars:5,consts:[["class","scrollbar",4,"ngIf"],[1,"content"],[4,"ngIf"],[3,"ngComponentOutlet",4,"ngIf"],[1,"scrollbar"],[3,"ngComponentOutlet"]],template:function(t,i){1&t&&(yi(DG),$(0,vG,1,0,"tui-scroll-controls",0),Et(1,"async"),he(2,"tui-svg-defs-host"),F(3,"tui-portal-host"),F(4,"div",1),_n(5),N(),$(6,bG,1,0,"tui-dialog-host",2),_n(7,1),$(8,wG,1,1,"ng-container",3),_n(9,2),N(),_n(10,3),he(11,"tui-hints-host"),_n(12,4)),2&t&&(M("ngIf",Ot(1,3,i.scrollbars$)),B(6),M("ngIf",i.dialogs&&i.dialogs.length),B(2),M("ngIf",i.notificationsHost))},directives:[Rt,_G,Br,A0,PA,v6,Of],pipes:[Li],styles:["[_nghost-%COMP%]{position:relative;display:block;flex:1}.scrollbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;margin:0}.content[_ngcontent-%COMP%]{position:relative;z-index:0;height:100%}"],changeDetection:0}),n=b([E(0,y(nd)),E(1,y(I)),E(2,Ke()),E(2,y(td)),E(3,Ke()),E(3,y(Op)),E(4,y(Hr)),E(5,y(Vi)),E(6,y(ix))],n),n})(),MG=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:[x8],imports:[[lt,Vz,Uz,yG,dG,b6,RA]]}),n})(),UA=(()=>{let n=class{constructor({nativeElement:t},i,r,o){Ho(t,o,{passive:!1}).pipe(ga(i),lp(),rt(r)).subscribe()}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(ve),g(ae),qs("tuiPreventDefault"))},n.\u0275dir=L({type:n,selectors:[["","tuiPreventDefault",""]],features:[ee([ae])]}),n=ie([re(0,y(I)),re(1,y(ve)),re(2,y(ae)),re(3,Zg("tuiPreventDefault"))],n),n})(),zA=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function EG(n,e){if(1&n&&he(0,"header",5),2&n){const t=W();M("content",t.header)("context",t.context)}}function SG(n,e){if(1&n){const t=fo();Qe(0),F(1,"div",6),F(2,"button",7),Fe("click",function(){return Zi(t),W().context.$implicit.complete()}),Qe(3," OK "),N(),N()}2&n&&ri(" ",e.$implicit," ")}function xG(n,e){if(1&n){const t=fo();F(0,"div",8),F(1,"button",9),Fe("click",function(){return Zi(t),W().close()}),Et(2,"async"),N(),N()}if(2&n){const t=W();B(1),M("title",Ot(2,1,t.closeWord$))}}const AG=new P("A stream to close dialogs",{factory:()=>cr}),R0=new P("Dialogs closing stream"),PG=[ae,{provide:R0,deps:[ge,bt,I,AG,ae,ru],useFactory:function(n,e,{nativeElement:t},i,r,{dismissible:o}){return o?st(we(t,"click").pipe(ut(wz)),we(n,"keydown").pipe(ut(({key:s,target:a})=>"Escape"===s&&a instanceof Element&&(!cp(t,a)||t.contains(a)))),we(n,"mousedown").pipe(ut(({target:s,clientX:a})=>s instanceof Element&&e.innerWidth-a>17&&!cp(t,s)),Yl(we(n,"mouseup").pipe(Wn(1),ut(({target:s})=>s instanceof Element&&!cp(t,s))))),i).pipe(rt(r)):i}}],RG=new Error("Required dialog was dismissed");let FG=(()=>{let n=class{constructor(t,i,r,o,s){this.duration=t,this.isMobile=i,this.context=r,this.closeWord$=s,this.animation={value:"",params:{start:"40px",duration:this.duration}},this.fullscreenAnimation={value:"",params:{start:"100vh",duration:this.duration}},o.subscribe(()=>{this.close()})}get size(){return this.context.size}get header(){return this.context.header}get h(){if(this.isMobile)return"h5";switch(this.size){case"s":return"h5";case"m":return"h4";default:return"h3"}}get slideInTop(){return"fullscreen"===this.size||"page"===this.size||this.isMobile?this.fullscreenAnimation:this.animation}close(){this.context.required?this.context.$implicit.error(RG):this.context.$implicit.complete()}};return n.\u0275fac=function(t){return new(t||n)(g(nd),g(Hr),g(ru),g(R0),g(hp))},n.\u0275cmp=je({type:n,selectors:[["tui-dialog"]],hostVars:5,hostBindings:function(t,i){2&t&&(yt("data-size",i.size),Uh("@tuiSlideInTop",i.slideInTop)("@tuiFadeIn",i.slideInTop),vt("_centered",i.header))},features:[ee(PG)],decls:7,vars:9,consts:[["polymorpheus-outlet","","class","header",3,"content","context",4,"ngIf"],[1,"content"],[3,"id"],["polymorpheus-outlet","",3,"context","content"],["class","wrapper",4,"ngIf"],["polymorpheus-outlet","",1,"header",3,"content","context"],[1,"buttons"],["tuiButton","","size","m",3,"click"],[1,"wrapper"],["tuiIconButton","","tuiPreventDefault","mousedown","automation-id","tui-dialog__close","size","s","appearance","","icon","tuiIconCloseLarge","shape","rounded",1,"close",3,"title","click"]],template:function(t,i){1&t&&($(0,EG,1,2,"header",0),F(1,"div",1),F(2,"h2",2),Qe(3),N(),F(4,"section",3),$(5,SG,4,1,"ng-template"),N(),N(),$(6,xG,3,3,"div",4)),2&t&&(M("ngIf",i.header),B(2),function(n,e,t){Ar(Oi,po,wl(k(),n,e,t),!0)}("heading tui-text_",i.h,""),M("id",i.context.id),B(1),ds(i.context.label),B(1),M("context",i.context)("content",i.context.content),B(2),M("ngIf",i.context.closeable))},directives:[Rt,Kn,Zt,UA],pipes:[Li],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-m);position:relative;display:flex;flex-direction:column;box-sizing:border-box;margin:auto;border-radius:1rem;border:40px solid transparent}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;box-shadow:0 1.125rem 1.875rem rgba(51,51,51,.52);content:'';border-radius:inherit;pointer-events:none}[data-size='s'][_nghost-%COMP%]{width:30rem}[data-size='s'][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:1.5rem}[data-size='s'][_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:.5rem}[data-size='m'][_nghost-%COMP%]{width:42.5rem}[data-size='m'][_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:.75rem}[data-size='l'][_nghost-%COMP%]{width:55rem}[data-size='l'][_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:1rem}[data-size=fullscreen][_nghost-%COMP%], [data-size=page][_nghost-%COMP%]{width:100vw;min-height:100vh;border-radius:0;border:none;background:var(--tui-base-01)}[data-size=fullscreen][_nghost-%COMP%]   .content[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:3rem calc(50vw - 45rem / 2)}[data-size=fullscreen][_nghost-%COMP%]   .heading[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:1rem}[data-size=page][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0}._centered[_nghost-%COMP%]{text-align:center}@media screen and (max-width:47.9375em){[data-size][_nghost-%COMP%]{min-width:100vw;width:100vw;max-width:100vw;border-radius:0;border:none;margin:auto 0 0}[data-size][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:2rem 1.5rem}[data-size][_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{margin-bottom:.5rem}[data-size=fullscreen][_nghost-%COMP%]   .header[_ngcontent-%COMP%]{flex:1}}.heading[_ngcontent-%COMP%]{margin:0;word-wrap:break-word}.heading[_ngcontent-%COMP%]:empty{display:none}.header[_ngcontent-%COMP%]{display:flex;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden}.content[_ngcontent-%COMP%]{border-radius:inherit;padding:2rem;background:var(--tui-base-01)}.content[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.wrapper[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;order:-1}.close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;position:fixed;top:1.5rem;right:1.5rem;color:var(--tui-base-01);background:rgba(104,104,104,.96)}.close[_ngcontent-%COMP%]:hover{background:rgba(159,159,159,.86)}[_nghost-%COMP%]:not([data-size=fullscreen])   .close[_ngcontent-%COMP%]{-webkit-animation:tuiFadeIn var(--tui-duration);animation:tuiFadeIn var(--tui-duration)}[_nghost-%COMP%]:not([data-size=fullscreen]).ng-animating   .close[_ngcontent-%COMP%]{display:none}@media screen and (max-width:47.9375em){.close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:0 0;color:var(--tui-base-06)}.close[_ngcontent-%COMP%]:hover{color:var(--tui-base-07)}}.buttons[_ngcontent-%COMP%]{margin-top:1.25rem;text-align:right}"],data:{animation:[a8,M0]},changeDetection:0}),b([pe("attr.data-size")],n.prototype,"size",null),b([pe("class._centered")],n.prototype,"header",null),b([pe("@tuiSlideInTop"),pe("@tuiFadeIn")],n.prototype,"slideInTop",null),n=b([E(0,y(nd)),E(1,y(Hr)),E(2,y(ru)),E(3,y(R0)),E(4,y(hp))],n),n})();const NG=new yp(FG),kG={size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:""};let LG=(()=>{let n=class extends b4{constructor(){super(...arguments),this.component=NG,this.defaultOptions=kG}};return n.\u0275fac=function(){let e;return function(i){return(e||(e=Xe(n)))(i||n)}}(),n.\u0275prov=K({factory:function(){return new n(O(zo))},token:n,providedIn:"root"}),n})(),VG=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:[{provide:td,useExisting:LG,multi:!0}],imports:[[dr,hd,lt,zA]]}),n})(),HG=(()=>{let n=class extends D4{constructor(t){super(t)}};return n.\u0275fac=function(t){return new(t||n)(g(ge))},n.\u0275cmp=je({type:n,selectors:[["tui-theme-night"]],features:[ye],decls:0,vars:0,template:function(t,i){},styles:[":root{--tui-base-01:#222;--tui-base-02:#333;--tui-base-03:#808080;--tui-base-04:#959595;--tui-base-05:#b0b0b0;--tui-base-06:#d7d7d7;--tui-base-07:#ededed;--tui-base-08:#f6f6f6;--tui-base-09:#fff;--tui-focus:rgba(51, 51, 51, 0.64);--tui-secondary:rgba(255, 255, 255, 0.16);--tui-secondary-hover:rgba(255, 255, 255, 0.24);--tui-secondary-active:rgba(255, 255, 255, 0.4);--tui-clear:rgba(255, 255, 255, 0.16);--tui-clear-disabled:rgba(255, 255, 255, 0.08);--tui-clear-hover:rgba(255, 255, 255, 0.24);--tui-clear-active:rgba(255, 255, 255, 0.4);--tui-error-fill:#ff8c67;--tui-error-bg:rgba(244, 87, 37, 0.32);--tui-error-bg-hover:rgba(244, 87, 37, 0.4);--tui-success-fill:#4ac99b;--tui-success-bg:rgba(74, 201, 155, 0.32);--tui-success-bg-hover:rgba(74, 201, 155, 0.4);--tui-warning-fill:#ffc700;--tui-warning-bg:rgba(255, 199, 0, 0.32);--tui-warning-bg-hover:rgba(255, 199, 0, 0.4);--tui-info-fill:#70b6f6;--tui-info-bg:rgba(112, 182, 246, 0.32);--tui-info-bg-hover:rgba(112, 182, 246, 0.4);--tui-neutral-fill:#959ba4;--tui-neutral-bg:#959ba4;--tui-neutral-bg-hover:#959ba4;--tui-text-01:#ffffff;--tui-text-02:rgba(255, 255, 255, 0.72);--tui-text-03:rgba(255, 255, 255, 0.6);--tui-link:#6788ff;--tui-link-hover:#526ed3;--tui-positive:#44c596;--tui-positive-hover:#3aa981;--tui-negative:#ff8c67;--tui-negative-hover:#bb593a;--tui-autofill:var(--tui-autofill-night)}"],encapsulation:2}),n=b([E(0,y(ge))],n),n})(),BG=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const Rp=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function GA(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new $G(n,e,t))}}class $G{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new jG(e,this.accumulator,this.seed,this.hasSeed))}}class jG extends Ne{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function pd(n,e){return Gt(n,e,1)}function F0(n){return function(t){return 0===n?Xc():t.lift(new UG(n))}}class UG{constructor(e){if(this.total=e,this.total<0)throw new BS}call(e,t){return t.subscribe(new zG(e,this.total))}}class zG extends Ne{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let o=0;o<i;o++){const s=t++%i;e.next(r[s])}}e.complete()}}function WA(n=qG){return e=>e.lift(new GG(n))}class GG{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new WG(e,this.errorFactory))}}class WG extends Ne{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function qG(){return new Rp}function qA(n=null){return e=>e.lift(new KG(n))}class KG{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new QG(e,this.defaultValue))}}class QG extends Ne{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function uu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ut((r,o)=>n(r,o,i)):Ei,Wn(1),t?qA(e):WA(()=>new Rp))}class JG{constructor(e){this.callback=e}call(e,t){return t.subscribe(new XG(e,this.callback))}}class XG extends Ne{constructor(e,t){super(e),this.add(new pt(t))}}class qo{constructor(e,t){this.id=e,this.url=t}}class N0 extends qo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gd extends qo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class KA extends qo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eW extends qo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tW extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nW extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iW extends qo{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rW extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oW extends qo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZA{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sW{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aW{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lW{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uW{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YA{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $e="primary";class cW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cu(n){return new cW(n)}const JA="ngNavigationCancelingError";function k0(n){const e=Error("NavigationCancelingError: "+n);return e[JA]=!0,e}function hW(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!XA(n[r],e[r]))return!1;return!0}function XA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function eI(n){return Array.prototype.concat.apply([],n)}function tI(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wo(n){return Bh(n)?n:_c(n)?z(Promise.resolve(n)):ce(n)}const gW={exact:function rI(n,e,t){if(!Ca(n.segments,e.segments)||!Fp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!rI(n.children[i],e.children[i],t))return!1;return!0},subset:oI},nI={exact:function(n,e){return bo(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XA(n[t],e[t]))},ignored:()=>!0};function iI(n,e,t){return gW[t.paths](n.root,e.root,t.matrixParams)&&nI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oI(n,e,t){return sI(n,e,e.segments,t)}function sI(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ca(r,t)||e.hasChildren()||!Fp(r,t,i))}if(n.segments.length===t.length){if(!Ca(n.segments,t)||!Fp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!oI(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ca(n.segments,r)&&Fp(n.segments,r,i)&&n.children[$e])&&sI(n.children[$e],e,o,i)}}function Fp(n,e,t){return e.every((i,r)=>nI[t](n[r].parameters,i.parameters))}class Da{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return bW.serialize(this)}}class We{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Np(this)}}class md{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cu(this.parameters)),this._parameterMap}toString(){return cI(this)}}function Ca(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class L0{}class aI{parse(e){const t=new AW(e);return new Da(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_d(e.root,!0)}`,i=function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${kp(t)}=${kp(r)}`).join("&"):`${kp(t)}=${kp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const bW=new aI;function Np(n){return n.segments.map(e=>cI(e)).join("/")}function _d(n,e){if(!n.hasChildren())return Np(n);if(e){const t=n.children[$e]?_d(n.children[$e],!1):"",i=[];return Fn(n.children,(r,o)=>{o!==$e&&i.push(`${o}:${_d(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return Fn(n.children,(i,r)=>{r===$e&&(t=t.concat(e(i,r)))}),Fn(n.children,(i,r)=>{r!==$e&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===$e?[_d(n.children[$e],!1)]:[`${r}:${_d(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$e]?`${Np(n)}/${t[0]}`:`${Np(n)}/(${t.join("//")})`}}function lI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kp(n){return lI(n).replace(/%3B/gi,";")}function V0(n){return lI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lp(n){return decodeURIComponent(n)}function uI(n){return Lp(n.replace(/\+/g,"%20"))}function cI(n){return`${V0(n.path)}${function(n){return Object.keys(n).map(e=>`;${V0(e)}=${V0(n[e])}`).join("")}(n.parameters)}`}const TW=/^[^\/()?;=#]+/;function Vp(n){const e=n.match(TW);return e?e[0]:""}const MW=/^[^=?&#]+/,SW=/^[^?&#]+/;class AW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[$e]=new We(e,t)),i}parseSegment(){const e=Vp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new md(Lp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Vp(this.remaining);r&&(i=r,this.capture(i))}e[Lp(t)]=Lp(i)}parseQueryParam(e){const t=function(n){const e=n.match(MW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function(n){const e=n.match(SW);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=uI(t),o=uI(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Vp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=$e);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[$e]:new We([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class dI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=H0(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=H0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=B0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return B0(e,this._root).map(t=>t.value)}}function H0(n,e){if(n===e.value)return e;for(const t of e.children){const i=H0(n,t);if(i)return i}return null}function B0(n,e){if(n===e.value)return[e];for(const t of e.children){const i=B0(n,t);if(i.length)return i.unshift(e),i}return[]}class Ko{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class hI extends dI{constructor(e,t){super(e),this.snapshot=t,$0(this,e)}toString(){return this.snapshot.toString()}}function fI(n,e){const t=function(n,e){const s=new Hp([],{},{},"",{},$e,e,null,n.root,-1,{});return new gI("",new Ko(s,[]))}(n,e),i=new qn([new md("",{})]),r=new qn({}),o=new qn({}),s=new qn({}),a=new qn(""),l=new du(i,r,s,a,o,$e,e,t.root);return l.snapshot=t.root,new hI(new Ko(l,[]),t)}class du{constructor(e,t,i,r,o,s,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(J(e=>cu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(J(e=>cu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pI(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Hp{constructor(e,t,i,r,o,s,a,l,u,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gI extends dI{constructor(e,t){super(t),this.url=e,$0(this,t)}toString(){return mI(this._root)}}function $0(n,e){e.value._routerState=n,e.children.forEach(t=>$0(n,t))}function mI(n){const e=n.children.length>0?` { ${n.children.map(mI).join(", ")} } `:"";return`${n.value}${e}`}function j0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bo(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function U0(n,e){const t=bo(n.params,e.params)&&function(n,e){return Ca(n,e)&&n.every((t,i)=>bo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||U0(n.parent,e.parent))}function Bp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Bp(n,i,r);return Bp(n,i)})}(n,e,t);return new Ko(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return _I(e,s),s}}const i=function(n){return new du(new qn(n.url),new qn(n.params),new qn(n.queryParams),new qn(n.fragment),new qn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Bp(n,o));return new Ko(i,r)}}function _I(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)_I(n.children[t],e.children[t])}function $p(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vd(n){return"object"==typeof n&&null!=n&&n.outlets}function z0(n,e,t,i,r){let o={};return i&&Fn(i,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new Da(t.root===n?e:yI(t.root,n,e),o,r)}function yI(n,e,t){const i={};return Fn(n.children,(r,o)=>{i[o]=r===e?t:yI(r,e,t)}),new We(n.segments,i)}class vI{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&$p(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(vd);if(r&&r!==tI(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class G0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function bI(n,e,t){if(n||(n=new We([],{})),0===n.segments.length&&n.hasChildren())return jp(n,e,t);const i=function(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(vd(a))break;const l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!DI(l,u,s))return o;i+=2}else{if(!DI(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new We(n.segments.slice(0,i.pathIndex),{});return o.children[$e]=new We(n.segments.slice(i.pathIndex),n.children),jp(o,0,r)}return i.match&&0===r.length?new We(n.segments,{}):i.match&&!n.hasChildren()?W0(n,e,t):i.match?jp(n,0,r):W0(n,e,t)}function jp(n,e,t){if(0===t.length)return new We(n.segments,{});{const i=function(n){return vd(n[0])?n[0].outlets:{[$e]:n}}(t),r={};return Fn(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=bI(n.children[s],e,o))}),Fn(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new We(n.segments,r)}}function W0(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(vd(o)){const l=$W(o.outlets);return new We(i,l)}if(0===r&&$p(t[0])){i.push(new md(n.segments[e].path,wI(t[0]))),r++;continue}const s=vd(o)?o.outlets[$e]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&$p(a)?(i.push(new md(s,wI(a))),r+=2):(i.push(new md(s,{})),r++)}return new We(i,{})}function $W(n){const e={};return Fn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=W0(new We([],{}),0,t))}),e}function wI(n){const e={};return Fn(n,(t,i)=>e[i]=`${t}`),e}function DI(n,e,t){return n==t.path&&bo(e,t.parameters)}class UW{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),j0(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=yd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Fn(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:o})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=yd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=yd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new uW(o.value.snapshot))}),e.children.length&&this.forwardEvent(new aW(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(j0(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),CI(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}function CI(n){j0(n.value),n.children.forEach(CI)}class q0{constructor(e,t){this.routes=e,this.module=t}}function xs(n){return"function"==typeof n}function Ta(n){return n instanceof Da}const bd=Symbol("INITIAL_VALUE");function wd(){return St(n=>zv(n.map(e=>e.pipe(Wn(1),rn(bd)))).pipe(GA((e,t)=>{let i=!1;return t.reduce((r,o,s)=>r!==bd?r:(o===bd&&(i=!0),i||!1!==o&&s!==t.length-1&&!Ta(o)?r:o),e)},bd),ut(e=>e!==bd),J(e=>Ta(e)?e:!0===e),Wn(1)))}let TI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=je({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&he(0,"router-outlet")},directives:function(){return[J0]},encapsulation:2}),n})();function MI(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];ZW(i,YW(e,i))}}function ZW(n,e){n.children&&MI(n.children,e)}function YW(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function K0(n){const e=n.children&&n.children.map(K0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$e&&(t.component=TI),t}function gr(n){return n.outlet||$e}function EI(n,e){const t=n.filter(i=>gr(i)===e);return t.push(...n.filter(i=>gr(i)!==e)),t}const SI={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Up(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},SI):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(e.matcher||hW)(t,n,e);if(!o)return Object.assign({},SI);const s={};Fn(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function zp(n,e,t,i,r="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>Gp(n,e,i)&&gr(i)!==$e)}(n,t,i)){const s=new We(e,function(n,e,t,i){const r={};r[$e]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&gr(o)!==$e){const s=new We([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,r[gr(o)]=s}return r}(n,e,i,new We(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>Gp(n,e,i))}(n,t,i)){const s=new We(n.segments,function(n,e,t,i,r,o){const s={};for(const a of i)if(Gp(n,t,a)&&!r[gr(a)]){const l=new We([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[gr(a)]=l}return Object.assign(Object.assign({},r),s)}(n,e,t,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new We(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Gp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function xI(n,e,t,i){return!!(gr(n)===i||i!==$e&&Gp(e,t,n))&&("**"===n.path||Up(e,n,t).matched)}function AI(n,e,t){return 0===e.length&&!n.children[t]}class Dd{constructor(e){this.segmentGroup=e||null}}class II{constructor(e){this.urlTree=e}}function Wp(n){return new Te(e=>e.error(new Dd(n)))}function OI(n){return new Te(e=>e.error(new II(n)))}function n7(n){return new Te(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class o7{constructor(e,t,i,r,o){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(go)}apply(){const e=zp(this.urlTree.root,[],[],this.config).segmentGroup,t=new We(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$e).pipe(J(o=>this.createUrlTree(Q0(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ss(o=>{if(o instanceof II)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Dd?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$e).pipe(J(r=>this.createUrlTree(Q0(r),e.queryParams,e.fragment))).pipe(Ss(r=>{throw r instanceof Dd?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new We([],{[$e]:e}):e;return new Da(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(J(o=>new We([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return z(r).pipe(pd(o=>{const s=i.children[o],a=EI(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(J(l=>({segment:l,outlet:o})))}),GA((o,s)=>(o[s.outlet]=s.segment,o),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ut((r,o)=>n(r,o,i)):Ei,F0(1),t?qA(e):WA(()=>new Rp))}())}expandSegment(e,t,i,r,o,s){return z(i).pipe(pd(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,o,s).pipe(Ss(u=>{if(u instanceof Dd)return ce(null);throw u}))),uu(a=>!!a),Ss((a,l)=>{if(a instanceof Rp||"EmptyError"===a.name){if(AI(t,r,o))return ce(new We([],{}));throw new Dd(t)}throw a}))}expandSegmentAgainstRoute(e,t,i,r,o,s,a){return xI(r,t,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s):Wp(t):Wp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?OI(o):this.lineralizeSegments(i,o).pipe(Gt(s=>{const a=new We(s,{});return this.expandSegment(e,a,t,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,lastChild:u,positionalParamSegments:c}=Up(t,r,o);if(!a)return Wp(t);const d=this.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?OI(d):this.lineralizeSegments(r,d).pipe(Gt(h=>this.expandSegment(e,t,i,h.concat(o.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ce(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(J(h=>(i._loadedConfig=h,new We(r,{})))):ce(new We(r,{}));const{matched:s,consumedSegments:a,lastChild:l}=Up(t,i,r);if(!s)return Wp(t);const u=r.slice(l);return this.getChildConfig(e,i,r).pipe(Gt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=zp(t,a,u,f),m=new We(p.segments,p.children);if(0===_.length&&m.hasChildren())return this.expandChildren(h,f,m).pipe(J(j=>new We(a,j)));if(0===f.length&&0===_.length)return ce(new We(a,{}));const C=gr(i)===o;return this.expandSegment(h,m,f,_,C?$e:o,!0).pipe(J(V=>new We(a.concat(V.segments),V.children)))}))}getChildConfig(e,t,i){return t.children?ce(new q0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ce(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(Gt(r=>r?this.configLoader.load(e.injector,t).pipe(J(o=>(t._loadedConfig=o,o))):function(n){return new Te(e=>e.error(k0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ce(new q0([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return ce(!0);const o=r.map(s=>{const a=e.get(s);let l;if(function(n){return n&&xs(n.canLoad)}(a))l=a.canLoad(t,i);else{if(!xs(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}return wo(l)});return ce(o).pipe(wd(),on(s=>{if(!Ta(s))return;const a=k0(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),J(s=>!0===s))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ce(i);if(r.numberOfChildren>1||!r.children[$e])return n7(e.redirectTo);r=r.children[$e]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Da(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Fn(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=t[a]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Fn(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,i,r)}),new We(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Q0(n){const e={};for(const i of Object.keys(n.children)){const o=Q0(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(n){if(1===n.numberOfChildren&&n.children[$e]){const e=n.children[$e];return new We(n.segments.concat(e.segments),e.children)}return n}(new We(n.segments,e))}class PI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qp{constructor(e,t){this.component=e,this.route=t}}function l7(n,e,t){const i=n._root;return Cd(i,e?e._root:null,t,[i.value])}function Kp(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Cd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=yd(e);return n.children.forEach(s=>{(function(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ca(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ca(n.url,e.url)||!bo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U0(n,e)||!bo(n.queryParams,e.queryParams);default:return!U0(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new PI(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Cd(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qp(a.outlet.component,s))}else s&&Td(e,a,r),r.canActivateChecks.push(new PI(i)),Cd(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Fn(o,(s,a)=>Td(s,t.getContext(a),r)),r}function Td(n,e,t){const i=yd(n),r=n.value;Fn(i,(o,s)=>{Td(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new qp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class w7{}function RI(n){return new Te(e=>e.error(n))}class C7{constructor(e,t,i,r,o,s){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const e=zp(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$e);if(null===t)return null;const i=new Hp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$e,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ko(i,t),o=new gI(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,i=pI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const o of Object.keys(t.children)){const s=t.children[o],a=EI(e,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=FI(i);return function(n){n.sort((e,t)=>e.value.outlet===$e?-1:t.value.outlet===$e?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const o of e){const s=this.processSegmentAgainstRoute(o,t,i,r);if(null!==s)return s}return AI(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!xI(e,t,i,r))return null;let o,s=[],a=[];if("**"===e.path){const f=i.length>0?tI(i).parameters:{};o=new Hp(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,LI(e),gr(e),e.component,e,NI(t),kI(t)+i.length,VI(e))}else{const f=Up(t,e,i);if(!f.matched)return null;s=f.consumedSegments,a=i.slice(f.lastChild),o=new Hp(s,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,LI(e),gr(e),e.component,e,NI(t),kI(t)+s.length,VI(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=zp(t,s,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const f=this.processChildren(l,u);return null===f?null:[new Ko(o,f)]}if(0===l.length&&0===c.length)return[new Ko(o,[])];const d=gr(e)===r,h=this.processSegment(l,u,c,d?$e:r);return null===h?null:[new Ko(o,h)]}}function E7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function FI(n){const e=[],t=new Set;for(const i of n){if(!E7(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=FI(i.children);e.push(new Ko(i.value,r))}return e.filter(i=>!t.has(i))}function NI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function LI(n){return n.data||{}}function VI(n){return n.resolve||{}}function Z0(n){return St(e=>{const t=n(e);return t?z(t).pipe(J(()=>e)):ce(e)})}class F7 extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Y0=new P("ROUTES");class HI{constructor(e,t,i,r){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(J(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const s=o.create(e);return new q0(eI(s.injector.get(Y0,void 0,se.Self|se.Optional)).map(K0),s)}),Ss(o=>{throw t._loader$=void 0,o}));return t._loader$=new Hd(r,()=>new Nt).pipe(Su()),t._loader$}loadModuleFactory(e){return"string"==typeof e?z(this.loader.load(e)):wo(e()).pipe(Gt(t=>t instanceof XT?ce(t):z(this.compiler.compileModuleAsync(t))))}}class N7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hu,this.attachRef=null}}class hu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new N7,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class L7{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function V7(n){throw n}function H7(n,e,t){return e.parse("/")}function BI(n,e){return ce(null)}const B7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{class n{constructor(t,i,r,o,s,a,l,u){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt,this.errorHandler=V7,this.malformedUriErrorHandler=H7,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:BI,afterPreactivation:BI},this.urlHandlingStrategy=new L7,this.routeReuseStrategy=new F7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(go),this.console=s.get(af);const h=s.get(ve);this.isNgZoneEnabled=h instanceof ve&&ve.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Da(new We([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new HI(a,l,f=>this.triggerEvent(new QA(f)),f=>this.triggerEvent(new ZA(f))),this.routerState=fI(this.currentUrlTree,this.rootComponentType),this.transitions=new qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ut(r=>0!==r.id),J(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),St(r=>{let o=!1,s=!1;return ce(r).pipe(on(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),St(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Qp(a.source)&&(this.browserUrlTree=a.extractedUrl),ce(a).pipe(St(d=>{const h=this.transitions.getValue();return i.next(new N0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?cr:Promise.resolve(d)}),function(n,e,t,i){return St(r=>function(n,e,t,i,r){return new o7(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(J(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),on(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,i,r){return Gt(o=>function(n,e,t,i,r="emptyOnly",o="legacy"){try{const s=new C7(n,e,t,i,r,o).recognize();return null===s?RI(new w7):ce(s)}catch(s){return RI(s)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),i,r).pipe(J(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),on(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new tW(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:m}=a,C=new N0(h,this.serializeUrl(f),p,_);i.next(C);const D=fI(f,this.rootComponentType).snapshot;return ce(Object.assign(Object.assign({},a),{targetSnapshot:D,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),cr}),Z0(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),on(a=>{const l=new nW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),J(a=>Object.assign(Object.assign({},a),{guards:l7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Gt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ce(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,i){return z(n).pipe(Gt(r=>function(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ce(o.map(a=>{const l=Kp(a,e,r);let u;if(function(n){return n&&xs(n.canDeactivate)}(l))u=wo(l.canDeactivate(n,e,t,i));else{if(!xs(l))throw new Error("Invalid CanDeactivate guard");u=wo(l(n,e,t,i))}return u.pipe(uu())})).pipe(wd()):ce(!0)}(r.component,r.route,t,e,i)),uu(r=>!0!==r,!0))}(s,i,r,n).pipe(Gt(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,i){return z(e).pipe(pd(r=>fa(function(n,e){return null!==n&&e&&e(new sW(n)),ce(!0)}(r.route.parent,i),function(n,e){return null!==n&&e&&e(new lW(n)),ce(!0)}(r.route,i),function(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>mp(()=>ce(s.guards.map(l=>{const u=Kp(l,s.node,t);let c;if(function(n){return n&&xs(n.canActivateChild)}(u))c=wo(u.canActivateChild(i,n));else{if(!xs(u))throw new Error("Invalid CanActivateChild guard");c=wo(u(i,n))}return c.pipe(uu())})).pipe(wd())));return ce(o).pipe(wd())}(n,r.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ce(!0);const r=i.map(o=>mp(()=>{const s=Kp(o,e,t);let a;if(function(n){return n&&xs(n.canActivate)}(s))a=wo(s.canActivate(e,n));else{if(!xs(s))throw new Error("Invalid CanActivate guard");a=wo(s(e,n))}return a.pipe(uu())}));return ce(r).pipe(wd())}(n,r.route,t))),uu(r=>!0!==r,!0))}(i,o,n,e):ce(a)),J(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),on(a=>{if(Ta(a.guardsResult)){const u=k0(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new iW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),ut(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Z0(a=>{if(a.guards.canActivateChecks.length)return ce(a).pipe(on(l=>{const u=new rW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),St(l=>{let u=!1;return ce(l).pipe(function(n,e){return Gt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ce(t);let o=0;return z(r).pipe(pd(s=>function(n,e,t,i){return function(n,e,t,i){const r=Object.keys(n);if(0===r.length)return ce({});const o={};return z(r).pipe(Gt(s=>function(n,e,t,i){const r=Kp(n,e,i);return wo(r.resolve?r.resolve(e,t):r(e,t))}(n[s],e,t,i).pipe(on(a=>{o[s]=a}))),F0(1),Gt(()=>Object.keys(o).length===r.length?ce(o):cr))}(n._resolve,n,e,i).pipe(J(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),pI(n,t).resolve),null)))}(s.route,i,n,e)),on(()=>o++),F0(1),Gt(s=>o===r.length?ce(t):cr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),on({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),on(l=>{const u=new oW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Z0(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),J(a=>{const l=function(n,e,t){const i=Bp(n,e._root,t?t._root:void 0);return new hI(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),on(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>J(i=>(new UW(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),on({next(){o=!0},complete(){o=!0}}),function(n){return e=>e.lift(new JG(n))}(()=>{var a;if(!o&&!s){const l=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,l)):this.cancelNavigationTransition(r,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Ss(a=>{if(s=!0,function(n){return n&&n[JA]}(a)){const l=Ta(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const u=new KA(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qp(r.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new eW(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(u){r.reject(u)}}return cr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:o,urlTree:s}=i,a={replaceUrl:!0};if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(s,r,o,a)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(t){var i;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,i){if(!t)return!0;const r=i.urlTree.toString()===t.urlTree.toString();return i.transitionId!==t.transitionId||!r||!("hashchange"===i.source&&"popstate"===t.source||"popstate"===i.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){MI(t),this.config=t.map(K0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=r||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,i,r){if(0===t.length)return z0(e.root,e.root,e,i,r);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vI(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Fn(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new vI(t,e,i)}(t);if(o.toRoot())return z0(e.root,new We([],{}),e,i,r);const s=function(n,e,t){if(n.isAbsolute)return new G0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new G0(o,o===e.root,0)}const i=$p(n.commands[0])?0:1;return function(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new G0(i,!1,r-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,e,n),a=s.processChildren?jp(s.segmentGroup,s.index,o.commands):bI(s.segmentGroup,s.index,o.commands);return z0(s.segmentGroup,a,e,i,r)}(u,this.currentUrlTree,t,d,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ta(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},B7):!1===i?Object.assign({},$7):i,Ta(t))return iI(this.currentUrlTree,t,r);const o=this.parseUrl(t);return iI(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new gd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);const u=this.getTransition(),c=Qp(i)&&u&&!Qp(u.source),f=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&f)return Promise.resolve(!0);let p,_,m;s?(p=s.resolve,_=s.reject,m=s.promise):m=new Promise((V,j)=>{p=V,_=j});const C=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):D=0,this.setTransition({id:C,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:p,reject:_,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(V=>Promise.reject(V))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new KA(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(O(_h),O(L0),O(hu),O(bf),O(ze),O(uf),O(ra),O(void 0))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function Qp(n){return"imperative"!==n}let Md=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.commands=[],this.onChanges=new Nt,null==r&&o.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:fu(this.skipLocationChange),replaceUrl:fu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(g(hi),g(du),qs("tabindex"),g(si),g(I))},n.\u0275dir=L({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&Fe("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Cn]}),n})(),Zp=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new Nt,this.subscription=t.events.subscribe(o=>{o instanceof gd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,s){if(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target)return!0;const a={skipLocationChange:fu(this.skipLocationChange),replaceUrl:fu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(g(hi),g(du),g(la))},n.\u0275dir=L({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&Fe("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&(vc("href",i.href,cm),yt("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Cn]}),n})();function fu(n){return""===n||!!n}let J0=(()=>{class n{constructor(t,i,r,o,s){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new ft,this.deactivateEvents=new ft,this.name=o||$e,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const s=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new G7(t,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g(hu),g(Tn),g(er),qs("name"),g(Vt))},n.\u0275dir=L({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class G7{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===du?this.route:e===hu?this.childContexts:this.parent.get(e,t)}}class $I{}class jI{preload(e,t){return ce(null)}}let UI=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=o,this.preloadingStrategy=s,this.loader=new HI(i,r,u=>t.triggerEvent(new QA(u)),u=>t.triggerEvent(new ZA(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ut(t=>t instanceof gd),pd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(go);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children));return z(r).pipe(Vs(),J(o=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ce(i._loadedConfig):this.loader.load(t.injector,i)).pipe(Gt(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(O(hi),O(uf),O(ra),O(ze),O($I))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})(),X0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof N0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof YA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new YA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(O(hi),O(Pf),O(void 0))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();const Ma=new P("ROUTER_CONFIGURATION"),zI=new P("ROUTER_FORROOT_GUARD"),q7=[bf,{provide:L0,useClass:aI},{provide:hi,useFactory:function(n,e,t,i,r,o,s,a={},l,u){const c=new hi(null,n,e,t,i,r,o,eI(s));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),c},deps:[L0,hu,bf,ze,uf,ra,Y0,Ma,[class{},new Ke],[class{},new Ke]]},hu,{provide:du,useFactory:function(n){return n.routerState.root},deps:[hi]},{provide:uf,useClass:KH},UI,jI,class{preload(e,t){return t().pipe(Ss(()=>ce(null)))}},{provide:Ma,useValue:{enableTracing:!1}}];function K7(){return new J_("Router",hi)}let Ed=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[q7,GI(t),{provide:zI,useFactory:Y7,deps:[[hi,new Ke,new ro]]},{provide:Ma,useValue:i||{}},{provide:la,useFactory:Z7,deps:[aa,[new y(gy),new Ke],Ma]},{provide:X0,useFactory:Q7,deps:[hi,Pf,Ma]},{provide:$I,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:jI},{provide:J_,multi:!0,useFactory:K7},[eb,{provide:Hc,multi:!0,useFactory:tq,deps:[eb]},{provide:WI,useFactory:nq,deps:[eb]},{provide:nE,multi:!0,useExisting:WI}]]}}static forChild(t){return{ngModule:n,providers:[GI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(O(zI,8),O(hi,8))},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function Q7(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new X0(n,e,t)}function Z7(n,e,t={}){return t.useHash?new WE(n,e):new GE(n,e)}function Y7(n){return"guarded"}function GI(n){return[{provide:SP,multi:!0,useValue:n},{provide:Y0,multi:!0,useValue:n}]}let eb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Nt}appInitializer(){return this.injector.get(d$,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(hi),s=this.injector.get(Ma);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?ce(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Ma),r=this.injector.get(UI),o=this.injector.get(X0),s=this.injector.get(hi),a=this.injector.get(Ul);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(O(ze))},n.\u0275prov=K({token:n,factory:n.\u0275fac}),n})();function tq(n){return n.appInitializer.bind(n)}function nq(n){return n.bootstrapListener.bind(n)}const WI=new P("Router Initializer");let rq=(()=>{class n{constructor(){this.title="mobile"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=je({type:n,selectors:[["gomoku-root"]],decls:4,vars:0,consts:[["tuiMode","onDark",1,"root"],[1,"background"]],template:function(t,i){1&t&&(he(0,"tui-theme-night"),F(1,"tui-root",0),he(2,"router-outlet"),N(),he(3,"div",1))},directives:[HG,TG,C0,J0],styles:[".root[_ngcontent-%COMP%]{height:100%;z-index:10}  :root{--tui-primary: #520c70;--tui-primary-active: #4b0c54;--tui-primary-hover: #4f047a}"]}),n})();const oq=function(){return["/settings"]};let sq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=je({type:n,selectors:[["gomoku-welcome"]],decls:6,vars:2,consts:[[1,"tui-container_adaptive","welcome"],[1,"title"],[1,"btn-block"],["tuiButton","","type","button","size","xl",3,"routerLink"]],template:function(t,i){1&t&&(F(0,"div",0),F(1,"div",1),Qe(2,"Gomoku"),N(),F(3,"div",2),F(4,"button",3),Qe(5," Start "),N(),N(),N()),2&t&&(B(4),M("routerLink",nf(1,oq)))},directives:[Zt,Md],styles:[".welcome[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.welcome[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{letter-spacing:.5ch}.welcome[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;justify-content:space-evenly;align-items:center}"]}),n})(),aq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=je({type:n,selectors:[["gomoku-about"]],decls:2,vars:0,template:function(t,i){1&t&&(F(0,"p"),Qe(1,"about works!"),N())},styles:[""]}),n})();var Do=(()=>(function(n){n.HUMAN="human",n.AI="ai"}(Do||(Do={})),Do))();class lq{constructor(e){this.gameService=e,this.destroy$=new Nt,this.worker=new Worker(pi.tu(new URL(pi.p+pi.u(25),pi.b))),e.sequence$().pipe(rt(this.destroy$),ut(t=>!t.winner),ut(t=>t.id%2?t.enemy.type===Do.AI:t.player.type===Do.AI),on(t=>{this.worker.onmessage=({data:{turn:i,delta:r,count:o,capacity:s}})=>{const a=t.id%2?t.enemy:t.player;a.map.push(i),t.winner||(a.info.sequence.push({turn:t.id+1,delta:r,count:o,capacity:s}),this.gameService.makeTurn(t))}}),J(t=>this.worker.postMessage(t))).subscribe()}destroy(){this.destroy$.next(),this.destroy$.complete(),this.worker.terminate()}}let tb=(()=>{class n{constructor(){this.size=19,this.destroy$=new Nt,this._sequence$=new Tv(1),this._turn=0,this.aiService=new lq(this)}get turn(){return Math.ceil(this._turn/2)}sequence$(){return this._sequence$.asObservable().pipe(rt(this.destroy$),J(t=>{const i=this.hasWin(t.player.map,t.size);(i||t.enemy.captured>=5)&&(t.winner={color:()=>t.player.color+"1)",combination:i??[]});const r=this.hasWin(t.enemy.map,t.size);return(r||t.player.captured>=5)&&(t.winner={color:()=>t.enemy.color+"1)",combination:r??[]}),t}))}hasWin(t,i=19,r=5){const o=new Set(t);for(const s of t){const a=[1,i-1,i,i+1].map(l=>Array.from({length:r-1},(u,c)=>(c+1)*l+s));for(const l of a)if(l.every(u=>o.has(u)))return[s,...l]}}findCaptures([t,i],r=19){const o=[],s=t[t.length-1];return[-1,1,r+1,r,r-1,-r-1,1-r,-r].map(a=>{i.includes(s+a)&&i.includes(s+2*a)&&t.includes(s+3*a)&&(o.push(i.indexOf(s+a)),o.push(i.indexOf(s+2*a)))}),o}initGame(t){this.size=t.get("size")?.value??19,this._sequence$.next({id:0,timestamp:0,player:{type:t.get("player")?.value.type,map:[],turn:[],captured:0,color:"rgba(3,0,187,",options:{deep:t.get("playerDeep")?.value},info:{sequence:[]}},enemy:{type:t.get("enemy")?.value.type,map:[],turn:[],captured:0,color:"rgba(194,6,6,",options:{deep:t.get("enemyDeep")?.value},info:{sequence:[]}},size:t.get("size")?.value??19,blocked:[]})}startGame(){this._turn=0}makeTurn(t){++t.id;const o=this.findCaptures([t.id%2?t.player.map:t.enemy.map,t.id%2?t.enemy.map:t.player.map]);if(t.id%2?t.player.turn.push(t.id):t.enemy.turn.push(t.id),o.length){const s=t.id%2?"enemy":"player";t[s].map=t[s].map.filter((a,l)=>!o.includes(l)),t[s].turn=t[s].turn.filter((a,l)=>!o.includes(l)),t[s].captured+=o.length/2}this._sequence$.next(t)}ngOnDestroy(){this._sequence$?.complete(),this.destroy$.next(),this.destroy$.complete(),this.aiService.destroy()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nn(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function $r(n,e){return function(t,i){e(t,i,n)}}const QI=new Te($o);class cq{constructor(e,t,i,r,o,s,a,l,u,c){this.change$=e,this.autocompleteDirective=t,this.cleanerDirective=i,this.customContentDirective=r,this.exampleTextDirective=o,this.inputModeDirective=s,this.labelOutsideDirective=a,this.maxLengthDirective=l,this.sizeDirective=u,this.typeDirective=c}get autocomplete(){return this.autocompleteDirective.autocomplete}get cleaner(){return this.cleanerDirective.cleaner}get customContent(){return this.customContentDirective.customContent||""}get exampleText(){return this.exampleTextDirective.exampleText}get inputMode(){return this.inputModeDirective.inputMode}get labelOutside(){return this.labelOutsideDirective.labelOutside}get maxLength(){return this.maxLengthDirective.maxLength}get size(){return this.sizeDirective.size}get type(){return this.typeDirective.type}}var ZI;const YI=new P("tuiTextfieldAutocomplete",{factory:function(){return new Ea}});let Ea=ZI=class extends fr{constructor(){super(...arguments),this.autocomplete=null}};var JI;Ea.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Ea)))(t||Ea)}}(),Ea.\u0275dir=L({type:Ea,selectors:[["","tuiTextfieldAutocomplete",""]],inputs:{autocomplete:["tuiTextfieldAutocomplete","autocomplete"]},features:[ee([{provide:YI,useExisting:le(()=>ZI)}]),ye]}),b([A("tuiTextfieldAutocomplete")],Ea.prototype,"autocomplete",void 0);const Sd=new P("tuiTextfieldCleaner",{factory:function(){return new As}});let As=JI=class extends fr{constructor(){super(...arguments),this.cleaner=!1}};var XI;As.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(As)))(t||As)}}(),As.\u0275dir=L({type:As,selectors:[["","tuiTextfieldCleaner",""]],inputs:{cleaner:["tuiTextfieldCleaner","cleaner"]},features:[ee([{provide:Sd,useExisting:le(()=>JI)}]),ye]}),b([A("tuiTextfieldCleaner")],As.prototype,"cleaner",void 0);const eO=new P("tuiTextfieldCustomContent",{factory:function(){return new Sa}});let Sa=XI=class extends fr{constructor(){super(...arguments),this.customContent=null}};var tO;Sa.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Sa)))(t||Sa)}}(),Sa.\u0275dir=L({type:Sa,selectors:[["","tuiTextfieldCustomContent",""]],inputs:{customContent:["tuiTextfieldCustomContent","customContent"]},features:[ee([{provide:eO,useExisting:le(()=>XI)}]),ye]}),b([A("tuiTextfieldCustomContent")],Sa.prototype,"customContent",void 0);const nO=new P("tuiTextfieldExampleText",{factory:function(){return new xa}});let xa=tO=class extends fr{constructor(){super(...arguments),this.exampleText=""}};var iO;xa.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(xa)))(t||xa)}}(),xa.\u0275dir=L({type:xa,selectors:[["","tuiTextfieldExampleText",""]],inputs:{exampleText:["tuiTextfieldExampleText","exampleText"]},features:[ee([{provide:nO,useExisting:le(()=>tO)}]),ye]}),b([A("tuiTextfieldExampleText")],xa.prototype,"exampleText",void 0);const rO=new P("tuiTextfieldInputMode",{factory:function(){return new Aa}});let Aa=iO=class extends fr{constructor(){super(...arguments),this.inputMode="text"}};var oO;Aa.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Aa)))(t||Aa)}}(),Aa.\u0275dir=L({type:Aa,selectors:[["","tuiTextfieldInputMode",""]],inputs:{inputMode:["tuiTextfieldInputMode","inputMode"]},features:[ee([{provide:rO,useExisting:le(()=>iO)}]),ye]}),b([A("tuiTextfieldInputMode")],Aa.prototype,"inputMode",void 0);const sO=new P("tuiTextfieldLabelOutside",{factory:function(){return new Ia}});let Ia=oO=class extends fr{constructor(){super(...arguments),this.labelOutside=!1}};var aO;Ia.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Ia)))(t||Ia)}}(),Ia.\u0275dir=L({type:Ia,selectors:[["","tuiTextfieldLabelOutside",""]],inputs:{labelOutside:["tuiTextfieldLabelOutside","labelOutside"]},features:[ee([{provide:sO,useExisting:le(()=>oO)}]),ye]}),b([A("tuiTextfieldLabelOutside")],Ia.prototype,"labelOutside",void 0);const lO=new P("tuiTextfieldMaxLength",{factory:function(){return new Oa}});let Oa=aO=class extends fr{constructor(){super(...arguments),this.maxLength=null}};var uO;Oa.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Oa)))(t||Oa)}}(),Oa.\u0275dir=L({type:Oa,selectors:[["","tuiTextfieldMaxLength",""]],inputs:{maxLength:["tuiTextfieldMaxLength","maxLength"]},features:[ee([{provide:lO,useExisting:le(()=>aO)}]),ye]}),b([A("tuiTextfieldMaxLength")],Oa.prototype,"maxLength",void 0);const Jp=new P("tuiTextfieldSize",{factory:function(){return new Pa}});let Pa=uO=class extends fr{constructor(){super(...arguments),this.size="l"}};var cO;Pa.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Pa)))(t||Pa)}}(),Pa.\u0275dir=L({type:Pa,selectors:[["","tuiTextfieldSize",""]],inputs:{size:["tuiTextfieldSize","size"]},features:[ee([{provide:Jp,useExisting:le(()=>uO)}]),ye]}),b([A("tuiTextfieldSize")],Pa.prototype,"size",void 0);const dO=new P("tuiTextfieldType",{factory:function(){return new Ra}});let Ra=cO=class extends fr{constructor(){super(...arguments),this.type="text"}};Ra.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Ra)))(t||Ra)}}(),Ra.\u0275dir=L({type:Ra,selectors:[["","tuiTextfieldType",""]],inputs:{type:["tuiTextfieldType","type"]},features:[ee([{provide:dO,useExisting:le(()=>cO)}]),ye]}),b([A("tuiTextfieldType")],Ra.prototype,"type",void 0);const ib=new P("watched textfield controller"),wq=[ae,{provide:ib,deps:[Vt,ae,YI,Sd,eO,nO,rO,sO,lO,Jp,dO],useFactory:function(n,e,...t){const i=st(...t.map(({change$:r})=>r||QI)).pipe(Xl(n),rt(e));return i.subscribe(),new cq(i,...t)}}];var rb;let kn=rb=class extends W8{constructor(e,t,i,r,o,s){super(e,t,i,r,o),this.refresh$=s}set open(e){e?this.openDropdownBox():this.closeDropdownBox()}};kn.\u0275fac=function(e){return new(e||kn)(g(er),g(ze),g(Uo),g(I),g(Ft,8),g(Go))},kn.\u0275dir=L({type:kn,selectors:[["","tuiDropdown","",5,"ng-container"]],inputs:{open:["tuiDropdown","open"]},features:[ee([{provide:kv,useExisting:le(()=>rb)},Go]),ye]}),kn.ctorParameters=()=>[{type:er,decorators:[{type:y,args:[er]}]},{type:ze,decorators:[{type:y,args:[ze]}]},{type:Uo,decorators:[{type:y,args:[Uo]}]},{type:I,decorators:[{type:y,args:[I]}]},{type:Ft,decorators:[{type:y,args:[Ft]},{type:Ke}]},{type:Go,decorators:[{type:y,args:[Go]}]}],b([A("tuiDropdown")],kn.prototype,"open",null),kn=rb=b([E(0,y(er)),E(1,y(ze)),E(2,y(Uo)),E(3,y(I)),E(4,y(Ft)),E(4,Ke()),E(5,y(Go))],kn);let Eq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[G8]]}),n})();const Sq=["tuiOption",""],xq=function(n){return{$implicit:n}};function Aq(n,e){if(1&n&&he(0,"span",2),2&n){const t=W(),i=mn(2);M("content",t.content)("context",Ro(2,xq,i))}}function Iq(n,e){1&n&&he(0,"tui-svg",4)}function Oq(n,e){if(1&n&&(_n(0),$(1,Iq,1,0,"tui-svg",3)),2&n){const t=W();B(1),M("ngIf",t.dropdown)}}const hO=["*"];function Pq(n,e){if(1&n&&(he(0,"div",2),Et(1,"async")),2&n){const t=W();M("content",t.emptyContent||Ot(1,1,t.defaultEmptyContent$))}}function Rq({currentTarget:n}){return!ws(n)}let Is=(()=>{let n=class{constructor(t,i,r,o,s){this.content=t,this.dataList=i,this.elementRef=r,this.host=o,this.dropdown=s,this.size="m",this.role="option",this.disabled=!1}get active(){return!!this.dropdown&&!!this.dropdown.dropdownBoxRef}onClick(){this.host&&void 0!==this.value&&this.host.handleOption(this.value)}onMouseMove({currentTarget:t}){Di(t,!0,!0)}ngOnDestroy(){this.dataList.handleFocusLossIfNecessary(this.elementRef.nativeElement)}};return n.\u0275fac=function(t){return new(t||n)(g(Bv,8),g(le(()=>bn)),g(I),g(id,8),g(kn,10))},n.\u0275cmp=je({type:n,selectors:[["button","tuiOption",""],["a","tuiOption",""]],hostAttrs:["tabIndex","-1","type","button"],hostVars:5,hostBindings:function(t,i){1&t&&Fe("click",function(){return i.onClick()})("init.onMouseMove",function(o){return i.onMouseMove(o)})("mousemove.silent",function(o){return i.onMouseMove(o)}),2&t&&(yt("disabled",i.disabled||null)("data-size",i.size)("role",i.role),vt("_with-dropdown",i.active))},inputs:{size:"size",role:"role",disabled:"disabled",value:"value"},attrs:Sq,ngContentSelectors:hO,decls:3,vars:2,consts:[["polymorpheus-outlet","","class","content",3,"content","context",4,"ngIf","ngIfElse"],["base",""],["polymorpheus-outlet","",1,"content",3,"content","context"],["class","arrow","src","tuiIconChevronRight",4,"ngIf"],["src","tuiIconChevronRight",1,"arrow"]],template:function(t,i){if(1&t&&(yi(),$(0,Aq,1,4,"span",0),$(1,Oq,2,1,"ng-template",null,1,ki)),2&t){const r=mn(2);M("ngIf",i.content)("ngIfElse",r)}},directives:[Rt,Kn,ba],styles:["[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0 1rem;border:0;background:padding-box;font-size:inherit;line-height:inherit;font:var(--tui-font-text-m);transition-property:background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:100%;align-items:center;justify-content:space-between;text-align:left;box-sizing:border-box;color:var(--tui-text-01);outline:0;text-decoration:none;cursor:pointer;border-top:8px solid transparent;border-bottom:8px solid transparent;margin:-.5rem 0}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}._with-dropdown[_nghost-%COMP%], [_nghost-%COMP%]:focus{background-color:var(--tui-base-02)}[data-size=xs][_nghost-%COMP%]{font:var(--tui-font-text-s);min-height:3rem}[data-size='s'][_nghost-%COMP%]{min-height:3rem}[data-size='m'][_nghost-%COMP%]{min-height:3.75rem}[data-size='l'][_nghost-%COMP%]{min-height:4.5rem}.content[_ngcontent-%COMP%]{display:flex;flex:1;max-width:100%}.arrow[_ngcontent-%COMP%]{margin:0 -.5rem 0 .75rem}"],changeDetection:0}),b([A(),pe("attr.data-size"),U()],n.prototype,"size",void 0),b([A(),pe("attr.role"),U()],n.prototype,"role",void 0),b([A(),U()],n.prototype,"disabled",void 0),b([A()],n.prototype,"value",void 0),b([pe("class._with-dropdown")],n.prototype,"active",null),b([en("click")],n.prototype,"onClick",null),b([A8(Rq),en("init.onMouseMove",["$event"]),en("mousemove.silent",["$event"])],n.prototype,"onMouseMove",null),n=b([E(0,Ke()),E(0,y(Bv)),E(1,y(le(()=>bn))),E(2,y(I)),E(3,Ke()),E(3,y(id)),E(4,Ke()),E(4,Cr()),E(4,y(kn))],n),n})();var ob;let bn=ob=class{constructor(e,t){this.elementRef=e,this.defaultEmptyContent$=t,this.role="listbox",this.emptyContent="",this.options=np}get empty$(){return function(n){return n.changes.pipe(J(()=>NS(n)),rn(NS(n)))}(this.options).pipe(J(({length:e})=>!e))}getOptions(e=!1){return this.options.toArray().filter(({disabled:t})=>e||!t).map(({value:t})=>t).filter(bs)}onFocusIn(e,t){!t.contains(e)&&!this.origin&&(this.origin=e)}noop(){}onKeyDownArrow(e,t){const{elements:i}=this;KS(i.indexOf(e),i,t)}onFocus(e,t){const{elements:i}=this;KS(t?-1:i.length,i,t?1:-1),this.handleFocusLossIfNecessary(e)}handleFocusLossIfNecessary(e){this.origin&&ap(e)&&function(n,e=!0,t=!1){if(n.ownerDocument){if("function"==typeof Event)n.dispatchEvent(new Event("mousedown",{bubbles:!0,cancelable:!0}));else{const i=n.ownerDocument.createEvent("Event");i.initEvent("mousedown",!0,!0),n.dispatchEvent(i)}Di(n,e,t)}}(this.origin,!0,!0)}get elements(){return Array.from(this.elementRef.nativeElement.querySelectorAll("[tuiOption]"))}};bn.\u0275fac=function(e){return new(e||bn)(g(I),g(Vv))},bn.\u0275cmp=je({type:bn,selectors:[["tui-data-list"]],contentQueries:function(e,t,i){if(1&e&&Pr(i,Is,5),2&e){let r;Bt(r=$t())&&(t.options=r)}},hostVars:1,hostBindings:function(e,t){1&e&&Fe("focusin",function(r){return t.onFocusIn(r.relatedTarget,r.currentTarget)})("mousedown.prevent",function(){return t.noop()})("keydown.arrowDown.prevent",function(r){return t.onKeyDownArrow(r.target,1)})("keydown.arrowUp.prevent",function(r){return t.onKeyDownArrow(r.target,-1)})("mouseleave",function(r){return t.handleFocusLossIfNecessary(r.target)}),2&e&&yt("role",t.role)},inputs:{role:"role",emptyContent:"emptyContent"},features:[ee([{provide:Nv,useExisting:le(()=>ob)}])],ngContentSelectors:hO,decls:5,vars:3,consts:[["tabindex","0",1,"trap",3,"focusin"],["class","empty","polymorpheus-outlet","",3,"content",4,"ngIf"],["polymorpheus-outlet","",1,"empty",3,"content"]],template:function(e,t){1&e&&(yi(),F(0,"div",0),Fe("focusin",function(r){return t.onFocus(r.target,!0)}),N(),_n(1),$(2,Pq,2,3,"div",1),Et(3,"async"),F(4,"div",0),Fe("focusin",function(r){return t.onFocus(r.target,!1)}),N()),2&e&&(B(2),M("ngIf",Ot(3,1,t.empty$)))},directives:[Rt,Kn],pipes:[Li],styles:["tui-data-list{font:var(--tui-font-text-m);display:flex;flex-direction:column;padding:.5rem 0;color:var(--tui-text-03)}tui-data-list:focus-within .trap{display:none}tui-data-list:focus-within [tuiOption]._with-dropdown:not(:focus){background-color:transparent}tui-data-list>.empty{margin:.75rem 1rem}tui-opt-group{font:var(--tui-font-text-xs);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;display:flex;flex-direction:column;line-height:2rem;padding:.5rem 0;margin:-.5rem 0}tui-opt-group:empty:after,tui-opt-group:empty:before{display:none}tui-opt-group:before{content:attr(data-label);padding:0 1rem;color:var(--tui-text-02)}tui-opt-group:not(:empty)~tui-opt-group:before{padding-top:1rem}tui-opt-group:not(:empty)~tui-opt-group:after{content:'';position:absolute;left:0;right:0;top:.4375rem;height:.0625rem;background:var(--tui-base-03)}"],encapsulation:2,changeDetection:0}),bn.ctorParameters=()=>[{type:I,decorators:[{type:y,args:[I]}]},{type:Te,decorators:[{type:y,args:[Vv]}]}],b([A(),pe("attr.role"),U()],bn.prototype,"role",void 0),b([A(),U()],bn.prototype,"emptyContent",void 0),b([Yg(le(()=>Is),{descendants:!0})],bn.prototype,"options",void 0),b([ui],bn.prototype,"empty$",null),b([en("focusin",["$event.relatedTarget","$event.currentTarget"])],bn.prototype,"onFocusIn",null),b([en("mousedown.prevent")],bn.prototype,"noop",null),b([en("keydown.arrowDown.prevent",["$event.target","1"]),en("keydown.arrowUp.prevent",["$event.target","-1"])],bn.prototype,"onKeyDownArrow",null),b([en("mouseleave",["$event.target"])],bn.prototype,"handleFocusLossIfNecessary",null),bn=ob=b([E(0,y(I)),E(1,y(Vv))],bn);let sb=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["ng-template","tuiDataList",""]]}),n})(),Fq=(()=>{let n=class{constructor(){this.label=""}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["tui-opt-group"]],hostAttrs:["role","group"],hostVars:1,hostBindings:function(t,i){2&t&&yt("data-label",i.label)},inputs:{label:"label"}}),b([A(),pe("attr.data-label"),U()],n.prototype,"label",void 0),n})(),fO=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,wa,dr]]}),n})(),Nq=(()=>{let n=class{constructor(){this.focusable=!0}get tabIndex(){return this.focusable?0:-1}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["","tuiFocusable",""]],hostVars:1,hostBindings:function(t,i){2&t&&vc("tabIndex",i.tabIndex)},inputs:{focusable:["tuiFocusable","focusable"]}}),ie([A("tuiFocusable")],n.prototype,"focusable",void 0),ie([pe("tabIndex")],n.prototype,"tabIndex",null),n})(),kq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})(),Lq=(()=>{let n=class{constructor({nativeElement:t},i){this.tuiFocusedChange=st(we(t,"focusin"),we(t,"focusout")).pipe(J(()=>ws(t)),rn(!1),ar(),OA(1),ma(i))}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(ve))},n.\u0275dir=L({type:n,selectors:[["","tuiFocusedChange",""]],outputs:{tuiFocusedChange:"tuiFocusedChange"}}),ie([Rn()],n.prototype,"tuiFocusedChange",void 0),n=ie([re(0,y(I)),re(1,y(ve))],n),n})(),Vq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})(),Hq=(()=>{let n=class{constructor(t,i){this.pattern=t,this.isIOS=i,this.mode="text"}get patternAttribute(){return"numeric"===this.mode&&this.isIOS&&!this.pattern?"[0-9]*":this.pattern}};return n.\u0275fac=function(t){return new(t||n)(qs("pattern"),g(Ds))},n.\u0275dir=L({type:n,selectors:[["input","tuiInputMode",""]],hostVars:3,hostBindings:function(t,i){2&t&&yt("inputmode",i.mode)("x-inputmode",i.mode)("pattern",i.patternAttribute)},inputs:{mode:["tuiInputMode","mode"]}}),ie([A("tuiInputMode"),pe("attr.inputmode"),pe("attr.x-inputmode")],n.prototype,"mode",void 0),ie([pe("attr.pattern")],n.prototype,"patternAttribute",null),n=ie([re(0,Zg("pattern")),re(1,y(Ds))],n),n})(),Bq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const pO="tuiAutofillOn",gO="tuiAutofillOff",$q=`\n@keyframes ${pO} {\n    from {\n        content: '1';\n    }\n\n    to {\n        content: '2';\n    }\n}\n\n@keyframes ${gO} {\n    from {\n        content: '2';\n    }\n\n    to {\n        content: '1';\n    }\n}`;let jq=(()=>{let n=class{constructor(t,{nativeElement:i},r,o){this.tuiAutofilledChange=new ft,t.addStyle($q,"TuiAutofilledDirective"),we(i,"keydown").pipe(Wn(1),rt(o),Xl(r)).subscribe()}onAnimationStart({animationName:t}){t===pO?this.tuiAutofilledChange.emit(!0):t===gO&&this.tuiAutofilledChange.emit(!1)}};return n.\u0275fac=function(t){return new(t||n)(g(fx),g(I),g(Vt),g(ae))},n.\u0275dir=L({type:n,selectors:[["input","tuiAutofilledChange",""]],hostAttrs:[1,"tui-autofill"],hostBindings:function(t,i){1&t&&Fe("animationstart",function(o){return i.onAnimationStart(o)})},outputs:{tuiAutofilledChange:"tuiAutofilledChange"},features:[ee([ae])]}),ie([Rn()],n.prototype,"tuiAutofilledChange",void 0),ie([en("animationstart",["$event"])],n.prototype,"onAnimationStart",null),n=ie([re(0,y(fx)),re(1,y(I)),re(2,y(Vt)),re(3,y(ae))],n),n})(),Uq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const mO=new P("Controls configuration of hints",{factory:()=>new jr});var _O;let jr=_O=class extends fr{constructor(){super(...arguments),this.content=null,this.direction="bottom-left",this.mode=null,this.showDelay=500,this.hideDelay=200}};jr.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(jr)))(t||jr)}}(),jr.\u0275dir=L({type:jr,selectors:[["","tuiHintContent",""]],inputs:{content:["tuiHintContent","content"],direction:["tuiHintDirection","direction"],mode:["tuiHintMode","mode"],showDelay:["tuiHintShowDelay","showDelay"],hideDelay:["tuiHintHideDelay","hideDelay"]},features:[ee([{provide:mO,useExisting:le(()=>_O)}]),ye]}),b([A("tuiHintContent"),U()],jr.prototype,"content",void 0),b([A("tuiHintDirection"),U()],jr.prototype,"direction",void 0),b([A("tuiHintMode"),U()],jr.prototype,"mode",void 0),b([A("tuiHintShowDelay"),U()],jr.prototype,"showDelay",void 0),b([A("tuiHintHideDelay"),U()],jr.prototype,"hideDelay",void 0);const ab=new P("watched hint controller"),zq=[ae,{provide:ab,deps:[mO,Vt,ae],useFactory:EA}];let Gq=(()=>{let n=class{constructor(t,i,r){this.isMobile=r,this.content="",this.mode=null,this.direction="bottom-left",this.showDelay=500,this.hideDelay=200,this.describeId="",this.globalMode=null,i.pipe(rt(t)).subscribe(o=>{this.globalMode=o})}get computedMode(){return this.mode||this.globalMode}stopOnMobile(t){this.isMobile&&(t.preventDefault(),t.stopPropagation())}};return n.\u0275fac=function(t){return new(t||n)(g(ae),g(jo),g(Hr))},n.\u0275cmp=je({type:n,selectors:[["tui-tooltip"]],hostVars:1,hostBindings:function(t,i){1&t&&Fe("mousedown",function(o){return i.stopOnMobile(o)})("click",function(o){return i.stopOnMobile(o)}),2&t&&yt("data-mode",i.computedMode)},inputs:{content:"content",mode:"mode",direction:"direction",showDelay:"showDelay",hideDelay:"hideDelay",describeId:"describeId"},features:[ee([ae,Ip])],decls:1,vars:6,consts:[["src","tuiIconTooltipLarge","automation-id","tui-tooltip__icon",1,"icon",3,"tuiHintId","tuiHint","tuiHintDirection","tuiHintShowDelay","tuiHintHideDelay","tuiHintMode"]],template:function(t,i){1&t&&he(0,"tui-svg",0),2&t&&M("tuiHintId",i.describeId)("tuiHint",i.content)("tuiHintDirection",i.direction)("tuiHintShowDelay",i.showDelay)("tuiHintHideDelay",i.hideDelay)("tuiHintMode",i.computedMode)},directives:[ba,VA],styles:["[_nghost-%COMP%]{transition-property:color;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;position:relative;display:inline-block;width:1.5rem;height:1.5rem;vertical-align:middle;font-size:0;line-height:0;cursor:pointer;color:var(--tui-text-03)}[_nghost-%COMP%]:hover{color:var(--tui-text-02)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onLight][_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=error][_nghost-%COMP%]{color:var(--tui-error-fill)}.icon[_ngcontent-%COMP%]{transition-property:opacity,color;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;width:100%;height:100%}[_nghost-%COMP%]:not([data-mode])   .icon._hint_hovered[_ngcontent-%COMP%]{color:var(--tui-text-02)}[data-mode=onDark][_nghost-%COMP%]   .icon[_ngcontent-%COMP%], [data-mode=onLight][_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}[data-mode=onDark][_nghost-%COMP%]   .icon._hint_hovered[_ngcontent-%COMP%], [data-mode=onDark][_nghost-%COMP%]   .icon[_ngcontent-%COMP%]:hover, [data-mode=onLight][_nghost-%COMP%]   .icon._hint_hovered[_ngcontent-%COMP%], [data-mode=onLight][_nghost-%COMP%]   .icon[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),b([A(),U()],n.prototype,"content",void 0),b([A(),U()],n.prototype,"mode",void 0),b([A(),U()],n.prototype,"direction",void 0),b([A(),U()],n.prototype,"showDelay",void 0),b([A(),U()],n.prototype,"hideDelay",void 0),b([A(),U()],n.prototype,"describeId",void 0),b([pe("attr.data-mode")],n.prototype,"computedMode",null),b([en("mousedown",["$event"]),en("click",["$event"])],n.prototype,"stopOnMobile",null),n=b([E(0,y(ae)),E(1,y(jo)),E(2,y(Hr))],n),n})(),Wq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,wa,J8]]}),n})();function qq(n,e){return n?n[0]:e}let Kq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["input","tuiMaskAccessor",""]],features:[ee([{provide:hr,deps:[[new Ke,sx],od],useFactory:qq,multi:!0}])]}),n})(),Qq=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const Zq=["focusableElement"];function Yq(n,e){if(1&n&&(F(0,"div",14),_n(1),N()),2&n){const t=W();Ol("padding-left",t.borderLeft,"rem")("border-right-width",t.borderRight,"rem")}}function Jq(n,e){1&n&&he(0,"tui-svg",16),2&n&&M("src",e.$implicit)}function Xq(n,e){if(1&n&&(F(0,"div",15),$(1,Jq,1,1,"ng-template"),N()),2&n){const t=W();M("content",t.iconContent)("context",t.context)}}function e9(n,e){if(1&n&&(F(0,"label",17),_n(1,1),N()),2&n){const t=W();vt("placeholder_raised",t.placeholderRaised),M("for",t.id)}}function t9(n,e){if(1&n&&(F(0,"span",23),Qe(1),N()),2&n){const t=W(2);vt("postfix_shifted",t.postfixShifted),B(1),ds(t.postfix)}}function n9(n,e){if(1&n&&(F(0,"div",18),F(1,"span",19),F(2,"span",20),Qe(3),N(),F(4,"span",21),Qe(5),N(),$(6,t9,2,3,"span",22),N(),N()),2&n){const t=W();B(3),ds(t.value),B(2),ds(t.computedFiller),B(1),M("ngIf",t.hasPostfix)}}function i9(n,e){1&n&&he(0,"tui-svg",25),2&n&&M("src",e.$implicit)}function r9(n,e){1&n&&(F(0,"div",24),$(1,i9,1,1,"ng-template"),N()),2&n&&M("content",W().controller.customContent)}function o9(n,e){if(1&n){const t=fo();F(0,"tui-svg",26),Fe("click.stop",function(){return Zi(t),W().clear()}),N()}}function s9(n,e){if(1&n&&he(0,"tui-tooltip",27),2&n){const t=W();M("describeId",t.id)("content",t.hintController.content)("direction",t.hintController.direction)("mode",t.hintController.mode)("showDelay",t.hintController.showDelay)("hideDelay",t.hintController.hideDelay)}}function a9(n,e){1&n&&he(0,"tui-svg",16),2&n&&M("src",e.$implicit)}function l9(n,e){if(1&n&&(F(0,"div",28),$(1,a9,1,1,"ng-template"),N()),2&n){const t=W();M("content",t.iconContent)("context",t.context)}}const u9=[[["","polymorpheus-outlet",""]],"*"],c9=["[polymorpheus-outlet]","*"],d9=[{provide:dp,useExisting:le(()=>Xp)},wq,zq,Ip];let Xp=(()=>{let n=class extends Qt{constructor(t,i,r,o){super(),this.mode$=t,this.appearance=i,this.controller=r,this.hintController=o,this.editable=!0,this.filler="",this.iconAlign="right",this.iconContent=null,this.readOnly=!1,this.invalid=!1,this.disabled=!1,this.postfix="",this.value="",this.valueChange=new ft,this.autofilledChange=new ft,this.autofilled=!1}get nativeFocusableElement(){return this.computedDisabled||!this.focusableElement?null:this.focusableElement.nativeElement}get focused(){return ws(this.nativeFocusableElement)}get size(){return this.controller.size}get labelOutside(){return this.controller.labelOutside}get computedInvalid(){return!this.readOnly&&!this.disabled&&this.invalid}get inputHidden(){return!!this.content}get isContextTable(){return"table"===this.appearance}get hasTooltip(){return!!this.hintController&&!!this.hintController.content&&!this.disabled}get hasCustomContent(){return!!this.controller.customContent}get iconPaddingLeft(){return"s"===this.size?1.5:1.75}get borderLeft(){return(this.iconAlignLeft?this.iconPaddingLeft:0)+AS(tp(this.size,"m"),!1)}get borderRight(){return AS(tp(this.size,"m"),this.iconAlignRight,this.hasCleaner,this.hasTooltip,this.hasCustomContent)}get hasPlaceholder(){return this.big&&!this.labelOutside||!this.hasValue&&!this.hasExampleText&&!this.hasPostfix}get placeholderRaised(){return this.big&&!this.labelOutside&&(this.computedFocused&&!this.readOnly||this.hasValue||this.autofilled)}get iconAlignLeft(){return this.hasIcon&&"left"===this.iconAlign}get iconAlignRight(){return this.hasIcon&&"right"===this.iconAlign}get hasValue(){return!!this.value}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&!this.disabled&&!this.readOnly}get rightAligned(){return"table"===this.appearance&&("numeric"===this.controller.inputMode||"decimal"===this.controller.inputMode)}get hasValueDecoration(){return this.computedFocused&&!this.readOnly&&this.hasFillerOrExampleText||this.hasPostfix}get hasPostfix(){return(this.hasValue||this.computedFocused&&!this.readOnly)&&!!this.postfix}get hasFillerOrExampleText(){return this.hasValue?!!this.computedFiller:!!this.controller.exampleText}get postfixShifted(){return"%"!==this.postfix&&(this.hasFillerOrExampleText||this.hasValue)}get computedFiller(){return this.hasExampleText?this.controller.exampleText:this.filler.slice(this.value.length)}get name(){return"cc-exp"===this.controller.autocomplete?"ccexpiryyear":null}get context(){return this.getContext(this.size)}clear(){this.nativeFocusableElement&&(this.nativeFocusableElement.value=""),this.updateValue("")}onMouseDown(t){!this.focusableElement||t.target===this.focusableElement.nativeElement||(t.preventDefault(),Di(this.focusableElement.nativeElement))}onModelChange(t){this.updateValue(t)}onHovered(t){this.updateHovered(t)}onFocused(t){this.updateFocused(t)}onAutofilled(t){this.updateAutofilled(t)}get big(){return"s"!==this.size}get hasIcon(){return!!this.iconContent}get hasExampleText(){return!!this.controller.exampleText&&this.computedFocused&&!this.hasValue&&!this.readOnly}getContext(t){return{$implicit:t}}updateAutofilled(t){this.autofilled!==t&&(this.autofilled=t,this.autofilledChange.emit(t))}updateValue(t){this.value=t,this.valueChange.emit(t)}};return n.\u0275fac=function(t){return new(t||n)(g(jo),g(ox),g(ib),g(ab))},n.\u0275cmp=je({type:n,selectors:[["tui-primitive-textfield"]],contentQueries:function(t,i,r){if(1&t&&Pr(r,Kn,5),2&t){let o;Bt(o=$t())&&(i.content=o.first)}},viewQuery:function(t,i){if(1&t&&Ni(Zq,5),2&t){let r;Bt(r=$t())&&(i.focusableElement=r.first)}},hostVars:9,hostBindings:function(t,i){1&t&&Fe("$.data-mode.attr",function(){return i.mode$}),2&t&&(yt("data-tui-host-size",i.size),vt("_readonly",i.readOnly)("_label-outside",i.labelOutside)("_invalid",i.computedInvalid)("_right-aligned",i.rightAligned))},inputs:{editable:"editable",filler:"filler",iconAlign:"iconAlign",iconContent:"iconContent",readOnly:"readOnly",invalid:"invalid",disabled:"disabled",postfix:"postfix",value:"value"},outputs:{valueChange:"valueChange",autofilledChange:"autofilledChange"},features:[ee(d9),ye],ngContentSelectors:c9,decls:15,vars:37,consts:[["automation-id","tui-primitive-textfield__wrapper","tuiPreventDefault","click",3,"appearance","readOnly","disabled","focused","hovered","pressed","invalid","tuiHoveredChange","mousedown"],["tuiMaskAccessor","","automation-id","tui-primitive-textfield__native-input",1,"input",3,"autocomplete","type","id","readOnly","tuiInputMode","tuiFocusable","tuiDescribedBy","ngModel","ngModelChange","tuiFocusedChange","tuiAutofilledChange"],["focusableElement",""],["automation-id","tui-primitive-textfield__value","class","input input_template",3,"paddingLeft","borderRightWidth",4,"ngIf"],[1,"content"],["polymorpheus-outlet","","class","icon icon_left",3,"content","context",4,"ngIf"],[1,"wrapper"],["aria-hidden","true",1,"value"],["automation-id","tui-primitive-textfield__placeholder","class","placeholder",3,"placeholder_raised","for",4,"ngIf"],["class","value-decoration","automation-id","tui-primitive-textfield__value-decoration","aria-hidden","true",4,"ngIf"],["polymorpheus-outlet","","class","custom-content","automation-id","tui-primitive-textfield__custom-content",3,"content",4,"ngIf"],["class","cleaner","automation-id","tui-primitive-textfield__cleaner","src","tuiIconCloseLarge",3,"click.stop",4,"ngIf"],["automation-id","tui-primitive-textfield__tooltip",3,"describeId","content","direction","mode","showDelay","hideDelay",4,"ngIf"],["polymorpheus-outlet","","class","icon",3,"content","context",4,"ngIf"],["automation-id","tui-primitive-textfield__value",1,"input","input_template"],["polymorpheus-outlet","",1,"icon","icon_left",3,"content","context"],[3,"src"],["automation-id","tui-primitive-textfield__placeholder",1,"placeholder",3,"for"],["automation-id","tui-primitive-textfield__value-decoration","aria-hidden","true",1,"value-decoration"],[1,"value-decoration-inner"],[1,"ghost"],["automation-id","tui-primitive-textfield__example-text"],["class","postfix",3,"postfix_shifted",4,"ngIf"],[1,"postfix"],["polymorpheus-outlet","","automation-id","tui-primitive-textfield__custom-content",1,"custom-content",3,"content"],[1,"custom-icon",3,"src"],["automation-id","tui-primitive-textfield__cleaner","src","tuiIconCloseLarge",1,"cleaner",3,"click.stop"],["automation-id","tui-primitive-textfield__tooltip",3,"describeId","content","direction","mode","showDelay","hideDelay"],["polymorpheus-outlet","",1,"icon",3,"content","context"]],template:function(t,i){1&t&&(yi(u9),F(0,"tui-wrapper",0),Fe("tuiHoveredChange",function(o){return i.onHovered(o)})("mousedown",function(o){return i.onMouseDown(o)}),F(1,"input",1,2),Fe("ngModelChange",function(o){return i.onModelChange(o)})("tuiFocusedChange",function(o){return i.onFocused(o)})("tuiAutofilledChange",function(o){return i.onAutofilled(o)}),N(),$(3,Yq,2,4,"div",3),F(4,"div",4),$(5,Xq,2,2,"div",5),F(6,"div",6),F(7,"span",7),Qe(8),N(),$(9,e9,2,3,"label",8),$(10,n9,7,3,"div",9),N(),$(11,r9,2,1,"div",10),$(12,o9,1,0,"tui-svg",11),$(13,s9,1,6,"tui-tooltip",12),$(14,l9,2,2,"div",13),N(),N()),2&t&&(M("appearance",i.appearance)("readOnly",i.readOnly)("disabled",i.disabled)("focused",i.computedFocused)("hovered",i.computedHovered)("pressed",i.computedPressed)("invalid",i.computedInvalid),B(1),Ol("border-left-width",i.borderLeft,"rem")("border-right-width",i.borderRight,"rem"),vt("input_hidden",i.inputHidden),M("autocomplete",i.controller.autocomplete)("type",i.controller.type)("id",i.id)("readOnly",i.readOnly||!i.editable)("tuiInputMode",i.controller.inputMode)("tuiFocusable",i.computedFocusable)("tuiDescribedBy",i.id)("ngModel",i.value),yt("disabled",i.computedDisabled||null)("maxLength",i.controller.maxLength)("name",i.name)("aria-placeholder",i.controller.exampleText)("aria-invalid",i.computedInvalid),B(2),M("ngIf",i.inputHidden),B(2),M("ngIf",i.iconAlignLeft),B(2),vt("value_visible",i.isContextTable),B(1),ri(" ",i.value," "),B(1),M("ngIf",i.hasPlaceholder),B(1),M("ngIf",i.hasValueDecoration),B(1),M("ngIf",i.hasCustomContent),B(1),M("ngIf",i.hasCleaner),B(1),M("ngIf",i.hasTooltip),B(1),M("ngIf",i.iconAlignRight))},directives:[SA,UA,HA,Kq,Hq,od,jq,Nq,Z8,Xv,dd,Lq,Rt,Kn,ba,Gq],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:block;border-radius:var(--tui-radius-m)}[data-tui-host-size='s'][_nghost-%COMP%]{height:var(--tui-height-s);min-height:var(--tui-height-s);max-height:var(--tui-height-s)}[data-tui-host-size='m'][_nghost-%COMP%]{height:var(--tui-height-m);min-height:var(--tui-height-m);max-height:var(--tui-height-m)}[data-tui-host-size='l'][_nghost-%COMP%]{height:var(--tui-height-l);min-height:var(--tui-height-l);max-height:var(--tui-height-l);font-size:.9375rem}.input[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;padding:0;border:solid transparent;border-width:0 .75rem;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit}.input[_ngcontent-%COMP%]:-webkit-autofill, .input[_ngcontent-%COMP%]:-webkit-autofill:focus, .input[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 1000px var(--tui-autofill) inset!important}[data-mode=onDark][_nghost-%COMP%]   .input[_ngcontent-%COMP%]:-webkit-autofill, [data-mode=onDark][_nghost-%COMP%]   .input[_ngcontent-%COMP%]:-webkit-autofill:focus, [data-mode=onDark][_nghost-%COMP%]   .input[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01-night)!important;border-color:var(--tui-autofill-night);-webkit-box-shadow:0 0 0 1000px var(--tui-autofill-night) inset!important}[data-tui-host-size='s'][_nghost-%COMP%]   .input[_ngcontent-%COMP%]{border-width:0 5rem 0 .75rem}[data-tui-host-size='l'][_nghost-%COMP%]   .input[_ngcontent-%COMP%]{border-width:0 1rem}._disabled[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{pointer-events:none}._right-aligned[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{text-align:right}[data-tui-host-size='l'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]{padding-top:1.25rem}[data-tui-host-size='l'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]:-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{width:114%;transform:translateY(-.625rem) scale(.87)}[data-tui-host-size='m'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]{padding-top:1.125rem}[data-tui-host-size='m'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]:-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{width:118%;transform:translateY(-.5rem) scale(.85)}.ghost[_ngcontent-%COMP%]{visibility:hidden;white-space:pre;text-overflow:clip}.filler[_ngcontent-%COMP%]{vertical-align:middle}.content[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:0 .75rem;box-sizing:border-box;align-items:center;overflow:hidden}[data-tui-host-size='s'][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding-right:.5rem}[data-tui-host-size='l'][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding-left:1rem}.wrapper[_ngcontent-%COMP%]{flex:1;min-width:0;padding-right:.25rem}.value-decoration[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.25rem;margin:-1.25rem 0;padding:.625rem 0;box-sizing:content-box;color:var(--tui-text-03);letter-spacing:normal;text-transform:none}._right-aligned[_nghost-%COMP%]   .value-decoration[_ngcontent-%COMP%]{flex-direction:row-reverse;margin-right:-.25rem}[data-tui-host-size='m']._label-outside[_nghost-%COMP%]   .value-decoration[_ngcontent-%COMP%]{margin-top:-1.1875rem}[data-mode=onDark][_nghost-%COMP%]   .value-decoration[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.value-decoration-inner[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.postfix[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;color:var(--tui-text-01)}.postfix_shifted[_ngcontent-%COMP%]{margin-left:.5ch}[data-mode=onDark][_nghost-%COMP%]   .postfix[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}.placeholder[_ngcontent-%COMP%]{transition-property:transform,min-width,color,letter-spacing;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;height:1.25rem;font-size:.8125rem;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;color:var(--tui-text-02);transform-origin:left;letter-spacing:normal;text-transform:none}.placeholder_raised[_ngcontent-%COMP%]{width:114%;transform:translateY(-.625rem) scale(.87)}[data-tui-host-size='m'][_nghost-%COMP%]   .placeholder_raised[_ngcontent-%COMP%]{width:118%;transform:translateY(-.5rem) scale(.85);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}[data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%], [data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='l']._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m']._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-tui-host-size='l'][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{font-size:.9375rem}[data-tui-host-size='l']._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m']._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-tui-host-size='l'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='l'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}.cleaner[_ngcontent-%COMP%]{transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;color:var(--tui-text-03);position:relative;box-sizing:border-box;cursor:pointer;transition-property:color,transform}.cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-text-02)}._disabled[_nghost-%COMP%]   .cleaner[_ngcontent-%COMP%], ._readonly[_nghost-%COMP%]   .cleaner[_ngcontent-%COMP%]{pointer-events:none}[data-mode=onDark][_nghost-%COMP%]   .cleaner[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]   .cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-text-01-night)}.icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:var(--tui-text-03)}.icon_left[_ngcontent-%COMP%]{margin:0 .5rem 0 -.25rem}[data-tui-host-size='s'][_nghost-%COMP%]   .icon_left[_ngcontent-%COMP%]{margin-right:.25rem}.value[_ngcontent-%COMP%]{height:0;display:none;visibility:hidden;white-space:pre}.value_visible[_ngcontent-%COMP%]{display:block}.custom-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;margin-right:.25rem;pointer-events:none}.custom-icon[_ngcontent-%COMP%]{width:100%;height:100%}.icon[_ngcontent-%COMP%]{transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;color:var(--tui-text-03);box-sizing:border-box;cursor:pointer;transition-property:color,transform;position:relative;pointer-events:none}.icon[_ngcontent-%COMP%]:hover{color:var(--tui-text-02)}._disabled[_nghost-%COMP%]   .icon[_ngcontent-%COMP%], ._readonly[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{pointer-events:none}[data-mode=onDark][_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]   .icon[_ngcontent-%COMP%]:hover{color:var(--tui-text-01-night)}._hovered[_nghost-%COMP%]:not(._readonly)   .icon[_ngcontent-%COMP%]{color:var(--tui-text-02)}[data-mode=onDark]._hovered[_nghost-%COMP%]:not(._readonly)   .icon[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onLight]._hovered[_nghost-%COMP%]:not(._readonly)   .icon[_ngcontent-%COMP%]{color:var(--tui-text-01)}.input_hidden[_ngcontent-%COMP%]{opacity:0;text-indent:-10em;-webkit-user-select:none}[data-tui-host-size][_nghost-%COMP%]   .input_template[_ngcontent-%COMP%]{display:flex;width:100%;max-width:100%;align-items:center;padding-right:0;border:0 solid transparent;pointer-events:none}.input[_ngcontent-%COMP%]::-webkit-caps-lock-indicator{margin-right:.375rem;align-self:center}[data-tui-host-size='l'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]::-webkit-caps-lock-indicator{margin-top:-1.25rem}.input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button, .input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button, .input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button{background-color:var(--tui-text-03)}[data-tui-host-size='l'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button, [data-tui-host-size='l'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button, [data-tui-host-size='l'][_nghost-%COMP%]:not(._label-outside)   .input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button{margin-top:-1.25rem}.input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button:hover, .input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button:hover, .input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button:hover{background-color:var(--tui-text-02)}.text-template[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),b([A(),U()],n.prototype,"editable",void 0),b([A(),U()],n.prototype,"filler",void 0),b([A(),U()],n.prototype,"iconAlign",void 0),b([A(),U()],n.prototype,"iconContent",void 0),b([A(),pe("class._readonly"),U()],n.prototype,"readOnly",void 0),b([A(),U()],n.prototype,"invalid",void 0),b([A(),U()],n.prototype,"disabled",void 0),b([A(),U()],n.prototype,"postfix",void 0),b([A(),U()],n.prototype,"value",void 0),b([Rn()],n.prototype,"valueChange",void 0),b([Rn()],n.prototype,"autofilledChange",void 0),b([no("focusableElement")],n.prototype,"focusableElement",void 0),b([mh(Kn)],n.prototype,"content",void 0),b([pe("attr.data-tui-host-size")],n.prototype,"size",null),b([pe("class._label-outside")],n.prototype,"labelOutside",null),b([pe("class._invalid")],n.prototype,"computedInvalid",null),b([pe("class._right-aligned")],n.prototype,"rightAligned",null),b([ui],n.prototype,"getContext",null),n=b([E(0,y(jo)),E(1,y(ox)),E(2,y(ib)),E(3,y(ab))],n),n})(),p9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,g4,Qq,kq,Vq,BA,Bq,dr,xA,wa,Wq,Uq,Y8,zA]]}),n})(),g9=(()=>{let n=class{constructor(t,i){this.enabled$=new Nt;const r=i.pipe(J(o=>!!o&&(!t||!o.length||o.every(s=>!t.contains(s)))));this.tuiObscured=this.enabled$.pipe(St(o=>o?r:cr))}set tuiObscuredEnabled(t){this.enabled$.next(t)}};return n.\u0275fac=function(t){return new(t||n)(g(Ft,8),g(iu,2))},n.\u0275dir=L({type:n,selectors:[["","tuiObscured",""]],inputs:{tuiObscuredEnabled:"tuiObscuredEnabled"},outputs:{tuiObscured:"tuiObscured"},features:[ee([iu,Go,ae])]}),ie([A(),ou()],n.prototype,"tuiObscuredEnabled",null),ie([Rn()],n.prototype,"tuiObscured",void 0),n=ie([re(0,Ke()),re(0,y(Ft)),re(1,Cr()),re(1,y(iu))],n),n})(),m9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();const eg=new P("Controls configuration of hints",{factory:()=>new Ln});var yO;let Ln=yO=class extends fr{constructor(){super(...arguments),this.align="right",this.direction=null,this.limitWidth="auto",this.minHeight=80,this.maxHeight=400,this.sided=!1}};Ln.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Ln)))(t||Ln)}}(),Ln.\u0275dir=L({type:Ln,selectors:[["","tuiDropdownAlign",""],["","tuiDropdownDirection",""],["","tuiDropdownLimitWidth",""],["","tuiDropdownMinHeight",""],["","tuiDropdownMaxHeight",""],["","tuiDropdownSided",""]],inputs:{align:["tuiDropdownAlign","align"],direction:["tuiDropdownDirection","direction"],limitWidth:["tuiDropdownLimitWidth","limitWidth"],minHeight:["tuiDropdownMinHeight","minHeight"],maxHeight:["tuiDropdownMaxHeight","maxHeight"],sided:["tuiDropdownSided","sided"]},features:[ee([{provide:eg,useExisting:le(()=>yO)}]),ye]}),b([A("tuiDropdownAlign"),U()],Ln.prototype,"align",void 0),b([A("tuiDropdownDirection"),U()],Ln.prototype,"direction",void 0),b([A("tuiDropdownLimitWidth"),U()],Ln.prototype,"limitWidth",void 0),b([A("tuiDropdownMinHeight"),U()],Ln.prototype,"minHeight",void 0),b([A("tuiDropdownMaxHeight"),U()],Ln.prototype,"maxHeight",void 0),b([A("tuiDropdownSided"),U()],Ln.prototype,"sided",void 0);const tg=new P("watched dropdown controller"),_9=[ae,{provide:tg,deps:[eg,Vt,ae],useFactory:EA}],y9=["wrapper"];function v9(n,e){if(1&n){const t=fo();F(0,"div",3,4),Fe("keydown.esc",function(r){return Zi(t),W().onKeyDownEsc(r)})("keydown",function(r){return Zi(t),W().onKeydown(r)}),N(),he(2,"div")}if(2&n){const t=W();M("content",t.content)("context",t.contentContext)}}let vO=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=L({type:n,selectors:[["","tuiHostedDropdownHost",""]]}),n})();var lb;let wt=lb=class{constructor(e,t){this.elementRef=e,this.controller=t,this.content="",this.canOpen=!0,this.open=!1,this.openChange=new ft,this.focusedChange=new ft}get host(){return this.dropdownHost?this.dropdownHost.nativeElement:this.elementRef.nativeElement}get dropdown(){return this.dropdownDirective&&null!==this.dropdownDirective.dropdownBoxRef?this.dropdownDirective.dropdownBoxRef.location.nativeElement:null}get nativeFocusableElement(){return Mv(this.host)?this.host:Jl(this.host,!1,this.elementRef.nativeElement)}get contentContext(){return this.calculateContentContext(this.activeZone)}get focused(){return ap(this.host)||this.open&&!!this.wrapper&&ap(this.wrapper.nativeElement)}onFocusIn(e){(this.dropdownHost?this.dropdownHost.nativeElement:this.nativeFocusableElement||this.elementRef.nativeElement).contains(e)||this.updateOpen(!1)}onClick(e){!this.hostEditable&&(this.dropdownHost?this.dropdownHost.nativeElement:this.nativeFocusableElement||this.host).contains(e)&&this.updateOpen(!this.open)}onKeyDownEsc(e){!this.open||(e.stopPropagation(),this.closeDropdown())}onArrow(e,t){this.focusDropdown(e,t)}onKeydown({key:e,target:t,defaultPrevented:i}){!i&&function(n){return 1===n.length||-1!==l5.indexOf(n)}(e)&&this.hostEditable&&t instanceof HTMLElement&&!Cv(t)&&this.focusHost()}onActiveZone(e){this.updateFocused(e),e||this.updateOpen(!1)}onHostObscured(e){e&&this.closeDropdown()}updateOpen(e){e&&!this.canOpen||(this.open=e,this.openChange.emit(e))}get hostEditable(){const e=this.nativeFocusableElement||this.host;return e instanceof HTMLElement&&Cv(e)}calculateContentContext(e){return{$implicit:e}}focusDropdown(e,t){const i=this.nativeFocusableElement;if(!(i&&i instanceof HTMLElement&&e.target instanceof Node&&i.contains(e.target)))return;if(!(this.wrapper&&this.open&&null!==this.dropdown&&this.wrapper.nativeElement.nextElementSibling instanceof HTMLElement))return this.updateOpen(!0),void(Cv(i)||e.preventDefault());const o=Jl(t?this.wrapper.nativeElement:this.wrapper.nativeElement.nextElementSibling,!t,this.wrapper.nativeElement);null!==o&&(Di(o),e.preventDefault())}closeDropdown(){this.focused&&this.focusHost(),this.updateOpen(!1)}focusHost(){const e=this.nativeFocusableElement;null!==e&&Di(e,!0,!0)}updateFocused(e){this.focusedChange.emit(e)}};wt.\u0275fac=function(e){return new(e||wt)(g(I),g(tg))},wt.\u0275cmp=je({type:wt,selectors:[["tui-hosted-dropdown"]],contentQueries:function(e,t,i){if(1&e&&Pr(i,vO,5,I),2&e){let r;Bt(r=$t())&&(t.dropdownHost=r.first)}},viewQuery:function(e,t){if(1&e&&(Ni(Ft,5),Ni(y9,5,I),Ni(kn,5)),2&e){let i;Bt(i=$t())&&(t.activeZone=i.first),Bt(i=$t())&&(t.wrapper=i.first),Bt(i=$t())&&(t.dropdownDirective=i.first)}},hostVars:2,hostBindings:function(e,t){1&e&&Fe("focusin",function(r){return t.onFocusIn(r.target)})("click",function(r){return t.onClick(r.target)})("keydown.esc",function(r){return t.onKeyDownEsc(r)})("keydown.arrowDown",function(r){return t.onArrow(r,!0)})("keydown.arrowUp",function(r){return t.onArrow(r,!1)}),2&e&&vt("_hosted_dropdown_focused",t.focused)},inputs:{content:"content",canOpen:"canOpen",open:"open"},outputs:{openChange:"openChange",focusedChange:"focusedChange"},features:[ee([{provide:dp,useExisting:le(()=>lb)},_9])],ngContentSelectors:["*"],decls:4,vars:10,consts:[[1,"wrapper",3,"tuiDropdownAlign","tuiDropdownDirection","tuiDropdownHost","tuiDropdownLimitWidth","tuiDropdownMinHeight","tuiDropdownMaxHeight","tuiDropdownSided","tuiDropdownContent","tuiDropdown","tuiObscuredEnabled","tuiObscured","tuiActiveZoneChange"],["polymorpheus",""],["dropdown","polymorpheus"],["polymorpheus-outlet","",3,"content","context","keydown.esc","keydown"],["wrapper",""]],template:function(e,t){if(1&e&&(yi(),F(0,"div",0),Fe("tuiObscured",function(r){return t.onHostObscured(r)})("tuiActiveZoneChange",function(r){return t.onActiveZone(r)}),_n(1),$(2,v9,3,2,"ng-template",1,2,ki),N()),2&e){const i=mn(3);M("tuiDropdownAlign",t.controller.align)("tuiDropdownDirection",t.controller.direction)("tuiDropdownHost",t.nativeFocusableElement)("tuiDropdownLimitWidth",t.controller.limitWidth)("tuiDropdownMinHeight",t.controller.minHeight)("tuiDropdownMaxHeight",t.controller.maxHeight)("tuiDropdownSided",t.controller.sided)("tuiDropdownContent",i)("tuiDropdown",t.open&&t.canOpen)("tuiObscuredEnabled",t.open)}},directives:[kn,g9,Ft,yx,Kn],styles:["[_nghost-%COMP%]{display:inline-flex}.wrapper[_ngcontent-%COMP%]{border-radius:inherit;height:inherit;flex:1 1 auto;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}"],changeDetection:0}),wt.ctorParameters=()=>[{type:I,decorators:[{type:y,args:[I]}]},{type:Ln,decorators:[{type:y,args:[tg]}]}],b([A(),U()],wt.prototype,"content",void 0),b([A(),U()],wt.prototype,"canOpen",void 0),b([A(),U()],wt.prototype,"open",void 0),b([Rn()],wt.prototype,"openChange",void 0),b([Rn()],wt.prototype,"focusedChange",void 0),b([no(Ft)],wt.prototype,"activeZone",void 0),b([mh(vO,{read:I})],wt.prototype,"dropdownHost",void 0),b([no("wrapper",{read:I})],wt.prototype,"wrapper",void 0),b([no(kn)],wt.prototype,"dropdownDirective",void 0),b([pe("class._hosted_dropdown_focused")],wt.prototype,"focused",null),b([en("focusin",["$event.target"])],wt.prototype,"onFocusIn",null),b([en("click",["$event.target"])],wt.prototype,"onClick",null),b([en("keydown.esc",["$event"])],wt.prototype,"onKeyDownEsc",null),b([en("keydown.arrowDown",["$event","true"]),en("keydown.arrowUp",["$event","false"])],wt.prototype,"onArrow",null),b([ui],wt.prototype,"calculateContentContext",null),wt=lb=b([E(0,y(I)),E(1,y(tg))],wt);let w9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,m9,dr,E0,Eq]]}),n})(),D9=(()=>{let n=class{constructor(t,i){this.dropdown=t,this.textfieldSize=i}get arrowIcon(){return tp(this.textfieldSize.size)?"tuiIconChevronDownLarge":"tuiIconChevronDown"}};return n.\u0275fac=function(t){return new(t||n)(g(wt),g(Jp))},n.\u0275cmp=je({type:n,selectors:[["tui-arrow"]],decls:2,vars:5,consts:[[1,"icon",3,"src"]],template:function(t,i){1&t&&(F(0,"tui-svg",0),Et(1,"async"),N()),2&t&&(vt("icon_rotated",Ot(1,3,i.dropdown.openChange)),M("src",i.arrowIcon))},directives:[ba],pipes:[Li],styles:[".icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;cursor:pointer}.icon_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),n=Nn([$r(0,y(wt)),$r(1,y(Jp))],n),n})();const C9=new yp(D9);let T9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,wa]]}),n})(),M9=(()=>{let n=class{constructor(t,i,r){this.elementRef=t,this.documentRef=i,this.destroy$=r}set tuiScrollIntoView(t){!t||Zl(0).pipe(rt(this.destroy$)).subscribe(()=>{this.elementRef.nativeElement.dispatchEvent(XS(xS,{bubbles:!0,detail:this.elementRef.nativeElement},this.documentRef))})}};return n.\u0275fac=function(t){return new(t||n)(g(I),g(ge),g(ae))},n.\u0275dir=L({type:n,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[ee([ae])]}),b([A(),ou()],n.prototype,"tuiScrollIntoView",null),n=b([E(0,y(I)),E(1,y(ge)),E(2,y(ae))],n),n})(),E9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function S9(n,e){1&n&&mc(0)}function x9(n,e){1&n&&he(0,"tui-svg",3),2&n&&M("tuiScrollIntoView",!0)}function A9(n,e){1&n&&he(0,"span",4)}let I9=(()=>{let n=class{constructor(t,i,r,o){this.context=t,this.host=i,this.option=r,this.control=o,this.selected$=function(n){return new Te(e=>{if(!n.valueChanges)throw new Error("Control does not have valueChanges");n.valueChanges.pipe(rn(n.value)).subscribe(e)})}(this.control).pipe(J(s=>bs(this.option.value)&&bs(s)&&this.matcher(s,this.option.value)))}get matcher(){return this.host.identityMatcher||OS}ngOnInit(){bs(this.option.value)&&this.host.checkOption&&this.host.checkOption(this.option.value)}};return n.\u0275fac=function(t){return new(t||n)(g(ru),g(id),g(Is),g(di))},n.\u0275cmp=je({type:n,selectors:[["tui-select-option"]],decls:5,vars:5,consts:[[4,"ngTemplateOutlet"],["automation-id","tui-select-option__checkmark","class","checkmark","src","tuiIconCheckLarge",3,"tuiScrollIntoView",4,"ngIf","ngIfElse"],["dummy",""],["automation-id","tui-select-option__checkmark","src","tuiIconCheckLarge",1,"checkmark",3,"tuiScrollIntoView"],[1,"dummy"]],template:function(t,i){if(1&t&&($(0,S9,1,0,"ng-container",0),$(1,x9,1,1,"tui-svg",1),Et(2,"async"),$(3,A9,1,0,"ng-template",null,2,ki)),2&t){const r=mn(4);M("ngTemplateOutlet",i.context.$implicit),B(1),M("ngIf",Ot(2,3,i.selected$))("ngIfElse",r)}},directives:[Ey,Rt,ba,M9],pipes:[Li],styles:["[_nghost-%COMP%]{display:flex;flex:1;align-items:center;max-width:100%}.checkmark[_ngcontent-%COMP%]{margin:0 -.375rem 0 auto;border-left:5px solid transparent}.dummy[_ngcontent-%COMP%]{width:1.5rem}"],changeDetection:0}),n=Nn([$r(0,y(ru)),$r(1,y(id)),$r(2,y(Is)),$r(3,y(di))],n),n})();const O9=new yp(I9);let P9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,wa,E9]]}),n})();const F9=[{provide:eg,deps:[[new Ke,Ln]],useFactory:function(n){return(n=n||new Ln).limitWidth="fixed",n}}];function L9(n,e){if(1&n&&he(0,"div",3),2&n){const t=W();M("content",t.computedContent)("context",t.computeContext(t.value,t.computedFocused))}}var ng;new Ke,new Ke,new Cr;const H9=O9;let Ci=ng=class extends w4{constructor(e,t,i){super(e,t),this.textfieldCleaner=i,this.identityMatcher=OS,this.valueContent="",this.arrow=C9,this.datalist=""}get nativeFocusableElement(){return this.textfield?this.textfield.nativeFocusableElement:null}get focused(){return ws(this.nativeFocusableElement)||!!this.hostedDropdown&&this.hostedDropdown.focused}get computedValue(){return null===this.value?"":String(this.value)||" "}get computedContent(){return this.valueContent||this.computedValue}get canOpen(){return!this.computedDisabled&&!this.readOnly}onValueChange(e){e||this.updateValue(null)}onActiveZone(e){this.updateFocused(e)}onHovered(e){this.updateHovered(e)}onKeyDownDelete(){this.textfieldCleaner.cleaner&&this.updateValue(null)}handleOption(e){this.focusInput(),this.updateValue(e),this.hostedDropdown&&this.hostedDropdown.updateOpen(!1)}computeContext(e,t){return{$implicit:e,active:t}}focusInput(e=!1){this.nativeFocusableElement&&Di(this.nativeFocusableElement,!0,e)}};Ci.\u0275fac=function(e){return new(e||Ci)(g(di,10),g(Vt),g(Sd))},Ci.\u0275cmp=je({type:Ci,selectors:[["tui-select"]],contentQueries:function(e,t,i){if(1&e&&Pr(i,sb,5,jn),2&e){let r;Bt(r=$t())&&(t.datalist=r.first)}},viewQuery:function(e,t){if(1&e&&(Ni(Xp,5),Ni(wt,5)),2&e){let i;Bt(i=$t())&&(t.textfield=i.first),Bt(i=$t())&&(t.hostedDropdown=i.first)}},inputs:{identityMatcher:"identityMatcher",valueContent:"valueContent"},features:[ee([{provide:dp,useExisting:le(()=>ng)},{provide:id,useExisting:le(()=>ng)},{provide:Bv,useValue:H9},F9]),ye],ngContentSelectors:["*"],decls:4,vars:13,consts:[[1,"hosted",3,"canOpen","content","tuiActiveZoneChange"],["automation-id","tui-select__textfield",1,"textfield",3,"editable","pseudoFocused","pseudoHovered","invalid","nativeId","readOnly","iconContent","disabled","focusable","value","valueChange","hoveredChange","keydown.delete.prevent","keydown.backspace.prevent"],["polymorpheus-outlet","","class","value","automation-id","tui-select__value",3,"content","context",4,"ngIf"],["polymorpheus-outlet","","automation-id","tui-select__value",1,"value",3,"content","context"]],template:function(e,t){1&e&&(yi(),F(0,"tui-hosted-dropdown",0),Fe("tuiActiveZoneChange",function(r){return t.onActiveZone(r)}),F(1,"tui-primitive-textfield",1),Fe("valueChange",function(r){return t.onValueChange(r)})("hoveredChange",function(r){return t.onHovered(r)})("keydown.delete.prevent",function(){return t.onKeyDownDelete()})("keydown.backspace.prevent",function(){return t.onKeyDownDelete()}),_n(2),$(3,L9,1,2,"div",2),N(),N()),2&e&&(M("canOpen",t.canOpen)("content",t.datalist||""),B(1),M("editable",!1)("pseudoFocused",t.computedFocused)("pseudoHovered",t.computedHovered)("invalid",t.computedInvalid)("nativeId",t.nativeId)("readOnly",t.readOnly)("iconContent",t.arrow)("disabled",t.computedDisabled)("focusable",t.computedFocusable)("value",t.computedValue),B(2),M("ngIf",null!==t.value))},directives:[wt,Ft,Xp,Rt,Kn],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:not(._readonly)     input:not(:disabled){cursor:pointer}._readonly[_nghost-%COMP%]     input{cursor:default}.hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.textfield[_ngcontent-%COMP%]{border-radius:inherit}.value[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center}"],changeDetection:0}),Ci.ctorParameters=()=>[{type:di,decorators:[{type:Ke},{type:Cr},{type:y,args:[di]}]},{type:Vt,decorators:[{type:y,args:[Vt]}]},{type:As,decorators:[{type:y,args:[Sd]}]}],Nn([A(),U()],Ci.prototype,"identityMatcher",void 0),Nn([A(),U()],Ci.prototype,"valueContent",void 0),Nn([mh(sb,{read:jn})],Ci.prototype,"datalist",void 0),Nn([no(Xp)],Ci.prototype,"textfield",void 0),Nn([no(wt)],Ci.prototype,"hostedDropdown",void 0),Nn([ui],Ci.prototype,"computeContext",null),Ci=ng=Nn([$r(0,Ke()),$r(0,Cr()),$r(0,y(di)),$r(1,y(Vt)),$r(2,y(Sd))],Ci);let B9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,dr,E0,p9,w9,P9,T9]]}),n})(),bO=(()=>{let n=class extends I{constructor({nativeElement:t}){super(t)}};return n.\u0275fac=function(t){return new(t||n)(g(I))},n.\u0275dir=L({type:n,selectors:[["","tuiElement",""]],exportAs:["elementRef"],features:[ye]}),n=ie([re(0,y(I))],n),n})(),$9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({}),n})();function j9(n,e){if(1&n&&(F(0,"button",4,5),he(2,"span",6),N()),2&n){const t=e.$implicit,i=mn(1),r=W(2);M("size",r.size)("value",t)("disabled",r.disabledItemHandler(t)),B(2),M("content",r.itemContent)("context",r.getContext(t,i))}}function U9(n,e){if(1&n&&(F(0,"tui-data-list",2),$(1,j9,3,5,"button",3),N()),2&n){const t=W();M("emptyContent",t.emptyContent),B(1),M("ngForOf",t.items)}}function z9(n,e){1&n&&he(0,"tui-loader",7)}function W9(n,e){if(1&n&&(F(0,"button",6,7),he(2,"span",8),N()),2&n){const t=e.$implicit,i=mn(1),r=W(3);M("size",r.size)("value",t)("disabled",r.disabledItemHandler(t)),B(2),M("content",r.itemContent)("context",r.getContext(t,i))}}function q9(n,e){if(1&n&&(F(0,"tui-opt-group",4),$(1,W9,3,5,"button",5),N()),2&n){const t=e.$implicit,i=e.index;M("label",W(2).labels[i]),B(1),M("ngForOf",t)}}function K9(n,e){if(1&n&&(F(0,"tui-data-list",2),$(1,q9,2,2,"tui-opt-group",3),N()),2&n){const t=W();M("emptyContent",t.emptyContent),B(1),M("ngForOf",t.items)}}function Q9(n,e){1&n&&he(0,"tui-loader",9)}const wO="[_nghost-%COMP%]{display:block}.content[_ngcontent-%COMP%]{flex:1}";var DO;let mr=DO=class{constructor(){this.items=[],this.disabledItemHandler=m5,this.emptyContent="",this.itemContent=({$implicit:e})=>(n=>String(n))(e),this.size="m",this.options=np}getContext(e,{nativeElement:t}){return{$implicit:e,active:ws(t)}}getOptions(e=!1){return this.options.toArray().filter(({disabled:t})=>e||!t).map(({value:t})=>t).filter(bs)}};var CO;mr.\u0275fac=function(e){return new(e||mr)},mr.\u0275cmp=je({type:mr,selectors:[["tui-data-list-wrapper",3,"labels",""]],viewQuery:function(e,t){if(1&e&&Ni(Is,5),2&e){let i;Bt(i=$t())&&(t.options=i)}},inputs:{items:"items",disabledItemHandler:"disabledItemHandler",emptyContent:"emptyContent",itemContent:"itemContent",size:"size"},features:[ee([{provide:Nv,useExisting:le(()=>DO)}])],decls:3,vars:2,consts:[[3,"emptyContent",4,"ngIf","ngIfElse"],["loading",""],[3,"emptyContent"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled",4,"ngFor","ngForOf"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled"],["elementRef","elementRef"],["polymorpheus-outlet","",1,"content",3,"content","context"],["automation-id","tui-data-list-wrapper__loader",1,"tui-space_vertical-3"]],template:function(e,t){if(1&e&&($(0,U9,2,2,"tui-data-list",0),$(1,z9,1,0,"ng-template",null,1,ki)),2&e){const i=mn(2);M("ngIf",t.items)("ngIfElse",i)}},directives:[Rt,bn,ms,Is,bO,Kn,v0],styles:[wO],changeDetection:0}),Nn([A(),U()],mr.prototype,"items",void 0),Nn([A(),U()],mr.prototype,"disabledItemHandler",void 0),Nn([A(),U()],mr.prototype,"emptyContent",void 0),Nn([A(),U()],mr.prototype,"itemContent",void 0),Nn([A(),U()],mr.prototype,"size",void 0),Nn([xP(le(()=>Is))],mr.prototype,"options",void 0);let Fa=CO=class extends mr{constructor(){super(...arguments),this.items=[],this.labels=[]}};Fa.\u0275fac=function(){let n;return function(t){return(n||(n=Xe(Fa)))(t||Fa)}}(),Fa.\u0275cmp=je({type:Fa,selectors:[["tui-data-list-wrapper","labels",""]],inputs:{items:"items",labels:"labels"},features:[ee([{provide:Nv,useExisting:le(()=>CO)}]),ye],attrs:["labels",""],decls:3,vars:2,consts:[[3,"emptyContent",4,"ngIf","ngIfElse"],["loading",""],[3,"emptyContent"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled",4,"ngFor","ngForOf"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled"],["elementRef","elementRef"],["polymorpheus-outlet","",1,"content",3,"content","context"],[1,"tui-space_vertical-3"]],template:function(e,t){if(1&e&&($(0,K9,2,2,"tui-data-list",0),$(1,Q9,1,0,"ng-template",null,1,ki)),2&e){const i=mn(2);M("ngIf",t.items)("ngIfElse",i)}},directives:[Rt,bn,ms,Fq,Is,bO,Kn,v0],styles:[wO],changeDetection:0}),Nn([A(),U()],Fa.prototype,"items",void 0),Nn([A(),U()],Fa.prototype,"labels",void 0);let Z9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,dr,$9,fO,CA]]}),n})();function Y9(n,e){if(1&n&&he(0,"tui-data-list-wrapper",11),2&n){const t=W(),i=mn(15);M("items",t.players)("itemContent",i)}}function J9(n,e){1&n&&he(0,"tui-data-list-wrapper",14),2&n&&M("items",W(2).deep)}function X9(n,e){1&n&&(F(0,"tui-select",12),Qe(1," Deep "),$(2,J9,1,1,"tui-data-list-wrapper",13),N())}function eK(n,e){if(1&n&&he(0,"tui-data-list-wrapper",11),2&n){const t=W(),i=mn(15);M("items",t.players)("itemContent",i)}}function tK(n,e){1&n&&he(0,"tui-data-list-wrapper",14),2&n&&M("items",W(2).deep)}function nK(n,e){1&n&&(F(0,"tui-select",15),Qe(1," Deep "),$(2,tK,1,1,"tui-data-list-wrapper",13),N())}function iK(n,e){if(1&n&&(F(0,"div"),F(1,"span",16),Qe(2),Et(3,"titlecase"),N(),N()),2&n){const t=e.$implicit;B(2),ri(" ",Ot(3,1,t.title)," ")}}class TO{constructor(e,t){this.type=e,this.title=t}}let rK=(()=>{class n{constructor(t,i,r){this.formBuilder=t,this.gameService=i,this.router=r,this.playerType=Do,this.players=[new TO(Do.AI,"Ai"),new TO(Do.HUMAN,"Human")],this.deep=[1,3,5,7,9,11],this.settingsForm=t.group({player:[this.players[0]],playerDeep:[this.deep[0]],enemy:[this.players[0]],enemyDeep:[this.deep[1]],size:[19]})}startGame(){this.gameService.initGame(this.settingsForm),this.router.navigate(["/game"])}}return n.\u0275fac=function(t){return new(t||n)(g(_4),g(tb),g(hi))},n.\u0275cmp=je({type:n,selectors:[["gomoku-settings"]],decls:16,vars:5,consts:[[1,"tui-container_adaptive","settings",3,"formGroup"],[1,"player"],["formControlName","player",3,"valueContent"],[3,"items","itemContent",4,"tuiDataList"],["formControlName","playerDeep",4,"ngIf"],[1,"player","enemy"],["formControlName","enemy",3,"valueContent"],["formControlName","enemyDeep",4,"ngIf"],[1,"btn-block"],["tuiButton","","type","button","size","xl","appearance","primary",3,"click"],["select",""],[3,"items","itemContent"],["formControlName","playerDeep"],[3,"items",4,"tuiDataList"],[3,"items"],["formControlName","enemyDeep"],[1,"card-name"]],template:function(t,i){if(1&t&&(F(0,"form",0),F(1,"div",1),F(2,"tui-select",2),Qe(3," Player "),$(4,Y9,1,2,"tui-data-list-wrapper",3),N(),$(5,X9,3,0,"tui-select",4),N(),F(6,"div",5),F(7,"tui-select",6),Qe(8," Player "),$(9,eK,1,2,"tui-data-list-wrapper",3),N(),$(10,nK,3,0,"tui-select",7),N(),F(11,"div",8),F(12,"button",9),Fe("click",function(){return i.startGame()}),Qe(13," Start Game "),N(),N(),N(),$(14,iK,4,3,"ng-template",null,10,ki)),2&t){const r=mn(15);let o,s;M("formGroup",i.settingsForm),B(2),M("valueContent",r),B(3),M("ngIf",(null==(o=i.settingsForm.get("player"))||null==o.value?null:o.value.type)===i.playerType.AI),B(2),M("valueContent",r),B(3),M("ngIf",(null==(s=i.settingsForm.get("enemy"))||null==s.value?null:s.value.type)===i.playerType.AI)}},directives:[eA,Gx,xp,Ci,Xv,p0,sb,Rt,Zt,mr],pipes:[Sy],styles:[".settings[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-around;height:100%}.settings[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:50%;transform:translate(-50%)}.settings[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:160px;grid-gap:2rem;gap:2rem;margin-top:2rem}"]}),n})();class Ze{static add(e,t){if("number"==typeof t)for(let i=0,r=e.length;i<r;i++)e[i]+=t;else for(let i=0,r=e.length;i<r;i++)e[i]+=t[i]||0;return e}static subtract(e,t){if("number"==typeof t)for(let i=0,r=e.length;i<r;i++)e[i]-=t;else for(let i=0,r=e.length;i<r;i++)e[i]-=t[i]||0;return e}static multiply(e,t){if("number"==typeof t)for(let i=0,r=e.length;i<r;i++)e[i]*=t;else{if(e.length!=t.length)throw new Error(`Cannot do element-wise multiply since the array lengths don't match: ${e.toString()} multiply-with ${t.toString()}`);for(let i=0,r=e.length;i<r;i++)e[i]*=t[i]}return e}static divide(e,t){if("number"==typeof t){if(0===t)throw new Error("Cannot divide by zero");for(let i=0,r=e.length;i<r;i++)e[i]/=t}else{if(e.length!=t.length)throw new Error(`Cannot do element-wise divide since the array lengths don't match. ${e.toString()} divide-by ${t.toString()}`);for(let i=0,r=e.length;i<r;i++)e[i]/=t[i]}return e}static dot(e,t){if(e.length!=t.length)throw new Error("Array lengths don't match");let i=0;for(let r=0,o=e.length;r<o;r++)i+=e[r]*t[r];return i}static cross2D(e,t){return e[0]*t[1]-e[1]*t[0]}static cross(e,t){return new w(e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0])}static magnitude(e){return Math.sqrt(Ze.dot(e,e))}static unit(e,t){let i=void 0===t?Ze.magnitude(e):t;return 0===i?w.make(e.length):Ze.divide(e,i)}static abs(e){return Ze.map(e,Math.abs)}static floor(e){return Ze.map(e,Math.floor)}static ceil(e){return Ze.map(e,Math.ceil)}static round(e){return Ze.map(e,Math.round)}static max(e){let t=Number.MIN_VALUE,i=0;for(let r=0,o=e.length;r<o;r++)t=Math.max(t,e[r]),t===e[r]&&(i=r);return{value:t,index:i}}static min(e){let t=Number.MAX_VALUE,i=0;for(let r=0,o=e.length;r<o;r++)t=Math.min(t,e[r]),t===e[r]&&(i=r);return{value:t,index:i}}static sum(e){let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i];return t}static map(e,t){for(let i=0,r=e.length;i<r;i++)e[i]=t(e[i],i,e);return e}}class Ye{constructor(){this.reset()}get value(){return this._33}get domMatrix(){return new DOMMatrix(Ye.toDOMMatrix(this._33))}reset(){this._33=Ye.scale2DMatrix(1,1)}scale2D(e,t=[0,0]){const i=Ye.scaleAt2DMatrix(e[0]||1,e[1]||1,t);return this._33=Ye.multiply(this._33,i),this}rotate2D(e,t=[0,0]){const i=Ye.rotateAt2DMatrix(Math.cos(e),Math.sin(e),t);return this._33=Ye.multiply(this._33,i),this}translate2D(e){const t=Ye.translate2DMatrix(e[0]||0,e[1]||0);return this._33=Ye.multiply(this._33,t),this}shear2D(e,t=[0,0]){const i=Ye.shearAt2DMatrix(Math.tan(e[0]||0),Math.tan(e[1]||1),t);return this._33=Ye.multiply(this._33,i),this}static add(e,t){if("number"!=typeof t){if(e[0].length!=t[0].length)throw new Error("Cannot add matrix if rows' and columns' size don't match.");if(e.length!=t.length)throw new Error("Cannot add matrix if rows' and columns' size don't match.")}let i=new S,r="number"==typeof t;for(let o=0,s=e.length;o<s;o++)i.push(e[o].$add(r?t:t[o]));return i}static multiply(e,t,i=!1,r=!1){let o=new S;if("number"!=typeof t)if(r){if(e.length!=t.length)throw new Error("Cannot multiply matrix element-wise because the matrices' sizes don't match.");for(let s=0,a=e.length;s<a;s++)o.push(e[s].$multiply(t[s]))}else{if(!i&&e[0].length!=t.length)throw new Error("Cannot multiply matrix if rows in matrix-a don't match columns in matrix-b.");if(i&&e[0].length!=t[0].length)throw new Error("Cannot multiply matrix if transposed and the columns in both matrices don't match.");i||(t=Ye.transpose(t));for(let s=0,a=e.length;s<a;s++){let l=w.make(t.length,0);for(let u=0,c=t.length;u<c;u++)l[u]=Ze.dot(e[s],t[u]);o.push(l)}}else for(let s=0,a=e.length;s<a;s++)o.push(e[s].$multiply(t));return o}static zipSlice(e,t,i=!1){let r=[];for(let o=0,s=e.length;o<s;o++){if(e[o].length-1<t&&!1===i)throw`Index ${t} is out of bounds`;r.push(e[o][t]||i)}return new w(r)}static zip(e,t=!1,i=!1){let r=new S,o=i?e.reduce((s,a)=>Math.max(s,a.length),0):e[0].length;for(let s=0;s<o;s++)r.push(Ye.zipSlice(e,s,t));return r}static transpose(e,t=!1,i=!1){return Ye.zip(e,t,i)}static toDOMMatrix(e){return[e[0][0],e[0][1],e[1][0],e[1][1],e[2][0],e[2][1]]}static transform2D(e,t){return new w(e[0]*t[0][0]+e[1]*t[1][0]+t[2][0],e[0]*t[0][1]+e[1]*t[1][1]+t[2][1])}static scale2DMatrix(e,t){return new S(new w(e,0,0),new w(0,t,0),new w(0,0,1))}static rotate2DMatrix(e,t){return new S(new w(e,t,0),new w(-t,e,0),new w(0,0,1))}static shear2DMatrix(e,t){return new S(new w(1,e,0),new w(t,1,0),new w(0,0,1))}static translate2DMatrix(e,t){return new S(new w(1,0,0),new w(0,1,0),new w(e,t,1))}static scaleAt2DMatrix(e,t,i){let r=Ye.scale2DMatrix(e,t);return r[2][0]=-i[0]*e+i[0],r[2][1]=-i[1]*t+i[1],r}static rotateAt2DMatrix(e,t,i){let r=Ye.rotate2DMatrix(e,t);return r[2][0]=i[0]*(1-e)+i[1]*t,r[2][1]=i[1]*(1-e)-i[0]*t,r}static shearAt2DMatrix(e,t,i){let r=Ye.shear2DMatrix(e,t);return r[2][0]=-i[1]*t,r[2][1]=-i[0]*e,r}static reflectAt2DMatrix(e,t){let i=gt.intercept(e,t);if(null==i)return[new w([-1,0,0]),new w([0,1,0]),new w([e[0]+t[0],0,1])];{let r=i.yi,o=2*Math.atan(i.slope),s=Math.cos(o),a=Math.sin(o);return[new w([s,a,0]),new w([a,-s,0]),new w([-r*a,r+r*s,1])]}}}let Os=(n,e="expected")=>x.warn("Group's length is less than "+e,n);class gt{static fromAngle(e,t,i){let r=new S(new w(e),new w(e));return r[1].toAngle(t,i,!0),r}static slope(e,t){return t[0]-e[0]==0?void 0:(t[1]-e[1])/(t[0]-e[0])}static intercept(e,t){if(t[0]-e[0]!=0){let i=(t[1]-e[1])/(t[0]-e[0]),r=e[1]-i*e[0];return{slope:i,yi:r,xi:0===i?void 0:-r/i}}}static sideOfPt2D(e,t){let i=x.iterToArray(e);return(i[1][0]-i[0][0])*(t[1]-i[0][1])-(t[0]-i[0][0])*(i[1][1]-i[0][1])}static collinear(e,t,i,r=.01){let o=new w(0,0,0).to(e).$subtract(t),s=new w(0,0,0).to(e).$subtract(i);return o.$cross(s).divide(1e3).equals(new w(0,0,0),r)}static magnitude(e){let t=x.iterToArray(e);return t.length>=2?t[1].$subtract(t[0]).magnitude():0}static magnitudeSq(e){let t=x.iterToArray(e);return t.length>=2?t[1].$subtract(t[0]).magnitudeSq():0}static perpendicularFromPt(e,t,i=!1){let r=x.iterToArray(e);if(r[0].equals(r[1]))return;let o=r[0].$subtract(r[1]),s=r[1].$subtract(t),a=s.$subtract(o.$project(s));return i?a:a.$add(t)}static distanceFromPt(e,t){let i=x.iterToArray(e),r=gt.perpendicularFromPt(i,t,!0);return r?r.magnitude():i[0].$subtract(t).magnitude()}static intersectRay2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=gt.intercept(i[0],i[1]),s=gt.intercept(r[0],r[1]),a=i[0],l=r[0];if(null==o){if(null==s)return;return new w(a[0],-s.slope*(l[0]-a[0])+l[1])}if(null==s)return new w(l[0],-o.slope*(a[0]-l[0])+a[1]);if(s.slope!=o.slope){let u=(o.slope*a[0]-s.slope*l[0]+l[1]-a[1])/(o.slope-s.slope);return new w(u,o.slope*(u-a[0])+a[1])}return o.yi==s.yi?new w(a[0],a[1]):void 0}static intersectLine2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=gt.intersectRay2D(i,r);return o&&Ae.withinBound(o,i[0],i[1])&&Ae.withinBound(o,r[0],r[1])?o:void 0}static intersectLineWithRay2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=gt.intersectRay2D(i,r);return o&&Ae.withinBound(o,i[0],i[1])?o:void 0}static intersectPolygon2D(e,t,i=!1){let r=x.iterToArray(e),o=x.iterToArray(t),s=i?gt.intersectLineWithRay2D:gt.intersectLine2D,a=new S;for(let l=0,u=o.length;l<u;l++){let d=s([o[l],o[l===u-1?0:l+1]],r);d&&a.push(d)}return a.length>0?a:void 0}static intersectLines2D(e,t,i=!1){let r=new S,o=i?gt.intersectLineWithRay2D:gt.intersectLine2D;for(let s of e)for(let a of t){let l=o(s,a);l&&r.push(l)}return r}static intersectGridWithRay2D(e,t){let i=x.iterToArray(e),r=gt.intercept(new w(i[0]).subtract(t),new w(i[1]).subtract(t)),o=new S;return r&&r.xi&&o.push(new w(t[0]+r.xi,t[1])),r&&r.yi&&o.push(new w(t[0],t[1]+r.yi)),o}static intersectGridWithLine2D(e,t){let i=x.iterToArray(e),r=gt.intersectGridWithRay2D(i,t),o=new S;for(let s=0,a=r.length;s<a;s++)Ae.withinBound(r[s],i[0],i[1])&&o.push(r[s]);return o}static intersectRect2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=Ae.boundingBox(S.fromPtArray(i));return ct.hasIntersectRect2D(o,r)?gt.intersectLines2D([i],ct.sides(r)):new S}static subpoints(e,t){let i=x.iterToArray(e),r=new S;for(let o=1;o<=t;o++)r.push(Ae.interpolate(i[0],i[1],o/(t+1)));return r}static crop(e,t,i=0,r=!0){let o=x.iterToArray(e),a=o[0===i?1:0].$subtract(o[i]);if(0===a[0]||0===t[0])return o[i];if(r){let l=a.unit().multiply(t[1]);return o[i].$add(l)}{let l=ct.fromCenter(o[i],t),u=ct.sides(l),c=0;return c=Math.abs(a[1]/a[0])>Math.abs(t[1]/t[0])?a[1]<0?0:2:a[0]<0?3:1,gt.intersectRay2D(u[c],o)}}static marker(e,t,i="arrow",r=!0){let o=x.iterToArray(e),a=r?1:0,l=o[r?0:1].$subtract(o[a]);if(0===l.magnitudeSq())return new S;l.unit();let u=Ae.perpendicular(l).multiply(t[0]).add(o[a]);return"arrow"==i?(u.add(l.$multiply(t[1])),new S(o[a],u[0],u[1])):new S(u[0],u[1])}static toRect(e){let t=x.iterToArray(e);return new S(t[0].$min(t[1]),t[0].$max(t[1]))}}class ct{static from(e,t,i){return ct.fromTopLeft(e,t,i)}static fromTopLeft(e,t,i){let r="number"==typeof t?[t,i||t]:t;return new S(new w(e),new w(e).add(r))}static fromCenter(e,t,i){let r="number"==typeof t?[t/2,(i||t)/2]:new w(t).divide(2);return new S(new w(e).subtract(r),new w(e).add(r))}static toCircle(e,t=!0){return Qo.fromRect(e,t)}static toSquare(e,t=!1){let i=x.iterToArray(e),r=ct.size(i),o=t?r.maxValue().value:r.minValue().value;return ct.fromCenter(ct.center(i),o,o)}static size(e){let t=x.iterToArray(e);return t[0].$max(t[1]).subtract(t[0].$min(t[1]))}static center(e){let t=x.iterToArray(e),i=t[0].$min(t[1]),r=t[0].$max(t[1]);return i.add(r.$subtract(i).divide(2))}static corners(e){let t=x.iterToArray(e),i=t[0].$min(t[1]),r=t[0].$max(t[1]);return new S(i,new w(r.x,i.y),r,new w(i.x,r.y))}static sides(e){let[t,i,r,o]=ct.corners(e);return[new S(t,i),new S(i,r),new S(r,o),new S(o,t)]}static boundingBox(e){let t=x.iterToArray(e),i=x.flatten(t,!1),r=w.make(2,Number.MAX_VALUE),o=w.make(2,Number.MIN_VALUE);for(let s=0,a=i.length;s<a;s++){let l=0;for(let u of i[s])if(r[l]=Math.min(r[l],u[l]),o[l]=Math.max(o[l],u[l]),++l>=2)break}return new S(r,o)}static polygon(e){return ct.corners(e)}static quadrants(e,t){let i=x.iterToArray(e),r=ct.corners(i),o=null!=t?new w(t):ct.center(i);return r.map(s=>new S(s,o).boundingBox())}static halves(e,t=.5,i=!1){let r=x.iterToArray(e),o=r[0].$min(r[1]),s=r[0].$max(r[1]),a=i?At.lerp(o[1],s[1],t):At.lerp(o[0],s[0],t);return i?[new S(o,new w(s[0],a)),new S(new w(o[0],a),s)]:[new S(o,new w(a,s[1])),new S(new w(a,o[1]),s)]}static withinBound(e,t){let i=x.iterToArray(e);return Ae.withinBound(t,i[0],i[1])}static hasIntersectRect2D(e,t,i=!1){let r=x.iterToArray(e),o=x.iterToArray(t);return i&&(r=Ae.boundingBox(r),o=Ae.boundingBox(o)),!(r[0][0]>o[1][0]||o[0][0]>r[1][0]||r[0][1]>o[1][1]||o[0][1]>r[1][1])}static intersectRect2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t);return ct.hasIntersectRect2D(i,r)?gt.intersectLines2D(ct.sides(i),ct.sides(r)):new S}}class Qo{static fromRect(e,t=!1){let i=x.iterToArray(e),r=0,o=r=ct.size(i).minValue().value/2;if(t){let s=ct.size(i).maxValue().value/2;r=Math.sqrt(o*o+s*s)}else r=o;return new S(ct.center(i),new w(r,r))}static fromTriangle(e,t=!1){return t?_r.circumcircle(e):_r.incircle(e)}static fromCenter(e,t){return new S(new w(e),new w(t,t))}static withinBound(e,t,i=0){let r=x.iterToArray(e),o=r[0].$subtract(t);return o.dot(o)+i<r[1].x*r[1].x}static intersectRay2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=r[0].$subtract(r[1]),s=i[0].$subtract(r[0]),a=o.dot(o),c=s.dot(o)/a,h=c*c-(s.dot(s)-i[1].x*i[1].x)/a;if(h<0)return new S;{let f=Math.sqrt(h),_=r[0].$subtract(o.$multiply(-c+f));if(0===h)return new S(_);let C=r[0].$subtract(o.$multiply(-c-f));return new S(_,C)}}static intersectLine2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=Qo.intersectRay2D(i,r),s=new S;if(o.length>0)for(let a=0,l=o.length;a<l;a++)ct.withinBound(r,o[a])&&s.push(o[a]);return s}static intersectCircle2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=r[0].$subtract(i[0]),s=o.magnitudeSq(),a=Math.sqrt(s),l=i[1].x,u=r[1].x,c=l*l,d=u*u;if(a>l+u)return new S;if(a<Math.abs(l-u))return new S(i[0].clone());{let h=(c-d+s)/(2*a),f=Math.sqrt(c-h*h),p=o.$multiply(h/a).add(i[0]);return new S(new w(p.x+f*o.y/a,p.y-f*o.x/a),new w(p.x-f*o.y/a,p.y+f*o.x/a))}}static intersectRect2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=ct.sides(r),s=[];for(let a=0,l=o.length;a<l;a++){let u=Qo.intersectLine2D(i,o[a]);u.length>0&&s.push(u)}return x.flatten(s)}static toRect(e,t=!1){let i=x.iterToArray(e),r=i[1][0];if(t){let o=Math.sqrt(r*r)/2;return new S(i[0].$subtract(o),i[0].$add(o))}return new S(i[0].$subtract(r),i[0].$add(r))}static toTriangle(e,t=!0){let i=x.iterToArray(e);if(t){let r=-Math.PI/2,o=2*Math.PI/3,s=new S;for(let a=0;a<3;a++)s.push(i[0].clone().toAngle(r,i[1][0],!0)),r+=o;return s}return _r.fromCenter(i[0],i[1][0])}}class _r{static fromRect(e){let t=x.iterToArray(e),i=t[0].$add(t[1]).divide(2);i.y=t[0][1];let r=t[1].clone();return r.x=t[0][0],new S(i,t[1].clone(),r)}static fromCircle(e){return Qo.toTriangle(e,!0)}static fromCenter(e,t){return _r.fromCircle(Qo.fromCenter(e,t))}static medial(e){let t=x.iterToArray(e);return t.length<3?Os(new S,3):sn.midpoints(t,!0)}static oppositeSide(e,t){let i=x.iterToArray(e);return i.length<3?Os(new S,3):S.fromPtArray(0===t?[i[1],i[2]]:1===t?[i[0],i[2]]:[i[0],i[1]])}static altitude(e,t){let i=x.iterToArray(e),r=_r.oppositeSide(i,t);return r.length>1?new S(i[t],gt.perpendicularFromPt(r,i[t])):new S}static orthocenter(e){let t=x.iterToArray(e);if(t.length<3)return Os(void 0,3);let i=_r.altitude(t,0),r=_r.altitude(t,1);return gt.intersectRay2D(i,r)}static incenter(e){let t=x.iterToArray(e);if(t.length<3)return Os(void 0,3);let i=sn.bisector(t,0).add(t[0]),r=sn.bisector(t,1).add(t[1]);return gt.intersectRay2D(new S(t[0],i),new S(t[1],r))}static incircle(e,t){let i=x.iterToArray(e),r=t||_r.incenter(i),o=sn.area(i),s=sn.perimeter(i,!0);return Qo.fromCenter(r,2*o/s.total)}static circumcenter(e){let t=x.iterToArray(e),i=_r.medial(t),r=[i[0],Ae.perpendicular(t[0].$subtract(i[0])).p1.$add(i[0])],o=[i[1],Ae.perpendicular(t[1].$subtract(i[1])).p1.$add(i[1])];return gt.intersectRay2D(r,o)}static circumcircle(e,t){let i=x.iterToArray(e),r=t||_r.circumcenter(i),o=i[0].$subtract(r).magnitude();return Qo.fromCenter(r,o)}}class sn{static centroid(e){return Ae.centroid(e)}static rectangle(e,t,i){return ct.corners(ct.fromCenter(e,t,i))}static fromCenter(e,t,i){let r=new S;for(let o=0;o<i;o++){let s=2*Math.PI*o/i;r.push(new w(Math.cos(s)*t,Math.sin(s)*t).add(e))}return r}static lineAt(e,t){let i=x.iterToArray(e);if(t<0||t>=i.length)throw new Error("index out of the Polygon's range");return new S(i[t],t===i.length-1?i[0]:i[t+1])}static lines(e,t=!0){let i=x.iterToArray(e);if(i.length<2)return Os(new S,2);let r=x.split(i,2,1);return t&&r.push(new S(i[i.length-1],i[0])),r.map(o=>o)}static midpoints(e,t=!1,i=.5){return sn.lines(e,t).map(s=>Ae.interpolate(s[0],s[1],i))}static adjacentSides(e,t,i=!1){let r=x.iterToArray(e);if(r.length<2)return Os(new S,2);if(t<0||t>=r.length)return((n,e="")=>x.warn(`Index ${e} is out of bound in Group`,n))(new S,t);let o=[],s=t-1;i&&s<0&&(s=r.length-1),s>=0&&o.push(new S(r[t],r[s]));let a=t+1;return i&&a>r.length-1&&(a=0),a<=r.length-1&&o.push(new S(r[t],r[a])),o}static bisector(e,t){let i=sn.adjacentSides(e,t,!0);if(i.length>=2){let r=i[0][1].$subtract(i[0][0]).unit(),o=i[1][1].$subtract(i[1][0]).unit();return r.add(o).divide(2)}}static perimeter(e,t=!1){let i=sn.lines(e,t),r=0,o=w.make(i.length,0);for(let s=0,a=i.length;s<a;s++){let l=gt.magnitude(i[s]);r+=l,o[s]=l}return{total:r,segments:o}}static area(e){let t=x.iterToArray(e);if(t.length<3)return Os(new S,3);let i=(o,s)=>o[0]*s[1]-o[1]*s[0],r=0;for(let o=0,s=t.length;o<s;o++)r+=i(t[o],o<t.length-1?t[o+1]:t[0]);return Math.abs(r/2)}static convexHull(e,t=!1){let i=x.iterToArray(e);if(i.length<3)return Os(new S,3);t||(i=i.slice(),i.sort((u,c)=>u[0]-c[0]));let r=(u,c,d)=>(c[0]-u[0])*(d[1]-u[1])-(d[0]-u[0])*(c[1]-u[1])>0,o=[],s=i.length-2,a=s+3;o[s]=i[2],o[a]=i[2],r(i[0],i[1],i[2])?(o[s+1]=i[0],o[s+2]=i[1]):(o[s+1]=i[1],o[s+2]=i[0]);for(let u=3,c=i.length;u<c;u++){let d=i[u];if(!r(o[s],o[s+1],d)||!r(o[a-1],o[a],d)){for(;!r(o[s],o[s+1],d);)s+=1;for(s-=1,o[s]=d;!r(o[a-1],o[a],d);)a-=1;a+=1,o[a]=d}}let l=new S;for(let u=0;u<a-s;u++)l.push(o[s+u]);return l}static network(e,t=0){let i=x.iterToArray(e),r=[];for(let o=0,s=i.length;o<s;o++)o!=t&&r.push(new S(i[t],i[o]));return r}static nearestPt(e,t){let i=Number.MAX_VALUE,r=-1,o=0;for(let s of e){let a=s.$subtract(t).magnitudeSq();a<i&&(i=a,r=o),o++}return r}static projectAxis(e,t){let i=x.iterToArray(e),r=t.dot(i[0]),o=new w(r,r);for(let s=1,a=i.length;s<a;s++)r=t.dot(i[s]),o=new w(Math.min(r,o[0]),Math.max(r,o[1]));return o}static _axisOverlap(e,t,i){let r=sn.projectAxis(e,i),o=sn.projectAxis(t,i);return r[0]<o[0]?o[0]-r[1]:r[0]-o[1]}static hasIntersectPoint(e,t){let i=x.iterToArray(e),r=!1;for(let o=0,s=i.length;o<s;o++){let a=sn.lineAt(i,o);a[0][1]>t[1]!=a[1][1]>t[1]&&t[0]<(a[1][0]-a[0][0])*(t[1]-a[0][1])/(a[1][1]-a[0][1])+a[0][0]&&(r=!r)}return r}static hasIntersectCircle(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o={which:-1,dist:0,normal:null,edge:null,vertex:null},s=r[0],a=r[1][0],l=Number.MAX_SAFE_INTEGER;for(let c=0,d=i.length;c<d;c++){let h=sn.lineAt(i,c),f=new w(h[0].y-h[1].y,h[1].x-h[0].x).unit(),p=new S(s.$add(f.$multiply(a)),s.$subtract(f.$multiply(a))),_=sn._axisOverlap(i,p,f);if(_>0)return null;Math.abs(_)<l&&(ct.withinBound(h,gt.perpendicularFromPt(h,s))||Qo.intersectLine2D(t,h).length>0)&&(o.edge=h,o.normal=f,l=Math.abs(_),o.which=c)}return o.edge?(s.$subtract(sn.centroid(i)).dot(o.normal)<0&&o.normal.multiply(-1),o.dist=l,o.vertex=s,o):null}static hasIntersectPolygon(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o={which:-1,dist:0,normal:new w,edge:new S,vertex:new w},s=Number.MAX_SAFE_INTEGER;for(let f=0,p=i.length+r.length;f<p;f++){let _=f<i.length?sn.lineAt(i,f):sn.lineAt(r,f-i.length),m=new w(_[0].y-_[1].y,_[1].x-_[0].x).unit(),C=sn._axisOverlap(i,r,m);if(C>0)return null;Math.abs(C)<s&&(o.edge=_,o.normal=m,s=Math.abs(C),o.which=f<i.length?0:1)}o.dist=s;let a=0===o.which?r:i,l=0===o.which?i:r,u=sn.centroid(a),c=sn.centroid(l);u.$subtract(c).dot(o.normal)<0&&o.normal.multiply(-1);let h=Number.MAX_SAFE_INTEGER;for(let f=0,p=a.length;f<p;f++){let _=o.normal.dot(a[f].$subtract(c));_<h&&(h=_,o.vertex=a[f])}return o}static intersectPolygon2D(e,t){let i=x.iterToArray(e),r=x.iterToArray(t),o=sn.lines(i),s=[];for(let a=0,l=o.length;a<l;a++){let u=gt.intersectPolygon2D(o[a],r,!1);u&&s.push(u)}return x.flatten(s,!0)}static toRects(e){let t=[];for(let r of e)t.push(Ae.boundingBox(r));let i=x.flatten(t,!1);return t.unshift(Ae.boundingBox(i)),t}}class xt{static getSteps(e){let t=new S;for(let i=0;i<=e;i++){let r=i/e;t.push(new w(r*r*r,r*r,r,1))}return t}static controlPoints(e,t=0,i=!1){let r=x.iterToArray(e);if(t>r.length-1)return new S;let o=a=>a<r.length-1?a:r.length-1,s=r[t];return t=i?t:t+1,new S(s,r[o(t++)],r[o(t++)],r[o(t++)])}static _calcPt(e,t){let i=e.reduce((o,s,a)=>o+s.x*t[a],0),r=e.reduce((o,s,a)=>o+s.y*t[a],0);if(e[0].length>2){let o=e.reduce((s,a,l)=>s+a.z*t[l],0);return new w(i,r,o)}return new w(i,r)}static catmullRom(e,t=10){let i=x.iterToArray(e);if(i.length<2)return new S;let r=new S,o=xt.getSteps(t),s=xt.controlPoints(i,0,!0);for(let l=0;l<=t;l++)r.push(xt.catmullRomStep(o[l],s));let a=0;for(;a<i.length-2;){let l=xt.controlPoints(i,a);if(l.length>0){for(let u=0;u<=t;u++)r.push(xt.catmullRomStep(o[u],l));a++}}return r}static catmullRomStep(e,t){let i=new S(new w(-.5,1,-.5,0),new w(1.5,-2.5,0,1),new w(-1.5,2,.5,0),new w(.5,-.5,0,0));return xt._calcPt(t,Ye.multiply([e],i,!0)[0])}static cardinal(e,t=10,i=.5){let r=x.iterToArray(e);if(r.length<2)return new S;let o=new S,s=xt.getSteps(t),a=xt.controlPoints(r,0,!0);for(let u=0;u<=t;u++)o.push(xt.cardinalStep(s[u],a,i));let l=0;for(;l<r.length-2;){let u=xt.controlPoints(r,l);if(u.length>0){for(let c=0;c<=t;c++)o.push(xt.cardinalStep(s[c],u,i));l++}}return o}static cardinalStep(e,t,i=.5){let r=new S(new w(-1,2,-1,0),new w(-1,1,0,0),new w(1,-2,1,0),new w(1,-1,0,0)),o=Ye.multiply([e],r,!0)[0].multiply(i),s=2*e[0]-3*e[1]+1,a=-2*e[0]+3*e[1],l=xt._calcPt(t,o);return l.x+=s*t[1].x+a*t[2].x,l.y+=s*t[1].y+a*t[2].y,l.length>2&&(l.z+=s*t[1].z+a*t[2].z),l}static bezier(e,t=10){let i=x.iterToArray(e);if(i.length<4)return new S;let r=new S,o=xt.getSteps(t),s=0;for(;s<i.length-3;){let a=xt.controlPoints(i,s);if(a.length>0){for(let l=0;l<=t;l++)r.push(xt.bezierStep(o[l],a));s+=3}}return r}static bezierStep(e,t){let i=new S(new w(-1,3,-3,1),new w(3,-6,3,0),new w(-3,3,0,0),new w(1,0,0,0));return xt._calcPt(t,Ye.multiply([e],i,!0)[0])}static bspline(e,t=10,i=1){let r=x.iterToArray(e);if(r.length<2)return new S;let o=new S,s=xt.getSteps(t),a=0;for(;a<r.length-3;){let l=xt.controlPoints(r,a);if(l.length>0){if(1!==i)for(let u=0;u<=t;u++)o.push(xt.bsplineTensionStep(s[u],l,i));else for(let u=0;u<=t;u++)o.push(xt.bsplineStep(s[u],l));a++}}return o}static bsplineStep(e,t){let i=new S(new w(-.16666666666666666,.5,-.5,.16666666666666666),new w(.5,-1,0,.6666666666666666),new w(-.5,.5,.5,.16666666666666666),new w(.16666666666666666,0,0,0));return xt._calcPt(t,Ye.multiply([e],i,!0)[0])}static bsplineTensionStep(e,t,i=1){let r=new S(new w(-.16666666666666666,.5,-.5,.16666666666666666),new w(-1.5,2,0,-.3333333333333333),new w(1.5,-2.5,.5,.16666666666666666),new w(.16666666666666666,0,0,0)),o=Ye.multiply([e],r,!0)[0].multiply(i),s=2*e[0]-3*e[1]+1,a=-2*e[0]+3*e[1],l=xt._calcPt(t,o);return l.x+=s*t[1].x+a*t[2].x,l.y+=s*t[1].y+a*t[2].y,l.length>2&&(l.z+=s*t[1].z+a*t[2].z),l}}class At{static equals(e,t,i=1e-5){return Math.abs(e-t)<i}static lerp(e,t,i){return(1-i)*e+i*t}static clamp(e,t,i){return Math.max(t,Math.min(i,e))}static boundValue(e,t,i){let r=Math.abs(i-t),o=e%r;return o>i?o-=r:o<t&&(o+=r),o}static within(e,t,i){return e>=Math.min(t,i)&&e<=Math.max(t,i)}static randomRange(e,t=0){let i=e>t?e-t:t-e;return e+At.random()*i}static randomPt(e,t){let i=new w(e.length),r=t?Ze.subtract(t,e):e,o=t?e:new w(e.length).fill(0);for(let s=0,a=i.length;s<a;s++)i[s]=At.random()*r[s]+o[s];return i}static normalizeValue(e,t,i){let r=Math.min(t,i);return(e-r)/(Math.max(t,i)-r)}static sum(e){let t=x.iterToArray(e),i=new w(t[0]);for(let r=1,o=t.length;r<o;r++)Ze.add(i,t[r]);return i}static average(e){let t=x.iterToArray(e);return At.sum(t).divide(t.length)}static cycle(e,t=xd.sineInOut){return t(e>.5?2-2*e:2*e)}static mapToRange(e,t,i,r,o){if(t==i)throw new Error("[currMin, currMax] must define a range that is not zero");let s=Math.min(r,o),a=Math.max(r,o);return At.normalizeValue(e,t,i)*(a-s)+s}static seed(e){this.generator=function(n){var o,s,e=48,t=1,i=e,r=new Array(e),a=0,l=function(){var n=4022871197;return function(t){if(t){t=t.toString();for(var i=0;i<t.length;i++){var r=.02519603282416938*(n+=t.charCodeAt(i));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)}n=4022871197}}();for(o=0;o<e;o++)r[o]=l(Math.random().toString());return function(){for(l(),o=0;o<e;o++)r[o]=l(" ");t=1,i=e}(),function(h){for(h=function(h){return(h=(h=h.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[\x00-\x1F]/gi,"")).replace(/\n /,"\n")}(h),l(h),o=0;o<h.length;o++)for(a=h.charCodeAt(o),s=0;s<e;s++)r[s]-=l(a.toString()),r[s]<0&&(r[s]+=1)}(n),{random(){++i>=e&&(i=0);var h=1768863*r[i]+2.3283064365386963e-10*t;return r[i]=h-(t=0|h)}}}(e)}static random(){return this.generator?this.generator.random():Math.random()}}class Ae{static boundAngle(e){return At.boundValue(e,0,360)}static boundRadian(e){return At.boundValue(e,0,Tt.two_pi)}static toRadian(e){return e*Tt.deg_to_rad}static toDegree(e){return e*Tt.rad_to_deg}static boundingBox(e){let t,i;for(let r of e)null==t?(t=r.clone(),i=r.clone()):(t=t.$min(r),i=i.$max(r));return new S(t,i)}static centroid(e){return At.average(e)}static anchor(e,t=0,i="to"){let r="to"==i?"subtract":"add",o=0;for(let s of e)"number"==typeof t?t!==o&&s[r](e[t]):s[r](t),o++}static interpolate(e,t,i=.5){let r=Math.min(e.length,t.length),o=w.make(r);for(let s=0;s<r;s++)o[s]=e[s]*(1-i)+t[s]*i;return o}static perpendicular(e,t=Tt.xy){let i=t[1],r=t[0],o=new w(e),s=new w(o);s[r]=-o[i],s[i]=o[r];let a=new w(o);return a[r]=o[i],a[i]=-o[r],new S(s,a)}static isPerpendicular(e,t){return 0===new w(e).dot(t)}static withinBound(e,t,i){for(let r=0,o=Math.min(e.length,t.length,i.length);r<o;r++)if(!At.within(e[r],t[r],i[r]))return!1;return!0}static sortEdges(e){let t=x.iterToArray(e),i=Ae.boundingBox(t),r=i[1].add(i[0]).divide(2);return t.sort((s,a)=>{if(s.length<2||a.length<2)throw new Error("Pt dimension cannot be less than 2");let l=s.$subtract(r),u=a.$subtract(r);if(l[0]>=0&&u[0]<0)return 1;if(l[0]<0&&u[0]>=0)return-1;if(0==l[0]&&0==u[0])return l[1]>=0||u[1]>=0?l[1]>u[1]?1:-1:u[1]>l[1]?1:-1;let c=l.$cross2D(u);return c<0?1:c>0?-1:l[0]*l[0]+l[1]*l[1]>u[0]*u[0]+u[1]*u[1]?1:-1})}static scale(e,t,i){let r=x.iterToArray(void 0!==e[0]&&"number"==typeof e[0]?[e]:e),o="number"==typeof t?w.make(r[0].length,t):t;i||(i=w.make(r[0].length,0));for(let s=0,a=r.length;s<a;s++){let l=r[s];for(let u=0,c=l.length;u<c;u++)l[u]=i&&i[u]?i[u]+(l[u]-i[u])*o[u]:l[u]*o[u]}return Ae}static rotate2D(e,t,i,r){let o=x.iterToArray(void 0!==e[0]&&"number"==typeof e[0]?[e]:e),s=i?Ye.rotateAt2DMatrix:Ye.rotate2DMatrix;i||(i=w.make(o[0].length,0));let a=Math.cos(t),l=Math.sin(t);for(let u=0,c=o.length;u<c;u++){let d=r?o[u].$take(r):o[u];if(d.to(Ye.transform2D(d,s(a,l,i))),r)for(let h=0;h<r.length;h++)o[u][r[h]]=d[h]}return Ae}static shear2D(e,t,i,r){let o=x.iterToArray(void 0!==e[0]&&"number"==typeof e[0]?[e]:e),s="number"==typeof t?[t,t]:t;i||(i=w.make(o[0].length,0));let a=i?Ye.shearAt2DMatrix:Ye.shear2DMatrix,l=Math.tan(s[0]),u=Math.tan(s[1]);for(let c=0,d=o.length;c<d;c++){let h=r?o[c].$take(r):o[c];if(h.to(Ye.transform2D(h,a(l,u,i))),r)for(let f=0;f<r.length;f++)o[c][r[f]]=h[f]}return Ae}static reflect2D(e,t,i){let r=x.iterToArray(void 0!==e[0]&&"number"==typeof e[0]?[e]:e),o=x.iterToArray(t),s=Ye.reflectAt2DMatrix(o[0],o[1]);for(let a=0,l=r.length;a<l;a++){let u=i?r[a].$take(i):r[a];if(u.to(Ye.transform2D(u,s)),i)for(let c=0;c<i.length;c++)r[a][i[c]]=u[c]}return Ae}static cosTable(){let e=new Float64Array(360);for(let i=0;i<360;i++)e[i]=Math.cos(i*Math.PI/180);return{table:e,cos:i=>e[Math.floor(Ae.boundAngle(Ae.toDegree(i)))]}}static sinTable(){let e=new Float64Array(360);for(let i=0;i<360;i++)e[i]=Math.sin(i*Math.PI/180);return{table:e,sin:i=>e[Math.floor(Ae.boundAngle(Ae.toDegree(i)))]}}}class xd{static linear(e,t=1){return t*e}static quadraticIn(e,t=1){return t*e*e}static quadraticOut(e,t=1){return-t*e*(e-2)}static quadraticInOut(e,t=1){let i=2*e;return e<.5?t/2*e*e*4:-t/2*((i-1)*(i-3)-1)}static cubicIn(e,t=1){return t*e*e*e}static cubicOut(e,t=1){let i=e-1;return t*(i*i*i+1)}static cubicInOut(e,t=1){let i=2*e;return e<.5?t/2*i*i*i:t/2*((i-2)*(i-2)*(i-2)+2)}static exponentialIn(e,t=1,i=.25){return t*Math.pow(e,1/i)}static exponentialOut(e,t=1,i=.25){return t*Math.pow(e,i)}static sineIn(e,t=1){return-t*Math.cos(e*Tt.half_pi)+t}static sineOut(e,t=1){return t*Math.sin(e*Tt.half_pi)}static sineInOut(e,t=1){return-t/2*(Math.cos(Math.PI*e)-1)}static cosineApprox(e,t=1){let i=e*e,r=i*i;return t*(r*i*4/9-17*r/9+22*i/9)}static circularIn(e,t=1){return-t*(Math.sqrt(1-e*e)-1)}static circularOut(e,t=1){let i=e-1;return t*Math.sqrt(1-i*i)}static circularInOut(e,t=1){let i=2*e;return e<.5?-t/2*(Math.sqrt(1-i*i)-1):t/2*(Math.sqrt(1-(i-2)*(i-2))+1)}static elasticIn(e,t=1,i=.7){let r=e-1,o=i/Tt.two_pi*1.5707963267948966;return t*(-Math.pow(2,10*r)*Math.sin((r-o)*Tt.two_pi/i))}static elasticOut(e,t=1,i=.7){let r=i/Tt.two_pi*1.5707963267948966;return t*(Math.pow(2,-10*e)*Math.sin((e-r)*Tt.two_pi/i))+t}static elasticInOut(e,t=1,i=.6){let r=2*e,o=i/Tt.two_pi*1.5707963267948966;return e<.5?(r-=1,t*(Math.pow(2,10*r)*Math.sin((r-o)*Tt.two_pi/i)*-.5)):(r-=1,t*(Math.pow(2,-10*r)*Math.sin((r-o)*Tt.two_pi/i)*.5)+t)}static bounceIn(e,t=1){return t-xd.bounceOut(1-e,t)}static bounceOut(e,t=1){return e<1/2.75?t*(7.5625*e*e):e<2/2.75?t*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?t*(7.5625*(e-=2.25/2.75)*e+.9375):t*(7.5625*(e-=2.625/2.75)*e+.984375)}static bounceInOut(e,t=1){return e<.5?xd.bounceIn(2*e,t)/2:xd.bounceOut(2*e-1,t)/2+t/2}static sigmoid(e,t=1,i=10){return t/(1+Math.exp(-i*(e-.5)))}static logSigmoid(e,t=1,i=.7){i=1/(1-(i=Math.max(Tt.epsilon,Math.min(1-Tt.epsilon,i))));let r=1/(1+Math.exp((e-.5)*i*-2)),o=1/(1+Math.exp(i));return t*(r-o)/(1/(1+Math.exp(-i))-o)}static seat(e,t=1,i=.5){return e<.5?t*Math.pow(2*e,1-i)/2:t*(1-Math.pow(2*(1-e),1-i)/2)}static quadraticBezier(e,t=1,i=[.05,.95]){let r="number"!=typeof i?i[0]:i,o="number"!=typeof i?i[1]:.5,s=1-2*r;0===s&&(s=Tt.epsilon);let a=(Math.sqrt(r*r+s*e)-r)/s;return t*(a*a*(1-2*o)+2*o*a)}static cubicBezier(e,t=1,i=[.1,.7],r=[.9,.2]){let o=new S(new w(0,0),new w(i),new w(r),new w(1,1));return t*xt.bezierStep(new w(e*e*e,e*e,e,1),xt.controlPoints(o)).y}static quadraticTarget(e,t=1,i=[.2,.35]){let r=Math.min(1-Tt.epsilon,Math.max(Tt.epsilon,i[0])),o=Math.min(1,Math.max(0,i[1])),s=(1-o)/(1-r)-o/r;return t*Math.min(1,Math.max(0,s*(e*e)-(s*(r*r)-o)/r*e))}static cliff(e,t=1,i=.5){return e>i?t:0}static step(e,t,i,r,...o){let s=1/t;return e(Math.floor(i/s)*s,r,...o)}}const Tt={xy:"xy",yz:"yz",xz:"xz",xyz:"xyz",horizontal:0,vertical:1,identical:0,right:4,bottom_right:5,bottom:6,bottom_left:7,left:8,top_left:1,top:2,top_right:3,epsilon:1e-4,max:Number.MAX_VALUE,min:Number.MIN_VALUE,pi:Math.PI,two_pi:6.283185307179586,half_pi:1.5707963267948966,quarter_pi:.7853981633974483,one_degree:.017453292519943295,rad_to_deg:57.29577951308232,deg_to_rad:.017453292519943295,gravity:9.81,newton:.10197,gaussian:.3989422804014327};let x=(()=>{class n{static warnLevel(t){return t&&(n._warnLevel=t),n._warnLevel}static getArgs(t){if(t.length<1)return[];let i=[],r=Array.isArray(t[0])||ArrayBuffer.isView(t[0]);if("number"==typeof t[0])i=Array.prototype.slice.call(t);else if("object"!=typeof t[0]||r)r&&(i=[].slice.call(t[0]));else{let o=["x","y","z","w"],s=t[0];for(let a=0;a<o.length&&!(s.length&&a>=s.length)&&o[a]in s;a++)i.push(s[o[a]])}return i}static warn(t="error",i){if("error"==n.warnLevel())throw new Error(t);return"warn"==n.warnLevel()&&console.warn(t),i}static randomInt(t,i=0){return n.warn("Util.randomInt is deprecated. Please use `Num.randomRange`"),Math.floor(At.random()*t)+i}static split(t,i,r,o=!1,s=!0){let a=[],l=[],u=r||i,c=0;if(t.length<=0||u<=0)return[];for(;c<t.length;){l=[];for(let d=0;d<i;d++)if(o)l.push(t[(c+d)%t.length]);else{if(c+d>=t.length)break;l.push(t[c+d])}c+=u,(!s||s&&l.length===i)&&a.push(l)}return a}static flatten(t,i=!0){let r=i?new S:new Array;return r.concat.apply(r,t)}static combine(t,i,r){let o=[];for(let s=0,a=t.length;s<a;s++)for(let l=0,u=i.length;l<u;l++)o.push(r(t[s],i[l]));return o}static zip(t){let i=[];for(let r=0,o=t[0].length;r<o;r++){let s=[];for(let a=0;a<t.length;a++)s.push(t[a][r]);i.push(s)}return i}static stepper(t,i=0,r=1,o){let s=i;return function(){return s+=r,s>=t&&(s=i+(s-t)),o&&o(s),s}}static forRange(t,i,r=0,o=1){let s=[];for(let a=r,l=i;a<l;a+=o)s[a]=t(a);return s}static load(t,i){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onload=function(){r.status>=200&&r.status<400?i(r.responseText,!0):i(`Server error (${r.status}) when loading "${t}"`,!1)},r.onerror=function(){i("Unknown network error",!1)},r.send()}static download(t,i="pts_canvas_image",r="png",o=1){t.element.toBlob(function(a){const l=document.createElement("a"),u=URL.createObjectURL(a);l.href=u,l.download=`${i}.${r}`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(u)},`image/${"jpg"===r?"jpeg":r}`,o)}static performance(t=10){let i=Date.now(),r=[];return function(){const o=Date.now();return r.push(o-i),r.length>=t&&r.shift(),i=o,Math.floor(r.reduce((s,a)=>s+a,0)/r.length)}}static arrayCheck(t,i=2){return!(Array.isArray(t)&&t.length<i&&(n.warn(`Requires ${i} or more Pts in this Group.`),1))}static iterToArray(t){return Array.isArray(t)?t:[...t]}static isMobile(){return/iPhone|iPad|Android/i.test(navigator.userAgent)}}return n._warnLevel="mute",n})();class w extends Float32Array{constructor(...e){super(1===e.length&&"number"==typeof e[0]?e[0]:e.length>0?x.getArgs(e):[0,0])}static make(e,t=0,i=!1){let r=new Float32Array(e);if(t&&r.fill(t),i)for(let o=0,s=r.length;o<s;o++)r[o]=r[o]*At.random();return new w(r)}get id(){return this._id}set id(e){this._id=e}get x(){return this[0]}set x(e){this[0]=e}get y(){return this[1]}set y(e){this[1]=e}get z(){return this[2]}set z(e){this[2]=e}get w(){return this[3]}set w(e){this[3]=e}clone(){return new w(this)}equals(e,t=1e-6){for(let i=0,r=this.length;i<r;i++)if(Math.abs(this[i]-e[i])>t)return!1;return!0}to(...e){let t=x.getArgs(e);for(let i=0,r=Math.min(this.length,t.length);i<r;i++)this[i]=t[i];return this}$to(...e){return this.clone().to(...e)}toAngle(e,t,i=!1){let r=t??this.magnitude(),o=[Math.cos(e)*r,Math.sin(e)*r];return i?this.add(o):this.to(o)}op(e){let t=this;return(...i)=>e(t,...i)}ops(e){let t=[];for(let i=0,r=e.length;i<r;i++)t.push(this.op(e[i]));return t}$take(e){let t=[];for(let i=0,r=e.length;i<r;i++)t.push(this[e[i]]||0);return new w(t)}$concat(...e){return new w(this.toArray().concat(x.getArgs(e)))}add(...e){return Ze.add(this,1===e.length&&"number"==typeof e[0]?e[0]:x.getArgs(e)),this}$add(...e){return this.clone().add(...e)}subtract(...e){return Ze.subtract(this,1===e.length&&"number"==typeof e[0]?e[0]:x.getArgs(e)),this}$subtract(...e){return this.clone().subtract(...e)}multiply(...e){return Ze.multiply(this,1===e.length&&"number"==typeof e[0]?e[0]:x.getArgs(e)),this}$multiply(...e){return this.clone().multiply(...e)}divide(...e){return Ze.divide(this,1===e.length&&"number"==typeof e[0]?e[0]:x.getArgs(e)),this}$divide(...e){return this.clone().divide(...e)}magnitudeSq(){return Ze.dot(this,this)}magnitude(){return Ze.magnitude(this)}unit(e){return Ze.unit(this,e),this}$unit(e){return this.clone().unit(e)}dot(...e){return Ze.dot(this,x.getArgs(e))}$cross2D(...e){return Ze.cross2D(this,x.getArgs(e))}$cross(...e){return Ze.cross(this,x.getArgs(e))}$project(...e){return this.$multiply(this.dot(...e)/this.magnitudeSq())}projectScalar(...e){return this.dot(...e)/this.magnitude()}abs(){return Ze.abs(this),this}$abs(){return this.clone().abs()}floor(){return Ze.floor(this),this}$floor(){return this.clone().floor()}ceil(){return Ze.ceil(this),this}$ceil(){return this.clone().ceil()}round(){return Ze.round(this),this}$round(){return this.clone().round()}minValue(){return Ze.min(this)}maxValue(){return Ze.max(this)}$min(...e){let t=x.getArgs(e),i=this.clone();for(let r=0,o=Math.min(this.length,t.length);r<o;r++)i[r]=Math.min(this[r],t[r]);return i}$max(...e){let t=x.getArgs(e),i=this.clone();for(let r=0,o=Math.min(this.length,t.length);r<o;r++)i[r]=Math.max(this[r],t[r]);return i}angle(e=Tt.xy){return Math.atan2(this[e[1]],this[e[0]])}angleBetween(e,t=Tt.xy){return Ae.boundRadian(this.angle(t))-Ae.boundRadian(e.angle(t))}scale(e,t){return Ae.scale(this,e,t||w.make(this.length,0)),this}rotate2D(e,t,i){return Ae.rotate2D(this,e,t||w.make(this.length,0),i),this}shear2D(e,t,i){return Ae.shear2D(this,e,t||w.make(this.length,0),i),this}reflect2D(e,t){return Ae.reflect2D(this,e,t),this}toString(){return`Pt(${this.join(", ")})`}toArray(){return[].slice.call(this)}toGroup(){return new S(w.make(this.length),this.clone())}toBound(){return new Ur(w.make(this.length),this.clone())}}class S extends Array{constructor(...e){super(...e)}get id(){return this._id}set id(e){this._id=e}get p1(){return this[0]}get p2(){return this[1]}get p3(){return this[2]}get p4(){return this[3]}get q1(){return this[this.length-1]}get q2(){return this[this.length-2]}get q3(){return this[this.length-3]}get q4(){return this[this.length-4]}clone(){let e=new S;for(let t=0,i=this.length;t<i;t++)e.push(this[t].clone());return e}static fromArray(e){let t=new S;for(let i of e){let r=i instanceof w?i:new w(i);t.push(r)}return t}static fromPtArray(e){return S.from(e)}split(e,t,i=!1){return x.split(this,e,t,i)}insert(e,t=0){return S.prototype.splice.apply(this,[t,0,...e]),this}remove(e=0,t=1){return S.prototype.splice.apply(this,e<0?[-1*e-1,t]:[e,t])}segments(e=2,t=1,i=!1){return this.split(e,t,i)}lines(){return this.segments(2,1)}centroid(){return Ae.centroid(this)}boundingBox(){return Ae.boundingBox(this)}anchorTo(e=0){Ae.anchor(this,e,"to")}anchorFrom(e=0){Ae.anchor(this,e,"from")}op(e){let t=this;return(...i)=>e(t,...i)}ops(e){let t=[];for(let i=0,r=e.length;i<r;i++)t.push(this.op(e[i]));return t}interpolate(e){e=At.clamp(e,0,1);let t=this.length-1,i=1/(this.length-1),r=Math.floor(e/i);return Ae.interpolate(this[r],this[Math.min(this.length-1,r+1)],(e-r*i)*t)}moveBy(...e){return this.add(...e)}moveTo(...e){let t=new w(x.getArgs(e)).subtract(this[0]);return this.moveBy(t),this}scale(e,t){for(let i=0,r=this.length;i<r;i++)Ae.scale(this[i],e,t||this[0]);return this}rotate2D(e,t,i){for(let r=0,o=this.length;r<o;r++)Ae.rotate2D(this[r],e,t||this[0],i);return this}shear2D(e,t,i){for(let r=0,o=this.length;r<o;r++)Ae.shear2D(this[r],e,t||this[0],i);return this}reflect2D(e,t){for(let i=0,r=this.length;i<r;i++)Ae.reflect2D(this[i],e,t);return this}sortByDimension(e,t=!1){return this.sort((i,r)=>t?r[e]-i[e]:i[e]-r[e])}forEachPt(e,...t){if(!this[0][e])return x.warn(`${e} is not a function of Pt`),this;for(let i=0,r=this.length;i<r;i++)this[i]=this[i][e](...t);return this}add(...e){return this.forEachPt("add",...e)}subtract(...e){return this.forEachPt("subtract",...e)}multiply(...e){return this.forEachPt("multiply",...e)}divide(...e){return this.forEachPt("divide",...e)}$matrixAdd(e){return Ye.add(this,e)}$matrixMultiply(e,t=!1,i=!1){return Ye.multiply(this,e,t,i)}zipSlice(e,t=!1){return Ye.zipSlice(this,e,t)}$zip(e,t=!1){return Ye.zip(this,e,t)}toBound(){return Ur.fromGroup(this)}toString(){return"Group[ "+this.reduce((e,t)=>e+t.toString()+" ","")+" ]"}}class Ur extends S{constructor(...e){super(...e),this._center=new w,this._size=new w,this._topLeft=new w,this._bottomRight=new w,this._inited=!1,this.init()}static fromBoundingRect(e){let t=new Ur(new w(e.left||0,e.top||0),new w(e.right||0,e.bottom||0));return e.width&&e.height&&(t.size=new w(e.width,e.height)),t}static fromGroup(e){let t=x.iterToArray(e);if(t.length<2)throw new Error("Cannot create a Bound from a group that has less than 2 Pt");return new Ur(t[0],t[t.length-1])}init(){if(this.p1&&(this._size=this.p1.clone(),this._inited=!0),this.p1&&this.p2){let e=this.p1,t=this.p2;this.topLeft=e.$min(t),this._bottomRight=e.$max(t),this._updateSize(),this._inited=!0}}clone(){return new Ur(this._topLeft.clone(),this._bottomRight.clone())}_updateSize(){this._size=this._bottomRight.$subtract(this._topLeft).abs(),this._updateCenter()}_updateCenter(){this._center=this._size.$multiply(.5).add(this._topLeft)}_updatePosFromTop(){this._bottomRight=this._topLeft.$add(this._size),this._updateCenter()}_updatePosFromBottom(){this._topLeft=this._bottomRight.$subtract(this._size),this._updateCenter()}_updatePosFromCenter(){let e=this._size.$multiply(.5);this._topLeft=this._center.$subtract(e),this._bottomRight=this._center.$add(e)}get size(){return new w(this._size)}set size(e){this._size=new w(e),this._updatePosFromTop()}get center(){return new w(this._center)}set center(e){this._center=new w(e),this._updatePosFromCenter()}get topLeft(){return new w(this._topLeft)}set topLeft(e){this._topLeft=new w(e),this[0]=this._topLeft,this._updateSize()}get bottomRight(){return new w(this._bottomRight)}set bottomRight(e){this._bottomRight=new w(e),this[1]=this._bottomRight,this._updateSize()}get width(){return this._size.length>0?this._size.x:0}set width(e){this._size.x=e,this._updatePosFromTop()}get height(){return this._size.length>1?this._size.y:0}set height(e){this._size.y=e,this._updatePosFromTop()}get depth(){return this._size.length>2?this._size.z:0}set depth(e){this._size.z=e,this._updatePosFromTop()}get x(){return this.topLeft.x}get y(){return this.topLeft.y}get z(){return this.topLeft.z}get inited(){return this._inited}update(){return this._topLeft=this[0],this._bottomRight=this[1],this._updateSize(),this}}const Mt_up="up",Mt_down="down",Mt_move="move",Mt_drag="drag",Mt_drop="drop",Mt_over="over",Mt_out="out",Mt_click="click",Mt_keydown="keydown",Mt_keyup="keyup",Mt_contextmenu="contextmenu";class MO{constructor(e=12,t="sans-serif",i="",r="",o=1.5){this.size=e,this.face=t,this.style=r,this.weight=i,this.lineHeight=o}get value(){return`${this.style} ${this.weight} ${this.size}px/${this.lineHeight} ${this.face}`}toString(){return this.value}}class EO{static textWidthEstimator(e,t=["M","n","."],i=[.06,.8,.14]){let r=t.map(e),o=new w(i).dot(r);return s=>s.length*o}static truncate(e,t,i,r=""){let o=Math.floor(t.length*Math.min(1,i/e(t)));return o<t.length?(o=Math.max(0,o-r.length),[t.substr(0,o)+r,o]):[t,t.length]}static fontSizeToBox(e,t=1,i=!0){let r=Ur.fromGroup(e),o=i?r.height:r.width,s=t*o;return function(a){let l=Ur.fromGroup(a);return s*((i?l.height:l.width)/o)}}static fontSizeToThreshold(e,t=0){return function(i,r){let o=i*r/e;return t<0?Math.min(o,i):t>0?Math.max(o,i):o}}}var SO=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function(o){return o instanceof t?o:new t(function(s){s(o)})}(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Zo{constructor(e=!1,t,i){this._scale=1,this._loaded=!1,this._editable=e,this._space=t,this._scale=this._space?this._space.pixelScale:1,this._img=new Image,i&&(this._img.crossOrigin="Anonymous")}static load(e,t=!1,i,r){const o=new Zo(t,i);return o.load(e).then(s=>{r&&r(s)}),o}static loadAsync(e,t=!1,i){return SO(this,void 0,void 0,function*(){return yield new Zo(t,i).load(e)})}static loadPattern(e,t,i="repeat",r=!1){return SO(this,void 0,void 0,function*(){return(yield Zo.loadAsync(e,r,t)).pattern(i)})}static blank(e,t,i){let r=new Zo(!0,t);return r.initCanvas(e[0],e[1],i||t.pixelScale),r}load(e){return new Promise((t,i)=>{this._editable&&!document&&i("Cannot create html canvas element. document not found."),this._img.src=e,this._img.onload=()=>{this._editable&&(this._cv||(this._cv=document.createElement("canvas")),this._drawToScale(this._scale,this._img),this._data=this._ctx.getImageData(0,0,this._cv.width,this._cv.height)),this._loaded=!0,t(this)},this._img.onerror=r=>{i(r)}})}_drawToScale(e,t){const i=t.width,r=t.height;this.initCanvas(i,r,e),t&&this._ctx.drawImage(t,0,0,i,r,0,0,this._cv.width,this._cv.height)}initCanvas(e,t,i=1){if(!this._editable)return void console.error("Cannot initiate canvas because this Img is not set to be editable");this._cv||(this._cv=document.createElement("canvas"));const r="number"==typeof i?[i,i]:i;this._cv.width=e*r[0],this._cv.height=t*r[1],this._ctx=this._cv.getContext("2d"),this._loaded=!0}bitmap(e){return createImageBitmap(this._cv,0,0,e?e[0]:this._cv.width,e?e[1]:this._cv.height)}pattern(e="repeat",t=!1){if(!this._space)throw"Cannot find CanvasSpace ctx to create image pattern";return this._space.ctx.createPattern(t?this._cv:this._img,e)}sync(){1!==this._scale?this.bitmap().then(e=>{this._drawToScale(1/this._scale,e),this.load(this.toBase64())}):this._img.src=this.toBase64()}pixel(e,t=!0){const i="number"==typeof t?t:t?this._scale:1;return Zo.getPixel(this._data,[e[0]*i,e[1]*i])}static getPixel(e,t){const i=new w(0,0,0,0);if(t[0]>=e.width||t[1]>=e.height)return i;const r=Math.floor(t[1])*(4*e.width)+4*Math.floor(t[0]),o=e.data;return r>=o.length-4?i:new w(o[r],o[r+1],o[r+2],o[r+3])}resize(e,t=!1){return this._drawToScale(t?e:[e[0]/this._img.naturalWidth,e[1]/this._img.naturalHeight],this._img),this._data=this._ctx.getImageData(0,0,this._cv.width,this._cv.height),this}crop(e){let t=e.topLeft.scale(this._scale),i=e.size.scale(this._scale);return this._ctx.getImageData(t.x,t.y,i.x,i.y)}filter(e){return this._ctx.filter=e,this._ctx.drawImage(this._cv,0,0),this._ctx.filter="none",this}cleanup(){this._cv&&this._cv.remove(),this._img&&this._img.remove(),this._data=null}static fromBlob(e,t=!1,i){let r=URL.createObjectURL(e);return new Zo(t,i).load(r)}static imageDataToBlob(e){return new Promise(function(t,i){document||i("Cannot create html canvas element. document not found.");let r=document.createElement("canvas");r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),r.toBlob(o=>{t(o),r.remove()})})}toBase64(){return this._cv.toDataURL()}toBlob(){return new Promise(e=>{this._cv.toBlob(t=>e(t))})}getForm(){return this._editable||console.error("Cannot get a CanvasForm because this Img is not editable"),this._ctx?new xn(this._ctx):void 0}get current(){return this._editable?this._cv:this._img}get image(){return this._img}get canvas(){return this._cv}get data(){return this._data}get ctx(){return this._ctx}get loaded(){return this._loaded}get pixelScale(){return this._scale}get imageSize(){return this._img.width&&this._img.height?new w(this._img.width,this._img.height):this.canvasSize.$divide(this._scale)}get canvasSize(){return new w(this._cv.width,this._cv.height)}get scaledMatrix(){const e=1/this._scale;return(new Ye).scale2D([e,e])}}class xO extends class extends class{constructor(){this.id="space",this.bound=new Ur,this._time={prev:0,diff:0,end:-1,min:0},this.players={},this.playerCount=0,this._animID=-1,this._pause=!1,this._refresh=void 0,this._pointer=new w,this._isReady=!1,this._playing=!1}refresh(e){return this._refresh=e,this}minFrameTime(e=0){this._time.min=e}add(e){let t="function"==typeof e?{animate:e}:e,i=this.playerCount++,r=this.id+i;return this.players[r]=t,t.animateID=r,t.resize&&this.bound.inited&&t.resize(this.bound),void 0===this._refresh&&(this._refresh=!0),this}remove(e){return delete this.players[e.animateID],this}removeAll(){return this.players={},this}play(e=0){if(0!==e||-1===this._animID){if(this._animID=requestAnimationFrame(this.play.bind(this)),this._pause)return this;if(this._time.diff=e-this._time.prev,this._time.diff<this._time.min)return this;this._time.prev=e;try{this.playItems(e)}catch(t){throw cancelAnimationFrame(this._animID),this._animID=-1,this._playing=!1,t}return this}}replay(){this._time.end=-1,this.play()}playItems(e){if(this._playing=!0,this._refresh&&this.clear(),this._isReady)for(let t in this.players)this.players[t].animate&&this.players[t].animate(e,this._time.diff,this);this._time.end>=0&&e>this._time.end&&(cancelAnimationFrame(this._animID),this._animID=-1,this._playing=!1)}pause(e=!1){return this._pause=!e||!this._pause,this}resume(){return this._pause=!1,this}stop(e=0){return this._time.end=e,this}playOnce(e=0){return this.play(),this.stop(e),this}render(e){return this._renderFunc&&this._renderFunc(e,this),this}set customRendering(e){this._renderFunc=e}get customRendering(){return this._renderFunc}get isPlaying(){return this._playing}get outerBound(){return this.bound.clone()}get innerBound(){return new Ur(w.make(this.size.length,0),this.size.clone())}get size(){return this.bound.size.clone()}get center(){return this.size.divide(2)}get width(){return this.bound.width}get height(){return this.bound.height}}{constructor(){super(...arguments),this._pressed=!1,this._dragged=!1,this._hasMouse=!1,this._hasTouch=!1,this._hasKeyboard=!1}get pointer(){let e=this._pointer.clone();return e.id=this._pointer.id,e}bindCanvas(e,t,i={},r){(r||this._canvas).addEventListener(e,t,i)}unbindCanvas(e,t,i={},r){(r||this._canvas).removeEventListener(e,t,i)}bindDoc(e,t,i={}){document&&document.addEventListener(e,t,i)}unbindDoc(e,t,i={}){document&&document.removeEventListener(e,t,i)}bindMouse(e=!0,t){return e?(this._mouseDown=this._mouseDown.bind(this),this._mouseUp=this._mouseUp.bind(this),this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseClick=this._mouseClick.bind(this),this._contextMenu=this._contextMenu.bind(this),this.bindCanvas("mousedown",this._mouseDown,{},t),this.bindCanvas("mouseup",this._mouseUp,{},t),this.bindCanvas("mouseover",this._mouseOver,{},t),this.bindCanvas("mouseout",this._mouseOut,{},t),this.bindCanvas("mousemove",this._mouseMove,{},t),this.bindCanvas("click",this._mouseClick,{},t),this.bindCanvas("contextmenu",this._contextMenu,{},t),this._hasMouse=!0):(this.unbindCanvas("mousedown",this._mouseDown,{},t),this.unbindCanvas("mouseup",this._mouseUp,{},t),this.unbindCanvas("mouseover",this._mouseOver,{},t),this.unbindCanvas("mouseout",this._mouseOut,{},t),this.unbindCanvas("mousemove",this._mouseMove,{},t),this.unbindCanvas("click",this._mouseClick,{},t),this.unbindCanvas("contextmenu",this._contextMenu,{},t),this._hasMouse=!1),this}bindTouch(e=!0,t=!1,i){return e?(this.bindCanvas("touchstart",this._touchStart.bind(this),{passive:t},i),this.bindCanvas("touchend",this._mouseUp.bind(this),{},i),this.bindCanvas("touchmove",this._touchMove.bind(this),{passive:t},i),this.bindCanvas("touchcancel",this._mouseOut.bind(this),{},i),this._hasTouch=!0):(this.unbindCanvas("touchstart",this._touchStart.bind(this),{passive:t},i),this.unbindCanvas("touchend",this._mouseUp.bind(this),{},i),this.unbindCanvas("touchmove",this._touchMove.bind(this),{passive:t},i),this.unbindCanvas("touchcancel",this._mouseOut.bind(this),{},i),this._hasTouch=!1),this}bindKeyboard(e=!0){return e?(this._keyDownBind=this._keyDown.bind(this),this._keyUpBind=this._keyUp.bind(this),this.bindDoc("keydown",this._keyDownBind,{}),this.bindDoc("keyup",this._keyUpBind,{}),this._hasKeyboard=!0):(this.unbindDoc("keydown",this._keyDownBind,{}),this.unbindDoc("keyup",this._keyUpBind,{}),this._hasKeyboard=!1),this}touchesToPoints(e,t="touches"){if(!e||!e[t])return[];let i=[];for(var r=0;r<e[t].length;r++){let o=e[t].item(r);i.push(new w(o.pageX-this.bound.topLeft.x,o.pageY-this.bound.topLeft.y))}return i}_mouseAction(e,t){if(!this.isPlaying)return;let i=0,r=0;if(t instanceof MouseEvent){for(let o in this.players)if(this.players.hasOwnProperty(o)){let s=this.players[o];i=t.pageX-this.outerBound.x,r=t.pageY-this.outerBound.y,s.action&&s.action(e,i,r,t)}}else for(let o in this.players)if(this.players.hasOwnProperty(o)){let s=this.players[o],a=t.changedTouches&&t.changedTouches.length>0,l=t.changedTouches.item(0);i=a?l.pageX-this.outerBound.x:0,r=a?l.pageY-this.outerBound.y:0,s.action&&s.action(e,i,r,t)}e&&(this._pointer.to(i,r),this._pointer.id=e)}_mouseDown(e){return this._mouseAction(Mt_down,e),this._pressed=!0,!1}_mouseUp(e){return this._mouseAction(this._dragged?Mt_drop:Mt_up,e),this._pressed=!1,this._dragged=!1,!1}_mouseMove(e){return this._mouseAction(Mt_move,e),this._pressed&&(this._dragged=!0,this._mouseAction(Mt_drag,e)),!1}_mouseOver(e){return this._mouseAction(Mt_over,e),!1}_mouseOut(e){return this._mouseAction(Mt_out,e),this._dragged&&this._mouseAction(Mt_drop,e),this._dragged=!1,!1}_mouseClick(e){return this._mouseAction(Mt_click,e),this._pressed=!1,this._dragged=!1,!1}_contextMenu(e){return this._mouseAction(Mt_contextmenu,e),!1}_touchMove(e){return this._mouseMove(e),e.preventDefault(),!1}_touchStart(e){return this._mouseDown(e),e.preventDefault(),!1}_keyDown(e){return this._keyboardAction(Mt_keydown,e),!1}_keyUp(e){return this._keyboardAction(Mt_keyup,e),!1}_keyboardAction(e,t){if(this.isPlaying)for(let i in this.players)if(this.players.hasOwnProperty(i)){let r=this.players[i];r.action&&r.action(e,t.shiftKey?1:0,t.altKey?1:0,t)}}}{constructor(e,t){super(),this._pixelScale=1,this._autoResize=!0,this._bgcolor="#e1e9f0",this._offscreen=!1,this._initialResize=!1;var i=null;if(this.id="pt",e instanceof Element)i=e,this.id="pts_existing_space";else{let o=e;o="#"===e[0]||"."===e[0]?e:"#"+e,i=document.querySelector(o),this.id=o.substr(1)}i?"canvas"!=i.nodeName.toLowerCase()?(this._container=i,this._canvas=this._createElement("canvas",this.id+"_canvas"),this._container.appendChild(this._canvas),this._initialResize=!0):(this._canvas=i,this._container=i.parentElement,this._autoResize=!1):(this._container=this._createElement("div",this.id+"_container"),this._canvas=this._createElement("canvas",this.id),this._container.appendChild(this._canvas),document.body.appendChild(this._container)),setTimeout(this._ready.bind(this,t),100),this._ctx=this._canvas.getContext("2d")}_createElement(e="div",t){let i=document.createElement(e);return i.setAttribute("id",t),i}_ready(e){if(!this._container)throw new Error(`Cannot initiate #${this.id} element`);this._isReady=!0,this._resizeHandler(null),this.clear(this._bgcolor),this._canvas.dispatchEvent(new Event("ready"));for(let t in this.players)this.players.hasOwnProperty(t)&&this.players[t].start&&this.players[t].start(this.bound.clone(),this);this._pointer=this.center,this._initialResize=!1,e&&e(this.bound,this._canvas)}setup(e){if(this._bgcolor=e.bgcolor?e.bgcolor:"transparent",this.autoResize=null!=e.resize&&e.resize,!1!==e.retina){let t=window&&window.devicePixelRatio||1;this._pixelScale=Math.max(1,t/(this._ctx.webkitBackingStorePixelRatio||this._ctx.mozBackingStorePixelRatio||this._ctx.msBackingStorePixelRatio||this._ctx.oBackingStorePixelRatio||this._ctx.backingStorePixelRatio||1))}return e.offscreen?(this._offscreen=!0,this._offCanvas=this._createElement("canvas",this.id+"_offscreen"),this._offCtx=this._offCanvas.getContext("2d")):this._offscreen=!1,e.pixelDensity&&(this._pixelScale=e.pixelDensity),this}set autoResize(e){!window||(this._autoResize=e,e?window.addEventListener("resize",this._resizeHandler.bind(this)):window.removeEventListener("resize",this._resizeHandler.bind(this)))}get autoResize(){return this._autoResize}resize(e,t){this.bound=e,this._canvas.width=Math.ceil(this.bound.size.x)*this._pixelScale,this._canvas.height=Math.ceil(this.bound.size.y)*this._pixelScale,this._canvas.style.width=Math.ceil(this.bound.size.x)+"px",this._canvas.style.height=Math.ceil(this.bound.size.y)+"px",this._offscreen&&(this._offCanvas.width=Math.ceil(this.bound.size.x)*this._pixelScale,this._offCanvas.height=Math.ceil(this.bound.size.y)*this._pixelScale),1!=this._pixelScale&&(this._ctx.scale(this._pixelScale,this._pixelScale),this._offscreen&&this._offCtx.scale(this._pixelScale,this._pixelScale));for(let i in this.players)if(this.players.hasOwnProperty(i)){let r=this.players[i];r.resize&&r.resize(this.bound,t)}return this.render(this._ctx),t&&!this.isPlaying&&this.playOnce(0),this}_resizeHandler(e){if(!window)return;let t=this._autoResize||this._initialResize?this._container.getBoundingClientRect():this._canvas.getBoundingClientRect();if(t){let i=Ur.fromBoundingRect(t);i.center=i.center.add(window.pageXOffset,window.pageYOffset),this.resize(i,e)}}set background(e){this._bgcolor=e}get background(){return this._bgcolor}get pixelScale(){return this._pixelScale}get hasOffscreen(){return this._offscreen}get offscreenCtx(){return this._offCtx}get offscreenCanvas(){return this._offCanvas}getForm(){return new xn(this)}get element(){return this._canvas}get parent(){return this._container}get ready(){return this._isReady}get ctx(){return this._ctx}clear(e){e&&(this._bgcolor=e);const t=this._ctx.fillStyle,i=Math.ceil(this.pixelScale);return this._bgcolor&&"transparent"!==this._bgcolor?((0===this._bgcolor.indexOf("rgba")||9===this._bgcolor.length&&0===this._bgcolor.indexOf("#"))&&this._ctx.clearRect(-i,-i,this._canvas.width+i,this._canvas.height+i),this._ctx.fillStyle=this._bgcolor,this._ctx.fillRect(-i,-i,this._canvas.width+i,this._canvas.height+i)):this._ctx.clearRect(-i,-i,this._canvas.width+i,this._canvas.height+i),this._ctx.fillStyle=t,this}clearOffscreen(e){if(this._offscreen){const t=Math.ceil(this.pixelScale);e?(this._offCtx.fillStyle=e,this._offCtx.fillRect(-t,-t,this._canvas.width+t,this._canvas.height+t)):this._offCtx.clearRect(-t,-t,this._offCanvas.width+t,this._offCanvas.height+t)}return this}playItems(e){this._isReady&&(this._ctx.save(),this._offscreen&&this._offCtx.save(),super.playItems(e),this._ctx.restore(),this._offscreen&&this._offCtx.restore(),this.render(this._ctx))}dispose(){if(window)return window.removeEventListener("resize",this._resizeHandler.bind(this)),this.stop(),this.removeAll(),this}recorder(e,t="webm",i=15e6){let r=this._canvas.captureStream();const o=new MediaRecorder(r,{mimeType:`video/${t}`,bitsPerSecond:i});return o.ondataavailable=function(s){let a=URL.createObjectURL(new Blob([s.data],{type:`video/${t}`}));if("function"==typeof e)e(a);else if(e){let l=document.createElement("a");l.href=a,l.download=`canvas_video.${t}`,l.click(),l.remove()}},o}}class xn extends class extends class{constructor(){this._ready=!1}get ready(){return this._ready}}{constructor(){super(...arguments),this._filled=!0,this._stroked=!0,this._font=new MO(14,"sans-serif")}get filled(){return this._filled}set filled(e){this._filled=e}get stroked(){return this._stroked}set stroked(e){this._stroked=e}get currentFont(){return this._font}_multiple(e,t,...i){if(!e)return this;for(let r=0,o=e.length;r<o;r++)this[t](e[r],...i);return this}alpha(e){return this}fill(e){return this}fillOnly(e){return this.stroke(!1),this.fill(e)}stroke(e,t,i,r){return this}strokeOnly(e,t,i,r){return this.fill(!1),this.stroke(e,t,i,r)}points(e,t,i){if(e){for(let r=0,o=e.length;r<o;r++)this.point(e[r],t,i);return this}}circles(e){return this._multiple(e,"circle")}squares(e){return this._multiple(e,"square")}lines(e){return this._multiple(e,"line")}polygons(e){return this._multiple(e,"polygon")}rects(e){return this._multiple(e,"rect")}}{constructor(e){if(super(),this._style={fillStyle:"#f03",strokeStyle:"#fff",lineWidth:1,lineJoin:"bevel",lineCap:"butt",globalAlpha:1},!e)return this;const t=i=>{this._ctx=i,this._ctx.fillStyle=this._style.fillStyle,this._ctx.strokeStyle=this._style.strokeStyle,this._ctx.lineJoin="bevel",this._ctx.font=this._font.value,this._ready=!0};e instanceof CanvasRenderingContext2D?t(e):(this._space=e,this._space.add({start:()=>{t(this._space.ctx)}}))}get space(){return this._space}get ctx(){return this._ctx}useOffscreen(e=!0,t=!1){return t&&this._space.clearOffscreen("string"==typeof t?t:null),this._ctx=this._space.hasOffscreen&&e?this._space.offscreenCtx:this._space.ctx,this}renderOffscreen(e=[0,0]){this._space.hasOffscreen&&this._space.ctx.drawImage(this._space.offscreenCanvas,e[0],e[1],this._space.width,this._space.height)}alpha(e){return this._ctx.globalAlpha=e,this._style.globalAlpha=e,this}fill(e){return"boolean"==typeof e?this.filled=e:(this.filled=!0,this._style.fillStyle=e,this._ctx.fillStyle=e),this}stroke(e,t,i,r){return"boolean"==typeof e?this.stroked=e:(this.stroked=!0,this._style.strokeStyle=e,this._ctx.strokeStyle=e,t&&(this._ctx.lineWidth=t,this._style.lineWidth=t),i&&(this._ctx.lineJoin=i,this._style.lineJoin=i),r&&(this._ctx.lineCap=r,this._style.lineCap=r)),this}applyFillStroke(e=!0,t=!0,i=1){return e&&("string"==typeof e&&this.fill(e),this._ctx.fill()),t&&("string"==typeof t&&this.stroke(t,i),this._ctx.stroke()),this}gradient(e){let t=[];e.length<2&&e.push([.99,"#000"],[1,"#000"]);for(let i=0,r=e.length;i<r;i++)t.push(["string"==typeof e[i]?i*(1/(e.length-1)):e[i][0],"string"==typeof e[i]?e[i]:e[i][1]]);return(i,r)=>{i=i.map(s=>s.abs()),r&&r.map(s=>s.abs());let o=r?this._ctx.createRadialGradient(i[0][0],i[0][1],i[1][0],r[0][0],r[0][1],r[1][0]):this._ctx.createLinearGradient(i[0][0],i[0][1],i[1][0],i[1][1]);for(let s=0,a=t.length;s<a;s++)o.addColorStop(t[s][0],t[s][1]);return o}}composite(e="source-over"){return this._ctx.globalCompositeOperation=e,this}clip(){return this._ctx.clip(),this}dash(e=!0,t=0){return e?(!0===e&&(e=[5,5]),this._ctx.setLineDash([e[0],e[1]]),this._ctx.lineDashOffset=t):(this._ctx.setLineDash([]),this._ctx.lineDashOffset=0),this}font(e,t,i,r,o){return"number"==typeof e?(this._font.size=e,o&&(this._font.face=o),t&&(this._font.weight=t),i&&(this._font.style=i),r&&(this._font.lineHeight=r)):this._font=e,this._ctx.font=this._font.value,this._estimateTextWidth&&this.fontWidthEstimate(!0),this}fontWidthEstimate(e=!0){return this._estimateTextWidth=e?EO.textWidthEstimator(t=>this._ctx.measureText(t).width):void 0,this}getTextWidth(e){return this._estimateTextWidth?this._estimateTextWidth(e):this._ctx.measureText(e+" .").width}_textTruncate(e,t,i=""){return EO.truncate(this.getTextWidth.bind(this),e,t,i)}_textAlign(e,t,i,r){let o=x.iterToArray(e);if(x.arrayCheck(o)){r||(r=ct.center(o));var s=o[0][0];"end"==this._ctx.textAlign||"right"==this._ctx.textAlign?s=o[1][0]:("center"==this._ctx.textAlign||"middle"==this._ctx.textAlign)&&(s=r[0]);var a=r[1];return"top"==t||"start"==t?a=o[0][1]:("end"==t||"bottom"==t)&&(a=o[1][1]),i?new w(s+i[0],a+i[1]):new w(s,a)}}reset(){for(let e in this._style)this._style.hasOwnProperty(e)&&(this._ctx[e]=this._style[e]);return this._font=new MO,this._ctx.font=this._font.value,this}_paint(){this._filled&&this._ctx.fill(),this._stroked&&this._ctx.stroke()}static point(e,t,i=5,r="square"){if(t){if(!xn[r])throw new Error(`${r} is not a static function of CanvasForm`);xn[r](e,t,i)}}point(e,t=5,i="square"){return xn.point(this._ctx,e,t,i),this._paint(),this}static circle(e,t,i=10){!t||(e.beginPath(),e.arc(t[0],t[1],i,0,Tt.two_pi,!1),e.closePath())}circle(e){let t=x.iterToArray(e);return xn.circle(this._ctx,t[0],t[1][0]),this._paint(),this}static ellipse(e,t,i,r=0,o=0,s=Tt.two_pi,a=!1){!t||!i||(e.beginPath(),e.ellipse(t[0],t[1],i[0],i[1],r,o,s,a))}ellipse(e,t,i=0,r=0,o=Tt.two_pi,s=!1){return xn.ellipse(this._ctx,e,t,i,r,o,s),this._paint(),this}static arc(e,t,i,r,o,s){!t||(e.beginPath(),e.arc(t[0],t[1],i,r,o,s))}arc(e,t,i,r,o){return xn.arc(this._ctx,e,t,i,r,o),this._paint(),this}static square(e,t,i){if(!t)return;let r=t[0]-i,o=t[1]-i,s=t[0]+i,a=t[1]+i;e.beginPath(),e.moveTo(r,o),e.lineTo(r,a),e.lineTo(s,a),e.lineTo(s,o),e.closePath()}square(e,t){return xn.square(this._ctx,e,t),this._paint(),this}static line(e,t){if(!x.arrayCheck(t))return;let i=0;e.beginPath();for(let r of t)r&&(i++>0?e.lineTo(r[0],r[1]):e.moveTo(r[0],r[1]))}line(e){return xn.line(this._ctx,e),this._paint(),this}static polygon(e,t){!x.arrayCheck(t)||(xn.line(e,t),e.closePath())}polygon(e){return xn.polygon(this._ctx,e),this._paint(),this}static rect(e,t){let i=x.iterToArray(t);!x.arrayCheck(i)||(e.beginPath(),e.moveTo(i[0][0],i[0][1]),e.lineTo(i[0][0],i[1][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[1][0],i[0][1]),e.closePath())}rect(e){return xn.rect(this._ctx,e),this._paint(),this}static image(e,t,i,r){let s,o=x.iterToArray(t);if("number"==typeof o[0])s=o;else if(r){let a=x.iterToArray(r);s=[a[0][0],a[0][1],a[1][0]-a[0][0],a[1][1]-a[0][1],o[0][0],o[0][1],o[1][0]-o[0][0],o[1][1]-o[0][1]]}else s=[o[0][0],o[0][1],o[1][0]-o[0][0],o[1][1]-o[0][1]];i instanceof Zo?i.loaded&&e.drawImage(i.image,...s):e.drawImage(i,...s)}image(e,t,i){return t instanceof Zo?t.loaded&&xn.image(this._ctx,e,t.image,i):xn.image(this._ctx,e,t,i),this}static imageData(e,t,i){let r=x.iterToArray(t);"number"==typeof r[0]?e.putImageData(i,r[0],r[1]):e.putImageData(i,r[0][0],r[0][1],r[0][0],r[0][1],r[1][0],r[1][1])}imageData(e,t){return xn.imageData(this._ctx,e,t),this}static text(e,t,i,r){!t||e.fillText(i,t[0],t[1],r)}text(e,t,i){return xn.text(this._ctx,e,t,i),this}textBox(e,t,i="middle",r="",o=!0){o&&(this._ctx.textBaseline=i);let s=ct.size(e),a=this._textTruncate(t,s[0],r);return this.text(this._textAlign(e,i),a[0]),this}paragraphBox(e,t,i=1.2,r="top",o=!0){let s=x.iterToArray(e),a=ct.size(s);this._ctx.textBaseline="top";let l=this._font.size*i,u=(p,_=[],m=0)=>{if(!p||o&&m*l>a[1]-2*l)return _;if(m>1e4)throw new Error("max recursion reached (10000)");let C=this._textTruncate(p,a[0],""),D=C[0].indexOf("\n");if(D>=0)return _.push(C[0].substr(0,D)),u(p.substr(D+1),_,m+1);let V=C[0].lastIndexOf(" ")+1;(V<=0||C[1]===p.length)&&(V=void 0);let j=C[0].substr(0,V);return _.push(j),C[1]<=0||C[1]===p.length?_:u(p.substr(V||C[1]),_,m+1)},c=u(t),d=c.length*l,h=s;if("middle"==r||"center"==r){let p=(a[1]-d)/2;o&&(p=Math.max(0,p)),h=new S(s[0].$add(0,p),s[1].$subtract(0,p))}else h="bottom"==r?new S(s[0].$add(0,a[1]-d),s[1]):new S(s[0],s[0].$add(a[0],d));let f=ct.center(h);for(let p=0,_=c.length;p<_;p++)this.text(this._textAlign(h,"top",[0,p*l],f),c[p]);return this}alignText(e="left",t="alphabetic"){return"center"==t&&(t="middle"),"baseline"==t&&(t="alphabetic"),this._ctx.textAlign=e,this._ctx.textBaseline=t,this}log(e){let t=this._ctx.measureText(e).width+20;return this.stroke(!1).fill("rgba(0,0,0,.4)").rect([[0,0],[t,20]]),this.fill("#fff").text([10,14],e),this}}const rg=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],og=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,9,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];class fK extends w{constructor(...e){super(...e),this.perm=[],this._n=new w(.01,.01),this.perm=og.concat(og)}initNoise(...e){return this._n=new w(...e),this}step(e=0,t=0){return this._n.add(e,t),this}seed(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(let t=0;t<255;t++)this.perm[t]=this.perm[t+256]=1&t?og[t]^255&e:og[t]^e>>8&255;return this}noise2D(){let e=Math.max(0,Math.floor(this._n[0]))%255,t=Math.max(0,Math.floor(this._n[1]))%255,i=this._n[0]%255-e,r=this._n[1]%255-t,o=Ze.dot(rg[(e+this.perm[t])%12],[i,r,0]),s=Ze.dot(rg[(e+this.perm[t+1])%12],[i,r-1,0]),a=Ze.dot(rg[(e+1+this.perm[t])%12],[i-1,r,0]),l=Ze.dot(rg[(e+1+this.perm[t+1])%12],[i-1,r-1,0]),u=d=>d*d*d*(d*(6*d-15)+10),c=u(i);return At.lerp(At.lerp(o,a,c),At.lerp(s,l,c),u(r))}}class ub extends S{constructor(){super(...arguments),this._mesh=[]}delaunay(e=!0){if(this.length<3)return[];this._mesh=[];let t=this.length,i=[];for(let u=0;u<t;u++)i[u]=u;i.sort((u,c)=>this[c][0]-this[u][0]);let r=this.slice(),o=this._superTriangle();r=r.concat(o);let s=[this._circum(t,t+1,t+2,o)],a=[],l=[];for(let u=0,c=i.length;u<c;u++){let d=i[u],h=[],f=s.length;for(this._mesh[d]||(this._mesh[d]={});f--;){let p=s[f],_=p.circle[1][0],m=r[d].$subtract(p.circle[0]);m[0]>0&&m[0]*m[0]>_*_?(a.push(p),l.push(p.triangle),s.splice(f,1)):m[0]*m[0]+m[1]*m[1]-_*_>Tt.epsilon||(h.push(p.i,p.j,p.j,p.k,p.k,p.i),s.splice(f,1))}for(ub._dedupe(h),f=h.length;f>1;)s.push(this._circum(h[--f],h[--f],d,!1,r))}for(let u=0,c=s.length;u<c;u++){let d=s[u];d.i<t&&d.j<t&&d.k<t&&(a.push(d),l.push(d.triangle),this._cache(d))}return e?l:a}voronoi(){let e=[];for(let i=0,r=this._mesh.length;i<r;i++)e.push(this.neighborPts(i,!0));return e}mesh(){return this._mesh}neighborPts(e,t=!1){let i=new S,r=this._mesh;for(let o in r[e])r[e].hasOwnProperty(o)&&i.push(r[e][o].circle[0]);return t?Ae.sortEdges(i):i}neighbors(e){let t=[],i=this._mesh;for(let r in i[e])i[e].hasOwnProperty(r)&&t.push(i[e][r]);return t}_cache(e){this._mesh[e.i][`${Math.min(e.j,e.k)}-${Math.max(e.j,e.k)}`]=e,this._mesh[e.j][`${Math.min(e.i,e.k)}-${Math.max(e.i,e.k)}`]=e,this._mesh[e.k][`${Math.min(e.i,e.j)}-${Math.max(e.i,e.j)}`]=e}_superTriangle(){let e=this[0],t=this[0];for(let s=1,a=this.length;s<a;s++)e=e.$min(this[s]),t=t.$max(this[s]);let i=t.$subtract(e),r=e.$add(t).divide(2),o=Math.max(i[0],i[1]);return new S(r.$subtract(20*o,o),r.$add(0,20*o),r.$add(20*o,-o))}_triangle(e,t,i,r=this){return new S(r[e],r[t],r[i])}_circum(e,t,i,r,o=this){let s=r||this._triangle(e,t,i,o);return{i:e,j:t,k:i,triangle:s,circle:_r.circumcircle(s)}}static _dedupe(e){let t=e.length;for(;t>1;){let i=e[--t],r=e[--t],o=t;for(;o>1;){let s=e[--o],a=e[--o];if(r==a&&i==s||r==s&&i==a){e.splice(t,2),e.splice(o,2);break}}}return e}}class te extends w{constructor(...e){super(...e),this._mode="rgb",this._isNorm=!1}static from(...e){let t=[1,1,1,1],i=x.getArgs(e);for(let r=0,o=t.length;r<o;r++)r<i.length&&(t[r]=i[r]);return new te(t)}static fromHex(e){if("#"==e[0]&&(e=e.substr(1)),e.length<=3){let r=o=>e[o]||"F";e=`${r(0)}${r(0)}${r(1)}${r(1)}${r(2)}${r(2)}`}let t=1;8===e.length&&(t=e.substr(6)&&1,e=e.substring(0,6));let i=parseInt(e,16);return new te(i>>16,i>>8&255,255&i,t)}static rgb(...e){return te.from(...e).toMode("rgb")}static hsl(...e){return te.from(...e).toMode("hsl")}static hsb(...e){return te.from(...e).toMode("hsb")}static lab(...e){return te.from(...e).toMode("lab")}static lch(...e){return te.from(...e).toMode("lch")}static luv(...e){return te.from(...e).toMode("luv")}static xyz(...e){return te.from(...e).toMode("xyz")}static maxValues(e){return te.ranges[e].zipSlice(1).$take([0,1,2])}get hex(){return this.toString("hex")}get rgb(){return this.toString("rgb")}get rgba(){return this.toString("rgba")}clone(){let e=new te(this);return e.toMode(this._mode),e}toMode(e,t=!1){if(t){let i=this._mode.toUpperCase()+"to"+e.toUpperCase();if(!te[i])throw new Error("Cannot convert color with "+i);this.to(te[i](this,this._isNorm,this._isNorm))}return this._mode=e,this}get mode(){return this._mode}get r(){return this[0]}set r(e){this[0]=e}get g(){return this[1]}set g(e){this[1]=e}get b(){return this[2]}set b(e){this[2]=e}get h(){return"lch"==this._mode?this[2]:this[0]}set h(e){this["lch"==this._mode?2:0]=e}get s(){return this[1]}set s(e){this[1]=e}get l(){return"hsl"==this._mode?this[2]:this[0]}set l(e){this["hsl"==this._mode?2:0]=e}get a(){return this[1]}set a(e){this[1]=e}get c(){return this[1]}set c(e){this[1]=e}get u(){return this[1]}set u(e){this[1]=e}get v(){return this[2]}set v(e){this[2]=e}set alpha(e){this.length>3&&(this[3]=e)}get alpha(){return this.length>3?this[3]:1}get normalized(){return this._isNorm}set normalized(e){this._isNorm=e}normalize(e=!0){if(this._isNorm==e)return this;let t=te.ranges[this._mode];for(let i=0;i<3;i++)this[i]=e?At.mapToRange(this[i],t[i][0],t[i][1],0,1):At.mapToRange(this[i],0,1,t[i][0],t[i][1]);return this._isNorm=e,this}$normalize(e=!0){return this.clone().normalize(e)}toString(e="mode"){if("hex"==e){let t=i=>{let r=Math.floor(i).toString(16);return r.length<2?"0"+r:r};return`#${t(this[0])}${t(this[1])}${t(this[2])}`}return"rgba"==e?`rgba(${Math.floor(this[0])},${Math.floor(this[1])},${Math.floor(this[2])},${this.alpha})`:"rgb"==e?`rgb(${Math.floor(this[0])},${Math.floor(this[1])},${Math.floor(this[2])})`:`${this._mode}(${this[0]},${this[1]},${this[2]},${this.alpha})`}static RGBtoHSL(e,t=!1,i=!1){let[r,o,s]=t?e:e.$normalize(),a=Math.max(r,o,s),l=Math.min(r,o,s),u=(a+l)/2,c=u,d=u;if(a==l)u=0,c=0;else{let h=a-l;c=d>.5?h/(2-a-l):h/(a+l),u=0,a===r?u=(o-s)/h+(o<s?6:0):a===o?u=(s-r)/h+2:a===s&&(u=(r-o)/h+4)}return te.hsl(i?u/60:60*u,c,d,e.alpha)}static HSLtoRGB(e,t=!1,i=!1){let[r,o,s]=e;if(t||(r/=360),0==o)return te.rgb(255*s,255*s,255*s,e.alpha);let a=s<=.5?s*(1+o):s+o-s*o,l=2*s-a,u=d=>6*(d=d<0?d+1:d>1?d-1:d)<1?l+(a-l)*d*6:2*d<1?a:3*d<2?l+(a-l)*(2/3-d)*6:l,c=i?1:255;return te.rgb(c*u(r+1/3),c*u(r),c*u(r-1/3),e.alpha)}static RGBtoHSB(e,t=!1,i=!1){let[r,o,s]=t?e:e.$normalize(),a=Math.max(r,o,s),l=Math.min(r,o,s),u=a-l,c=0;return a!=l&&(a===r?c=(o-s)/u+(o<s?6:0):a===o?c=(s-r)/u+2:a===s&&(c=(r-o)/u+4)),te.hsb(i?c/60:60*c,0===a?0:u/a,a,e.alpha)}static HSBtoRGB(e,t=!1,i=!1){let[r,o,s]=e;t||(r/=360);let a=Math.floor(6*r),l=6*r-a,u=s*(1-o),c=s*(1-l*o),d=s*(1-(1-l)*o),f=[[s,d,u],[c,s,u],[u,s,d],[u,c,s],[d,u,s],[s,u,c]][a%6],p=i?1:255;return te.rgb(p*f[0],p*f[1],p*f[2],e.alpha)}static RGBtoLAB(e,t=!1,i=!1){let r=t?e.$normalize(!1):e;return te.XYZtoLAB(te.RGBtoXYZ(r),!1,i)}static LABtoRGB(e,t=!1,i=!1){let r=t?e.$normalize(!1):e;return te.XYZtoRGB(te.LABtoXYZ(r),!1,i)}static RGBtoLCH(e,t=!1,i=!1){let r=t?e.$normalize(!1):e;return te.LABtoLCH(te.RGBtoLAB(r),!1,i)}static LCHtoRGB(e,t=!1,i=!1){let r=t?e.$normalize(!1):e;return te.LABtoRGB(te.LCHtoLAB(r),!1,i)}static RGBtoLUV(e,t=!1,i=!1){let r=t?e.$normalize(!1):e;return te.XYZtoLUV(te.RGBtoXYZ(r),!1,i)}static LUVtoRGB(e,t=!1,i=!1){let r=t?e.$normalize(!1):e;return te.XYZtoRGB(te.LUVtoXYZ(r),!1,i)}static RGBtoXYZ(e,t=!1,i=!1){let r=t?e.clone():e.$normalize();for(let s=0;s<3;s++)r[s]=r[s]>.04045?Math.pow((r[s]+.055)/1.055,2.4):r[s]/12.92,i||(r[s]=100*r[s]);let o=te.xyz(.4124564*r[0]+.3575761*r[1]+.1804375*r[2],.2126729*r[0]+.7151522*r[1]+.072175*r[2],.0193339*r[0]+.119192*r[1]+.9503041*r[2],e.alpha);return i?o.normalize():o}static XYZtoRGB(e,t=!1,i=!1){let[r,o,s]=t?e:e.$normalize(),a=[3.2406254773200533*r+-1.5372079722103187*o+-.4986285986982479*s,-.9689307147293197*r+1.8757560608852415*o+.041517523842953964*s,.055710120445510616*r+-.2040210505984867*o+1.0569959422543882*s];for(let u=0;u<3;u++)a[u]=a[u]>.0031308?1.055*Math.pow(a[u],1/2.4)-.055:12.92*a[u],a[u]=Math.max(0,Math.min(1,a[u])),i||(a[u]=Math.round(255*a[u]));let l=te.rgb(a[0],a[1],a[2],e.alpha);return i?l.normalize():l}static XYZtoLAB(e,t=!1,i=!1){let r=t?e.$normalize(!1):e.clone();r.divide(te.D65);let a=c=>c>.00885645167?Math.pow(c,1/3):(903.296296296*c+16)/116,l=a(r[1]),u=te.lab(116*l-16,500*(a(r[0])-l),200*(l-a(r[2])),e.alpha);return i?u.normalize():u}static LABtoXYZ(e,t=!1,i=!1){let r=t?e.$normalize(!1):e,o=(r[0]+16)/116,s=r[1]/500+o,a=o-r[2]/200;const l=.00885645167,u=903.296296296;let c=te.D65;const d=Math.pow(s,3),h=Math.pow(a,3);let f=te.xyz(c[0]*(d>l?d:(116*s-16)/u),c[1]*(r[0]>u*l?Math.pow((r[0]+16)/116,3):r[0]/u),c[2]*(h>l?h:(116*a-16)/u),e.alpha);return i?f.normalize():f}static XYZtoLUV(e,t=!1,i=!1){let[r,o,s]=t?e.$normalize(!1):e,a=4*r/(r+15*o+3*s),l=9*o/(r+15*o+3*s);o/=100,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116;let d=116*o-16;return te.luv(d,13*d*(a-4*te.D65[0]/(te.D65[0]+15*te.D65[1]+3*te.D65[2])),13*d*(l-9*te.D65[1]/(te.D65[0]+15*te.D65[1]+3*te.D65[2])),e.alpha)}static LUVtoXYZ(e,t=!1,i=!1){let[r,o,s]=t?e.$normalize(!1):e,a=(r+16)/116,l=a*a*a;a=l>.008856?l:(a-16/116)/7.787,o=o/(13*r)+4*te.D65[0]/(te.D65[0]+15*te.D65[1]+3*te.D65[2]),s=s/(13*r)+9*te.D65[1]/(te.D65[0]+15*te.D65[1]+3*te.D65[2]),a*=100;let d=9*a*o*-1/((o-4)*s-o*s);return te.xyz(d,a,(9*a-15*s*a-s*d)/(3*s),e.alpha)}static LABtoLCH(e,t=!1,i=!1){let r=t?e.$normalize(!1):e,o=Ae.toDegree(Ae.boundRadian(Math.atan2(r[2],r[1])));return te.lch(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]),o,e.alpha)}static LCHtoLAB(e,t=!1,i=!1){let r=t?e.$normalize(!1):e,o=Ae.toRadian(r[2]);return te.lab(r[0],Math.cos(o)*r[1],Math.sin(o)*r[1],e.alpha)}}te.D65=new w(95.047,100,108.883,1),te.ranges={rgb:new S(new w(0,255),new w(0,255),new w(0,255)),hsl:new S(new w(0,360),new w(0,1),new w(0,1)),hsb:new S(new w(0,360),new w(0,1),new w(0,1)),lab:new S(new w(0,100),new w(-128,127),new w(-128,127)),lch:new S(new w(0,100),new w(0,100),new w(0,360)),luv:new S(new w(0,100),new w(-134,220),new w(-140,122)),xyz:new S(new w(0,100),new w(0,100),new w(0,100))};let mK=(()=>{class n{constructor(t,i,r){this.elementRef=t,this.ngZone=i,this.gameService=r,this.destroy$=new Nt,this.pts=new S,this.space=new xO(this.elementRef.nativeElement),this.gameService.sequence$().pipe(rt(this.destroy$),on(o=>{this.board=o})).subscribe()}ngAfterViewInit(){const t=Math.min(.7*window.innerWidth,.9*window.innerHeight),i=this.elementRef.nativeElement.getContext("2d");i&&(i.canvas.width=t,i.canvas.height=t),this.space=new xO(this.elementRef.nativeElement),this.space.setup({bgcolor:"rgba(255,255,255,0)"});const r=this.space.getForm(),o=[];let s=0;this.space.add({animate:()=>{if(!this.board)throw new Error("broken board");if(0===this.pts.length){this.pts=class{static distributeRandom(e,t,i=2){let r=new S;for(let o=0;o<t;o++){let s=[e.x+At.random()*e.width];i>1&&s.push(e.y+At.random()*e.height),i>2&&s.push(e.z+At.random()*e.depth),r.push(new w(s))}return r}static distributeLinear(e,t){let i=x.iterToArray(e),r=gt.subpoints(i,t-2);return r.unshift(i[0]),r.push(i[i.length-1]),r}static gridPts(e,t,i,r=[.5,.5]){if(0===t||0===i)throw new Error("grid columns and rows cannot be 0");let o=e.size.$subtract(1).$divide(t,i),s=o.$multiply(r),a=new S;for(let l=0;l<i;l++)for(let u=0;u<t;u++)a.push(e.topLeft.$add(o.$multiply(u,l)).add(s));return a}static gridCells(e,t,i){if(0===t||0===i)throw new Error("grid columns and rows cannot be 0");let r=e.size.$subtract(1).divide(t,i),o=[];for(let s=0;s<i;s++)for(let a=0;a<t;a++)o.push(new S(e.topLeft.$add(r.$multiply(a,s)),e.topLeft.$add(r.$multiply(a,s).add(r))));return o}static radialPts(e,t,i,r=-Tt.half_pi){let o=new S,s=Tt.two_pi/i;for(let a=0;a<i;a++)o.push(new w(e).toAngle(s*a+r,t,!0));return o}static noisePts(e,t=.01,i=.01,r=0,o=0){let s=At.random(),a=new S,l=0;for(let u of e){let c=new fK(u),d=r&&r>0?Math.floor(l/r):l;c.initNoise(t*(o&&o>0?l%o:l),i*d),c.seed(s),a.push(c),l++}return a}static delaunay(e){return ub.from(e)}}.gridPts(this.space.innerBound,this.board.size,this.board.size),this.pts.map((m,C)=>m.id=C.toString()),s=.42*(this.pts.p2.x-this.pts.p1.x);const c=this.space.innerBound,d=2*this.board.size-1,h=gt.subpoints([c.p1,new w([c.p1.x,c.q1.y])],d),f=gt.subpoints([new w([c.q1.x,c.p1.y]),c.q1],d),p=gt.subpoints([c.p1,new w([c.q1.x,c.p1.y])],d),_=gt.subpoints([new w([c.p1.x,c.q1.y]),c.q1],d);for(let m=0;m<d;m+=2)o.push(S.fromArray([h[m],f[m]])),o.push(S.fromArray([p[m],_[m]]))}const a=this.space.pointer;this.pts.sort((c,d)=>c.$subtract(a).magnitudeSq()-d.$subtract(a).magnitudeSq()),r.strokeOnly("rgba(255,255,255,0.5)").lines(o);const l=this.board.id%2?this.board.enemy:this.board.player;ct.withinBound(this.space.innerBound,a)&&l.type===Do.HUMAN&&!this.board.winner&&(r.dash().strokeOnly(l.color+"1)",2).point(this.pts[0],s,"circle"),r.fillOnly(l.color+"0.3)").point(this.pts.p1,s,"circle")),r.fillOnly(this.board.player.color+"1)").points(this.board.player.map.map(c=>this.pts.find(d=>d.id===c.toString())??this.pts.p1),1.1*s,"circle"),r.fillOnly(this.board.enemy.color+"1)").points(this.board.enemy.map.map(c=>this.pts.find(d=>d.id===c.toString())??this.pts.p1),1.1*s,"circle"),this.board.winner&&r.strokeOnly("rgba(255,255,255,0.7)",3).points(this.board.winner.combination.map(c=>this.pts.find(d=>d.id===c.toString())??this.pts.p1),1.1*s,"circle"),["player","enemy"].map(c=>{if(this.board){const d=this.board[c];d.map.map((h,f)=>{r.fillOnly("rgba(255,255,255,0.7)").font(s,"bold").alignText("center","middle").text(this.pts.find(p=>p.id===h.toString())??this.pts.p1,d.turn[f].toString()??"",2*s)})}})},action:a=>{if(("drop"===a||"up"===a)&&ct.withinBound(this.space.innerBound,this.space.pointer)&&this.board&&!this.board.winner){const l=this.board.id%2?this.board.enemy:this.board.player;!this.board.player.map.includes(+this.pts.p1.id)&&!this.board.enemy.map.includes(+this.pts.p1.id)&&!this.board.blocked.includes(+this.pts.p1.id)&&l.type===Do.HUMAN&&(l.map.push(+this.pts.p1.id),this.board.timestamp=(new Date).getTime(),this.gameService.makeTurn(this.board))}}}),this.ngZone.runOutsideAngular(()=>{this.space.bindMouse().bindTouch().play()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(g(I),g(ve),g(tb))},n.\u0275dir=L({type:n,selectors:[["","gomokuDrawer",""]]}),n})(),_K=(()=>{class n{transform(t){return t<10?Math.trunc(10*t)/10+" ms":t<100?Math.trunc(t)+" ms":t<9999?Math.trunc(t/100)/10+" s":t<59999?Math.trunc(t/1e3)+" s":Math.trunc(t/6e4)+" m"+Math.trunc(t%6e4/1e3)+" s"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Pn({name:"simpleTime",type:n,pure:!0}),n})();function yK(n,e){if(1&n&&(F(0,"div",12),Qe(1),N()),2&n){const t=W().ngIf;B(1),ri(" Captured: ",t.player.captured," ")}}function vK(n,e){if(1&n&&(F(0,"span"),Qe(1),N()),2&n){const t=W().ngIf;B(1),ri(" - ",t.player.depth,"")}}function bK(n,e){if(1&n&&(F(0,"div",13),Qe(1),Et(2,"number"),Et(3,"number"),Et(4,"simpleTime"),N()),2&n){const t=e.$implicit;B(1),jh(" ",t.turn," [ ",Ot(2,4,t.count)," / ",Ot(3,6,t.capacity)," ]: ",Ot(4,8,t.delta)," ")}}function wK(n,e){if(1&n&&(F(0,"div",12),Qe(1),N()),2&n){const t=W().ngIf;B(1),ri(" Captured: ",t.enemy.captured," ")}}function DK(n,e){if(1&n&&(F(0,"span"),Qe(1),N()),2&n){const t=W().ngIf;B(1),ri(" - ",t.enemy.depth,"")}}function CK(n,e){if(1&n&&(F(0,"div",13),Qe(1),Et(2,"number"),Et(3,"number"),Et(4,"simpleTime"),N()),2&n){const t=e.$implicit;B(1),jh(" ",t.turn," [ ",Ot(2,4,t.count)," / ",Ot(3,6,t.capacity)," ]: ",Ot(4,8,t.delta)," ")}}const ag=function(n){return{color:n}},TK=function(){return["/welcome"]};function MK(n,e){if(1&n&&(F(0,"div",14),F(1,"div"),Qe(2," Congratulation "),F(3,"span"),Qe(4,"champion"),N(),Qe(5,"! "),N(),F(6,"div"),F(7,"a",15),Qe(8," Play again "),N(),N(),N()),2&n){const t=W().ngIf;B(3),vi(Ro(3,ag,t.advance.winner)),B(4),M("routerLink",nf(5,TK))}}const PO=function(n){return{active:n}};function EK(n,e){if(1&n&&(F(0,"div",2),F(1,"div",3),$(2,yK,2,1,"div",4),F(3,"div",5),Qe(4),Et(5,"titlecase"),$(6,vK,2,1,"span",6),N(),$(7,bK,5,10,"div",7),N(),F(8,"div",8),he(9,"canvas",9),F(10,"div",10),Qe(11),N(),N(),F(12,"div",3),$(13,wK,2,1,"div",4),F(14,"div",5),Qe(15),Et(16,"titlecase"),$(17,DK,2,1,"span",6),N(),$(18,CK,5,10,"div",7),N(),$(19,MK,9,6,"div",11),N()),2&n){const t=e.ngIf;B(2),M("ngIf",t.player.captured),B(1),vi(Ro(24,ag,t.player.color)),l_(Ro(26,PO,!t.player.turn)),B(1),ri(" ",Ot(5,20,t.player.name)," "),B(2),M("ngIf","ai"===t.player.name),B(1),M("ngForOf",t.player.info),B(3),vi(Ro(28,ag,t.advance.color)),B(1),ri(" Round: ",t.advance.turn," "),B(2),M("ngIf",t.enemy.captured),B(1),vi(Ro(30,ag,t.enemy.color)),l_(Ro(32,PO,t.player.turn)),B(1),ri(" ",Ot(16,22,t.enemy.name),""),B(2),M("ngIf","ai"===t.enemy.name),B(1),M("ngForOf",t.enemy.info),B(1),M("ngIf",t.advance.winner)}}const SK=function(){return["/settings"]};function xK(n,e){1&n&&(F(0,"div",16),F(1,"button",17),Qe(2," Settings "),N(),N()),2&n&&(B(1),M("routerLink",nf(1,SK)))}const AK=[{path:"welcome",component:sq},{path:"about",component:aq},{path:"settings",component:rK},{path:"game",component:(()=>{class n{constructor(t){this.gameService=t,this.players$=this.gameService.sequence$().pipe(J(i=>({player:{name:i.player.type,color:i.player.color+"1)",captured:i.player.captured,turn:!!(i.id%2),info:i.player.info.sequence,depth:i.player.options.deep},enemy:{name:i.enemy.type,color:i.enemy.color+"1)",captured:i.enemy.captured,turn:!!(i.id%2),info:i.enemy.info.sequence,depth:i.enemy.options.deep},advance:{winner:i.winner?i.winner.color():void 0,color:((i.id-+!!i.winner)%2?i.enemy.color:i.player.color)+"1)",turn:Math.trunc(i.id/2)+1-+!!i.winner}})))}}return n.\u0275fac=function(t){return new(t||n)(g(tb))},n.\u0275cmp=je({type:n,selectors:[["gomoku-game"]],decls:4,vars:4,consts:[["class","game",4,"ngIf","ngIfElse"],["endGame",""],[1,"game"],[1,"info"],["class","header",4,"ngIf"],[1,"name","header"],[4,"ngIf"],["class","timer",4,"ngFor","ngForOf"],[1,"middle-section"],["gomokuDrawer","",1,"playing-field"],[1,"info",2,"font-size","2rem"],["class","game-message",4,"ngIf"],[1,"header"],[1,"timer"],[1,"game-message"],["tuiButton","","type","button",1,"tui-space_right-3","tui-space_bottom-3",3,"routerLink"],[1,"btn-block"],["tuiButton","","type","button","size","xl","appearance","primary",3,"routerLink"]],template:function(t,i){if(1&t&&($(0,EK,20,34,"div",0),Et(1,"async"),$(2,xK,3,2,"ng-template",null,1,ki)),2&t){const r=mn(3);M("ngIf",Ot(1,2,i.players$))("ngIfElse",r)}},directives:[Rt,ms,mK,Zt,Zp,Md],pipes:[Li,Sy,s1,_K],styles:[".game[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.game-message[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%}.game[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:1 1 auto;width:113px;text-align:center;display:flex;flex-direction:column}.game[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-bottom:1rem}.game[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{white-space:nowrap;padding-bottom:.2rem}.game[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:2rem;font-weight:bold}.game[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{text-shadow:0 0 20px;transform:scale(1.1)}.game[_ngcontent-%COMP%]   .middle-section[_ngcontent-%COMP%]{position:relative}.game[_ngcontent-%COMP%]   .middle-section[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;transform:translate(-50%,-2rem);width:min-content;white-space:nowrap}.game[_ngcontent-%COMP%]   .middle-section[_ngcontent-%COMP%]   .playing-field[_ngcontent-%COMP%]{aspect-ratio:1/1;touch-action:none;-webkit-user-select:none;user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}"],changeDetection:0}),n})()},{path:"**",redirectTo:"/welcome"}];let IK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({providers:[],imports:[[Ed.forRoot(AK)],Ed]}),n})(),OK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,hd,Ed]]}),n})(),PK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,Ed,hd,vA,B9,Z9,fO]]}),n})(),RK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt]]}),n})(),FK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt]]}),n})(),NK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt,RK,hd,Ed,FK]]}),n})(),kK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=G({imports:[[lt]]}),n})(),LK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n,bootstrap:[rq]}),n.\u0275inj=G({providers:[{provide:tu,useClass:_o},{provide:la,useClass:WE}],imports:[[Vy,MG,YU,VG,w8,IK,OK,PK,NK,kK,BG,MA]]}),n})();(function(){if(uE)throw new Error("Cannot enable prod mode after platform setup.");lE=!1})(),mj().bootstrapModule(LK).catch(n=>console.error(n))},358:function(Rs){Rs.exports=function(){"use strict";var pi=Object.hasOwnProperty,Ti=Object.setPrototypeOf,_u=Object.isFrozen,Mi=Object.getPrototypeOf,Xo=Object.getOwnPropertyDescriptor,an=Object.freeze,Vn=Object.seal,yu=Object.create,ug="undefined"!=typeof Reflect&&Reflect,Mo=ug.apply,pt=ug.construct;Mo||(Mo=function(z,Me,ot){return z.apply(Me,ot)}),an||(an=function(z){return z}),Vn||(Vn=function(z){return z}),pt||(pt=function(z,Me){return new(Function.prototype.bind.apply(z,[null].concat(function(X){if(Array.isArray(X)){for(var z=0,Me=Array(X.length);z<X.length;z++)Me[z]=X[z];return Me}return Array.from(X)}(Me))))});var X,Id=gi(Array.prototype.forEach),Fs=gi(Array.prototype.pop),ka=gi(Array.prototype.push),Ne=gi(String.prototype.toLowerCase),vu=gi(String.prototype.match),Gr=gi(String.prototype.replace),cg=gi(String.prototype.indexOf),Ns=gi(String.prototype.trim),Ei=gi(RegExp.prototype.test),bu=(X=TypeError,function(){for(var z=arguments.length,Me=Array(z),ot=0;ot<z;ot++)Me[ot]=arguments[ot];return pt(X,Me)});function gi(X){return function(z){for(var Me=arguments.length,ot=Array(Me>1?Me-1:0),zt=1;zt<Me;zt++)ot[zt-1]=arguments[zt];return Mo(X,z,ot)}}function Ve(X,z){Ti&&Ti(X,null);for(var Me=z.length;Me--;){var ot=z[Me];if("string"==typeof ot){var zt=Ne(ot);zt!==ot&&(_u(z)||(z[Me]=zt),ot=zt)}X[ot]=!0}return X}function ks(X){var z=yu(null),Me=void 0;for(Me in X)Mo(pi,X,[Me])&&(z[Me]=X[Me]);return z}function Ui(X,z){for(;null!==X;){var Me=Xo(X,z);if(Me){if(Me.get)return gi(Me.get);if("function"==typeof Me.value)return gi(Me.value)}X=Mi(X)}return function(zt){return console.warn("fallback value for",zt),null}}var wu=an(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),La=an(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Nt=an(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Od=an(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wr=an(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),J=an(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pd=an(["#text"]),Rd=an(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Va=an(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fd=an(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ha=an(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ba=Vn(/\{\{[\s\S]*|[\s\S]*\}\}/gm),pb=Vn(/<%[\s\S]*|[\s\S]*%>/gm),dg=Vn(/^data-[\-\w.\u00B7-\uFFFF]/),hg=Vn(/^aria-[\-\w]+$/),Nd=Vn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kd=Vn(/^(?:\w+script|data):/i),Du=Vn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};function zi(X){if(Array.isArray(X)){for(var z=0,Me=Array(X.length);z<X.length;z++)Me[z]=X[z];return Me}return Array.from(X)}var Cu=function(){return"undefined"==typeof window?null:window},fg=function(z,Me){if("object"!==(void 0===z?"undefined":Ls(z))||"function"!=typeof z.createPolicy)return null;var ot=null,zt="data-tt-policy-suffix";Me.currentScript&&Me.currentScript.hasAttribute(zt)&&(ot=Me.currentScript.getAttribute(zt));var Tu="dompurify"+(ot?"#"+ot:"");try{return z.createPolicy(Tu,{createHTML:function(Gt){return Gt}})}catch{return console.warn("TrustedTypes policy "+Tu+" could not be created."),null}};return function Ld(){var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu(),z=function(T){return Ld(T)};if(z.version="2.2.9",z.removed=[],!X||!X.document||9!==X.document.nodeType)return z.isSupported=!1,z;var Me=X.document,ot=X.document,zt=X.DocumentFragment,Tu=X.HTMLTemplateElement,Gi=X.Node,Gt=X.Element,Mu=X.NodeFilter,Vd=X.NamedNodeMap,gb=void 0===Vd?X.NamedNodeMap||X.MozNamedAttrMap:Vd,Vs=X.Text,Eu=X.Comment,st=X.DOMParser,Su=X.trustedTypes,$a=Gt.prototype,gg=Ui($a,"cloneNode"),Hd=Ui($a,"nextSibling"),mg=Ui($a,"childNodes"),xu=Ui($a,"parentNode");if("function"==typeof Tu){var Bd=ot.createElement("template");Bd.content&&Bd.content.ownerDocument&&(ot=Bd.content.ownerDocument)}var qr=fg(Su,Me),$d=qr&&Ua?qr.createHTML(""):"",Iu=ot.implementation,Hs=ot.createNodeIterator,tt=ot.createDocumentFragment,Ou=Me.importNode,Re={};try{Re=ks(ot).documentMode?ot.documentMode:{}}catch{}var mi={};z.isSupported="function"==typeof xu&&Iu&&void 0!==Iu.createHTMLDocument&&9!==Re;var Pu=Ba,le=pb,oe=dg,jd=hg,mb=kd,Kr=Du,Ud=Nd,ln=null,be=Ve({},[].concat(zi(wu),zi(La),zi(Nt),zi(Wr),zi(Pd))),it=null,zd=Ve({},[].concat(zi(Rd),zi(Va),zi(Fd),zi(Ha))),Gd=null,_g=null,Bs=!0,In=!0,yg=!1,es=!1,ja=!1,Si=!1,Wd=!1,$s=!1,Ru=!1,vg=!0,Ua=!1,bg=!0,Fu=!0,za=!1,un={},_t=Ve({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),wg=null,Dg=Ve({},["audio","video","img","source","image","track"]),qd=null,K=Ve({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Nu="http://www.w3.org/1998/Math/MathML",G="http://www.w3.org/2000/svg",On="http://www.w3.org/1999/xhtml",Ga=On,ku=!1,ts=null,Kd=ot.createElement("form"),ns=function(T){ts&&ts===T||((!T||"object"!==(void 0===T?"undefined":Ls(T)))&&(T={}),T=ks(T),ln="ALLOWED_TAGS"in T?Ve({},T.ALLOWED_TAGS):be,it="ALLOWED_ATTR"in T?Ve({},T.ALLOWED_ATTR):zd,qd="ADD_URI_SAFE_ATTR"in T?Ve(ks(K),T.ADD_URI_SAFE_ATTR):K,wg="ADD_DATA_URI_TAGS"in T?Ve(ks(Dg),T.ADD_DATA_URI_TAGS):Dg,Gd="FORBID_TAGS"in T?Ve({},T.FORBID_TAGS):{},_g="FORBID_ATTR"in T?Ve({},T.FORBID_ATTR):{},Bs=!1!==T.ALLOW_ARIA_ATTR,In=!1!==T.ALLOW_DATA_ATTR,yg=T.ALLOW_UNKNOWN_PROTOCOLS||!1,ja=T.WHOLE_DOCUMENT||!1,$s=T.RETURN_DOM||!1,vg=!1!==T.RETURN_DOM_IMPORT,Ua=T.RETURN_TRUSTED_TYPE||!1,Wd=T.FORCE_BODY||!1,bg=!1!==T.SANITIZE_DOM,Fu=!1!==T.KEEP_CONTENT,za=T.IN_PLACE||!1,Ud=T.ALLOWED_URI_REGEXP||Ud,Ga=T.NAMESPACE||On,(es=T.SAFE_FOR_TEMPLATES||!1)&&(In=!1),(Ru=T.RETURN_DOM_FRAGMENT||!1)&&($s=!0),(un="USE_PROFILES"in T&&T.USE_PROFILES)&&(ln=Ve({},[].concat(zi(Pd))),it=[],!0===un.html&&(Ve(ln,wu),Ve(it,Rd)),!0===un.svg&&(Ve(ln,La),Ve(it,Va),Ve(it,Ha)),!0===un.svgFilters&&(Ve(ln,Nt),Ve(it,Va),Ve(it,Ha)),!0===un.mathMl&&(Ve(ln,Wr),Ve(it,Fd),Ve(it,Ha))),T.ADD_TAGS&&(ln===be&&(ln=ks(ln)),Ve(ln,T.ADD_TAGS)),T.ADD_ATTR&&(it===zd&&(it=ks(it)),Ve(it,T.ADD_ATTR)),T.ADD_URI_SAFE_ATTR&&Ve(qd,T.ADD_URI_SAFE_ATTR),Fu&&(ln["#text"]=!0),ja&&Ve(ln,["html","head","body"]),ln.table&&(Ve(ln,["tbody"]),delete Gd.tbody),an&&an(T),ts=T)},Wa=Ve({},["mi","mo","mn","ms","mtext"]),Lu=Ve({},["foreignobject","desc","title","annotation-xml"]),qa=Ve({},La);Ve(qa,Nt),Ve(qa,Od);var se=Ve({},Wr);Ve(se,J);var Vu=function(T){var R=xu(T);(!R||!R.tagName)&&(R={namespaceURI:On,tagName:"template"});var ne=Ne(T.tagName),ht=Ne(R.tagName);if(T.namespaceURI===G)return R.namespaceURI===On?"svg"===ne:R.namespaceURI===Nu?"svg"===ne&&("annotation-xml"===ht||Wa[ht]):Boolean(qa[ne]);if(T.namespaceURI===Nu)return R.namespaceURI===On?"math"===ne:R.namespaceURI===G?"math"===ne&&Lu[ht]:Boolean(se[ne]);if(T.namespaceURI===On){if(R.namespaceURI===G&&!Lu[ht]||R.namespaceURI===Nu&&!Wa[ht])return!1;var Lt=Ve({},["title","style","font","a","script"]);return!se[ne]&&(Lt[ne]||!qa[ne])}return!1},Qr=function(T){ka(z.removed,{element:T});try{T.parentNode.removeChild(T)}catch{try{T.outerHTML=$d}catch{T.remove()}}},vr=function(T,R){try{ka(z.removed,{attribute:R.getAttributeNode(T),from:R})}catch{ka(z.removed,{attribute:null,from:R})}if(R.removeAttribute(T),"is"===T&&!it[T])if($s||Ru)try{Qr(R)}catch{}else try{R.setAttribute(T,"")}catch{}},Hu=function(T){var R=void 0,ne=void 0;if(Wd)T="<remove></remove>"+T;else{var ht=vu(T,/^[\r\n\t ]+/);ne=ht&&ht[0]}var Lt=qr?qr.createHTML(T):T;if(Ga===On)try{R=(new st).parseFromString(Lt,"text/html")}catch{}if(!R||!R.documentElement){R=Iu.createDocument(Ga,"template",null);try{R.documentElement.innerHTML=ku?"":Lt}catch{}}var Ee=R.body||R.documentElement;return T&&ne&&Ee.insertBefore(ot.createTextNode(ne),Ee.childNodes[0]||null),ja?R.documentElement:Ee},Cg=function(T){return Hs.call(T.ownerDocument||T,T,Mu.SHOW_ELEMENT|Mu.SHOW_COMMENT|Mu.SHOW_TEXT,null,!1)},Zr=function(T){return!(T instanceof Vs||T instanceof Eu||"string"==typeof T.nodeName&&"string"==typeof T.textContent&&"function"==typeof T.removeChild&&T.attributes instanceof gb&&"function"==typeof T.removeAttribute&&"function"==typeof T.setAttribute&&"string"==typeof T.namespaceURI&&"function"==typeof T.insertBefore)},wn=function(T){return"object"===(void 0===Gi?"undefined":Ls(Gi))?T instanceof Gi:T&&"object"===(void 0===T?"undefined":Ls(T))&&"number"==typeof T.nodeType&&"string"==typeof T.nodeName},Yr=function(T,R,ne){!mi[T]||Id(mi[T],function(ht){ht.call(z,R,ne,ts)})},Tg=function(T){var R=void 0;if(Yr("beforeSanitizeElements",T,null),Zr(T)||vu(T.nodeName,/[\u0080-\uFFFF]/))return Qr(T),!0;var ne=Ne(T.nodeName);if(Yr("uponSanitizeElement",T,{tagName:ne,allowedTags:ln}),!wn(T.firstElementChild)&&(!wn(T.content)||!wn(T.content.firstElementChild))&&Ei(/<[/\w]/g,T.innerHTML)&&Ei(/<[/\w]/g,T.textContent))return Qr(T),!0;if(!ln[ne]||Gd[ne]){if(Fu&&!_t[ne]){var ht=xu(T)||T.parentNode,Lt=mg(T)||T.childNodes;if(Lt&&ht)for(var Jt=Lt.length-1;Jt>=0;--Jt)ht.insertBefore(gg(Lt[Jt],!0),Hd(T))}return Qr(T),!0}return T instanceof Gt&&!Vu(T)||("noscript"===ne||"noembed"===ne)&&Ei(/<\/no(script|embed)/i,T.innerHTML)?(Qr(T),!0):(es&&3===T.nodeType&&(R=Gr(R=T.textContent,Pu," "),R=Gr(R,le," "),T.textContent!==R&&(ka(z.removed,{element:T.cloneNode()}),T.textContent=R)),Yr("afterSanitizeElements",T,null),!1)},kt=function(T,R,ne){if(bg&&("id"===R||"name"===R)&&(ne in ot||ne in Kd))return!1;if(!(In&&Ei(oe,R)||Bs&&Ei(jd,R))){if(!it[R]||_g[R])return!1;if(!qd[R]&&!Ei(Ud,Gr(ne,Kr,""))&&("src"!==R&&"xlink:href"!==R&&"href"!==R||"script"===T||0!==cg(ne,"data:")||!wg[T])&&(!yg||Ei(mb,Gr(ne,Kr,"")))&&ne)return!1}return!0},Qd=function(T){var R=void 0,ne=void 0,ht=void 0,Lt=void 0;Yr("beforeSanitizeAttributes",T,null);var Ee=T.attributes;if(Ee){var Jt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:it};for(Lt=Ee.length;Lt--;){var Eo=(R=Ee[Lt]).name,Bu=R.namespaceURI;if(ne=Ns(R.value),ht=Ne(Eo),Jt.attrName=ht,Jt.attrValue=ne,Jt.keepAttr=!0,Jt.forceKeepAttr=void 0,Yr("uponSanitizeAttribute",T,Jt),ne=Jt.attrValue,!Jt.forceKeepAttr&&(vr(Eo,T),Jt.keepAttr)){if(Ei(/\/>/i,ne)){vr(Eo,T);continue}es&&(ne=Gr(ne,Pu," "),ne=Gr(ne,le," "));var Eg=T.nodeName.toLowerCase();if(kt(Eg,ht,ne))try{Bu?T.setAttributeNS(Bu,Eo,ne):T.setAttribute(Eo,ne),Fs(z.removed)}catch{}}}Yr("afterSanitizeAttributes",T,null)}},Mg=function ue(T){var R=void 0,ne=Cg(T);for(Yr("beforeSanitizeShadowDOM",T,null);R=ne.nextNode();)Yr("uponSanitizeShadowNode",R,null),!Tg(R)&&(R.content instanceof zt&&ue(R.content),Qd(R));Yr("afterSanitizeShadowDOM",T,null)};return z.sanitize=function(ue,T){var R=void 0,ne=void 0,ht=void 0,Lt=void 0,Ee=void 0;if((ku=!ue)&&(ue="\x3c!--\x3e"),"string"!=typeof ue&&!wn(ue)){if("function"!=typeof ue.toString)throw bu("toString is not a function");if("string"!=typeof(ue=ue.toString()))throw bu("dirty is not a string, aborting")}if(!z.isSupported){if("object"===Ls(X.toStaticHTML)||"function"==typeof X.toStaticHTML){if("string"==typeof ue)return X.toStaticHTML(ue);if(wn(ue))return X.toStaticHTML(ue.outerHTML)}return ue}if(Si||ns(T),z.removed=[],"string"==typeof ue&&(za=!1),!za)if(ue instanceof Gi)1===(ne=(R=Hu("\x3c!----\x3e")).ownerDocument.importNode(ue,!0)).nodeType&&"BODY"===ne.nodeName||"HTML"===ne.nodeName?R=ne:R.appendChild(ne);else{if(!$s&&!es&&!ja&&-1===ue.indexOf("<"))return qr&&Ua?qr.createHTML(ue):ue;if(!(R=Hu(ue)))return $s?null:$d}R&&Wd&&Qr(R.firstChild);for(var Jt=Cg(za?ue:R);ht=Jt.nextNode();)3===ht.nodeType&&ht===Lt||Tg(ht)||(ht.content instanceof zt&&Mg(ht.content),Qd(ht),Lt=ht);if(Lt=null,za)return ue;if($s){if(Ru)for(Ee=tt.call(R.ownerDocument);R.firstChild;)Ee.appendChild(R.firstChild);else Ee=R;return vg&&(Ee=Ou.call(Me,Ee,!0)),Ee}var xi=ja?R.outerHTML:R.innerHTML;return es&&(xi=Gr(xi,Pu," "),xi=Gr(xi,le," ")),qr&&Ua?qr.createHTML(xi):xi},z.setConfig=function(ue){ns(ue),Si=!0},z.clearConfig=function(){ts=null,Si=!1},z.isValidAttribute=function(ue,T,R){ts||ns({});var ne=Ne(ue),ht=Ne(T);return kt(ne,ht,R)},z.addHook=function(ue,T){"function"==typeof T&&(mi[ue]=mi[ue]||[],ka(mi[ue],T))},z.removeHook=function(ue){mi[ue]&&Fs(mi[ue])},z.removeHooks=function(ue){mi[ue]&&(mi[ue]=[])},z.removeAllHooks=function(){mi={}},z}()}()}},Rs=>{Rs(Rs.s=930)}]);